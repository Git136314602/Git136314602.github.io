<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Offer-JVM08]]></title>
    <url>%2F2019%2F09%2F04%2FOffer-JVM08%2F</url>
    <content type="text"><![CDATA[å‰‘æŒ‡Offer-08Javaå¤šçº¿ç¨‹ä¸Žå¹¶å‘-åŽŸç†jmmçš„å†…å­˜å¯è§æ€§ä»€ä¹ˆæ˜¯Javaå†…å­˜æ¨¡åž‹ä¸­çš„happens-before Javaå†…å­˜æ¨¡åž‹JMM Javaå†…å­˜æ¨¡åž‹(å³Java Memory Model,ç®€ç§°JMM)æœ¬èº«æ˜¯ä¸€ç§æŠ½è±¡çš„æ¦‚å¿µï¼Œå¹¶ä¸çœŸå®žå­˜åœ¨ï¼Œå®ƒæè¿°çš„æ˜¯ä¸€ç»„è§„åˆ™æˆ–è§„èŒƒï¼Œé€šè¿‡è¿™ç»„è§„èŒƒå®šä¹‰äº†ç¨‹åºä¸­å„ä¸ªå˜é‡ï¼ˆåŒ…æ‹¬å®žä¾‹å­—æ®µï¼Œé™æ€å­—æ®µå’Œæž„æˆæ•°ç»„å¯¹è±¡çš„å…ƒç´ ï¼‰çš„è®¿é—®æ–¹å¼ã€‚ JMMä¸­çš„ä¸»å†…å­˜ å­˜å‚¨Javaå®žä¾‹å¯¹è±¡ åŒ…æ‹¬æˆå‘˜å˜é‡ã€ç±»ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ç­‰ å±žäºŽæ•°æ®å…±äº«çš„åŒºåŸŸï¼Œå¤šçº¿ç¨‹å¹¶å‘æ“ä½œæ—¶ä¼šå¼•å‘çº¿ç¨‹å®‰å…¨é—®é¢˜ JMMä¸­çš„å·¥ä½œå†…å­˜ å­˜å‚¨å½“å‰æ–¹æ³•çš„æ‰€æœ‰æœ¬åœ°å˜é‡ä¿¡æ¯ï¼Œæœ¬åœ°å˜é‡å¯¹å…¶ä»–çº¿ç¨‹ä¸å¯è§ å­—èŠ‚ç è¡Œå·æŒ‡ç¤ºå™¨ï¼ŒNativeæ–¹æ³•ä¿¡æ¯ å±žäºŽçº¿ç¨‹ç§æœ‰æ•°æ®åŒºåŸŸï¼Œä¸å­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜ JMMä¸ŽJavaå†…å­˜åŒºåŸŸåˆ’åˆ†æ˜¯ä¸åŒçš„æ¦‚å¿µå±‚æ¬¡ JMMæè¿°çš„æ˜¯ä¸€ç»„è§„åˆ™ï¼Œå›´ç»•åŽŸå­æ€§ï¼Œæœ‰åºæ€§ï¼Œå¯è§æ€§å±•å¼€ ç›¸ä¼¼ç‚¹ï¼šå­˜åœ¨å…±äº«åŒºåŸŸ(å †ã€æ–¹æ³•æ ˆ)å’Œç§æœ‰åŒºåŸŸ(ç¨‹åºè®¡æ•°å™¨ï¼ŒJVMè™šæ‹Ÿæœºæ ˆã€æœ¬åœ°æ–¹æ³•æ ˆ) ä¸»å†…å­˜ä¸Žå·¥ä½œå†…å­˜çš„æ•°æ®å­˜å‚¨ç±»åž‹ä»¥åŠæ“ä½œæ–¹å¼å½’çº³ æ–¹æ³•é‡Œçš„åŸºæœ¬æ•°æ®ç±»åž‹æœ¬åœ°å˜é‡å°†ç›´æŽ¥å­˜å‚¨åœ¨å·¥ä½œå†…å­˜çš„æ ˆå¸§ç»“æž„ä¸­ã€‚ å¼•ç”¨ç±»åž‹çš„æœ¬åœ°å˜é‡ï¼šå¼•ç”¨å­˜å‚¨åœ¨å·¥ä½œå†…å­˜ä¸­ï¼Œå®žä¾‹å­˜å‚¨åœ¨ä¸»å†…å­˜ä¸­ã€‚ æˆå‘˜å˜é‡ã€staticå˜é‡ã€ç±»ä¿¡æ¯å­˜å‚¨åœ¨ä¸»å†…å­˜ä¸­ã€‚ ä¸»å†…å­˜å…±äº«çš„æ–¹å¼æ˜¯çº¿ç¨‹å„æ‹·è´ä¸€ä»½æ•°æ®åˆ°å·¥ä½œå†…å­˜ï¼Œæ“ä½œå®ŒæˆåŽåˆ·æ–°å›žä¸»å†…å­˜ã€‚ æŒ‡ä»¤é‡æŽ’åºéœ€è¦æ»¡è¶³çš„æ¡ä»¶ åœ¨å•çº¿ç¨‹çŽ¯å¢ƒä¸‹ä¸èƒ½æ”¹å˜ç¨‹åºè¿è¡Œçš„ç»“æžœ å­˜åœ¨æ•°æ®ä¾èµ–å…³ç³»çš„ä¸å…è®¸é‡æŽ’åº æ— æ³•é€šè¿‡happens-beforeåŽŸåˆ™æŽ¨å¯¼å‡ºæ¥çš„ï¼Œæ‰èƒ½è¿›è¡ŒæŒ‡ä»¤çš„é‡æŽ’åº Aæ“ä½œçš„ç»“æžœéœ€è¦å¯¹Bæ“ä½œå¯è§ï¼Œåˆ™Aä¸ŽBå­˜åœ¨happens-beforeå…³ç³» i = 1; //çº¿ç¨‹Aæ‰§è¡Œ j = iï¼›//çº¿ç¨‹Bæ‰§è¡Œ happens-beforeçš„å…«å¤§åŽŸåˆ™ ç¨‹åºæ¬¡åºåŽŸåˆ™ï¼šä¸€ä¸ªçº¿ç¨‹å†…ï¼ŒæŒ‰ç…§ä»£ç é¡ºåºï¼Œä¹¦å†™åœ¨å‰é¢çš„æ“ä½œå…ˆè¡Œå‘ç”ŸäºŽä¹¦å†™åœ¨åŽé¢çš„æ“ä½œï¼› é”å®šè§„åˆ™ï¼šä¸€ä¸ªunLockæ“ä½œå…ˆè¡Œå‘ç”ŸäºŽåŽé¢å¯¹åŒä¸€ä¸ªé”çš„lockæ“ä½œï¼› volatileå˜é‡è§„åˆ™ï¼šå¯¹ä¸€ä¸ªå˜é‡çš„å†™æ“ä½œå…ˆè¡Œå‘ç”ŸäºŽåŽé¢å¯¹è¿™ä¸ªå˜é‡çš„è¯»æ“ä½œï¼› ä¼ é€’è§„åˆ™ï¼šå¦‚æžœæ“ä½œAå…ˆè¡Œå‘ç”ŸäºŽæ“ä½œBï¼Œè€Œæ“ä½œBåˆå…ˆè¡Œå‘ç”ŸäºŽæ“ä½œCï¼Œåˆ™å¯ä»¥å¾—å‡ºæ“ä½œAå…ˆè¡Œå‘ç”ŸäºŽæ“ä½œCï¼› çº¿ç¨‹å¯åŠ¨è§„åˆ™ï¼šThreadå¯¹è±¡çš„start()æ–¹æ³•å…ˆè¡Œå‘ç”ŸäºŽæ­¤çº¿ç¨‹çš„æ¯ä¸€ä¸ªåŠ¨ä½œï¼› çº¿ç¨‹ä¸­æ–­è§„åˆ™ï¼šå¯¹çº¿ç¨‹interrupt()æ–¹æ³•çš„è°ƒç”¨å…ˆè¡Œå‘ç”ŸäºŽè¢«ä¸­æ–­çº¿ç¨‹çš„ä»£ç æ£€æµ‹åˆ°ä¸­æ–­äº‹ä»¶çš„å‘ç”Ÿï¼› çº¿ç¨‹ç»ˆç»“è§„åˆ™ï¼šçº¿ç¨‹ä¸­æ‰€æœ‰çš„æ“ä½œéƒ½å…ˆè¡Œå‘ç”ŸäºŽçº¿ç¨‹çš„ç»ˆæ­¢æ£€æµ‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡Thread.join()æ–¹æ³•ç»“æŸï¼ŒThread.isAlive()çš„è¿”å›žå€¼æ‰‹æ®µæ£€æµ‹åˆ°çº¿ç¨‹å·²ç»ç»ˆæ­¢æ‰§è¡Œï¼› å¯¹è±¡ç»ˆç»“è§„åˆ™ï¼šä¸€ä¸ªå¯¹è±¡çš„åˆå§‹åŒ–å®Œæˆå…ˆè¡Œå‘ç”ŸäºŽä»–çš„finalize()æ–¹æ³•çš„å¼€å§‹ï¼› happens-beforeçš„æ¦‚å¿µ å¦‚æžœä¸¤ä¸ªæ“ä½œä¸æ»¡è¶³ä¸Šè¿°ä»»æ„ä¸€ä¸ªhappens-beforeè§„åˆ™ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªæ“ä½œå°±æ²¡æœ‰é¡ºåºçš„ä¿éšœï¼ŒJVMå¯ä»¥å¯¹è¿™ä¸¤ä¸ªæ“ä½œè¿›è¡Œé‡æŽ’åºï¼› å¦‚æžœæ“ä½œA happens-beforeæ“ä½œBï¼Œé‚£ä¹ˆæ“ä½œAåœ¨å†…å­˜ä¸Šæ‰€åšçš„æ“ä½œå¯¹æ“ä½œBéƒ½æ˜¯å¯è§çš„ 123456789private int value = 0;public void write(int input)&#123; //A value = input;&#125;public int read()&#123; //B return value;&#125;è¿™ä¸€æ®µä»£ç ä¸æ»¡è¶³1.2.3.4è§„åˆ™ï¼Œä¸Ž5.6.7.8æ²¡æœ‰å…³ç³»ï¼Œæ‰€ä»¥ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„å¯ä»¥åŠ å…¥synchronizedé”ï¼Œæˆ–è€…å¯¹valueåŠ å…¥volatile volatileï¼šJVMæä¾›çš„è½»é‡çº§åŒæ­¥æœºåˆ¶ä¿è¯è¢«volatileä¿®é¥°çš„å…±äº«å˜é‡å¯¹æ‰€æœ‰çº¿ç¨‹æ€»æ˜¯å¯è§çš„ ç¦æ­¢æŒ‡ä»¤é‡æŽ’åºä¼˜åŒ– volatileçš„å¯è§æ€§12345678910public class VolatileVisibility&#123; public static volatile int value = 0; public static void increase()&#123; value++; &#125;&#125; //value++,å¤šçº¿ç¨‹æ—¶ï¼Œä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä¸å…·å¤‡åŽŸå­æ€§ï¼Œå®ƒæ˜¯å¯¹å€¼çš„è¯»å–ï¼Œåœ¨å†™å›žä¸€ä¸ªæ–°å€¼ï¼Œå¦‚æžœåœ¨è¿™ä¸ªæœŸé—´ï¼Œæœ‰ä¸€ä¸ªçº¿ç¨‹ä¸€èµ·çœ‹åˆ°è¿™ä¸ªå€¼ï¼Œå°±ä¼šåŒæ—¶å¯¹valueè¿›è¡Œ+1ï¼Œå€¼åªåŠ äº†1ï¼Œä¸æ˜¯2.public class VolatileVisibility&#123; public static volatile int value = 0; public synchronized static void increase()&#123; value++; &#125;&#125; 12345public class VolatileSafe&#123; volatile boolean shutdownï¼› public void closeï¼ˆï¼‰&#123; shutdown=trueï¼›&#125;&#125; //ç”±äºŽshutdown=trueï¼›æœ‰åŽŸå­æ€§ï¼Œæ‰€ä»¥volatileçº¿ç¨‹æ—¶å®‰å…¨çš„ volationå˜é‡ä¸ºä½•ç«‹å³å¯è§ï¼Ÿ å½“å†™ä¸€ä¸ªvolatileå˜é‡æ—¶ï¼ŒJMMä¼šæŠŠè¯¥çº¿ç¨‹å¯¹åº”çš„å·¥ä½œå†…å­˜ä¸­çš„å…±äº«å˜é‡å€¼åˆ·æ–°åˆ°ä¸»å†…å­˜ä¸­ï¼› å½“è¯»å–ä¸€ä¸ªvolatileå˜é‡æ—¶ï¼ŒJMMä¼šæŠŠè¯¥çº¿ç¨‹å¯¹ç›¸åº”çš„å·¥ä½œå†…å­˜ç½®ä¸ºæ— æ•ˆï¼Œçº¿ç¨‹åªèƒ½ä»Žä¸»å†…å­˜é‡æ–°è¯»å–å˜é‡ï¼Œèµ·åˆ°åˆ·æ–°ä½œç”¨ã€‚ volatileå¦‚ä½•ç¦æ­¢é‡æŽ’ä¼˜åŒ–å†…å­˜å±éšœï¼ˆMemory Barrierï¼‰ 1.ä¿è¯ç‰¹å®šæ“ä½œçš„æ‰§è¡Œé¡ºåº é€šè¿‡æ’å…¥å†…å­˜å±éšœæŒ‡ä»¤ç¦æ­¢åœ¨å†…å­˜å±éšœå‰åŽçš„æŒ‡ä»¤æ‰§è¡Œé‡æŽ’åºä¼˜åŒ–ã€‚ 2.ä¿è¯æŸäº›å˜é‡çš„å†…å­˜å¯è§æ€§ å¼ºåˆ¶åˆ·å‡ºå„ç§CPUçš„ç¼“å­˜æ•°æ®ï¼Œå› æ­¤ä»»ä½•CPUä¸Šçš„çº¿ç¨‹éƒ½èƒ½è¯»å–åˆ°è¿™äº›æ•°æ®çš„æœ€æ–°ç‰ˆæœ¬ å®žçŽ°çº¿ç¨‹å®‰å…¨çš„å•ä¾‹å†™æ³•ï¼šå•åˆ©çš„åŒé‡æ£€æµ‹å®žçŽ°1234567891011121314151617public class Singleton&#123; private volatile static Singleton instance; private Singleton()&#123;&#125; public static Singleton getInstance()&#123; //ç¬¬ä¸€æ¬¡æ£€æµ‹ if(instance == null)&#123; //åŒæ­¥ synchronized (Singleton.class)&#123; if(instance == null)&#123; //å¤šçº¿ç¨‹çŽ¯å¢ƒä¸‹å¯èƒ½ä¼šå‡ºçŽ°é—®é¢˜çš„åœ°æ–¹ instance = new Singleton(); &#125; &#125; &#125; return instance; &#125;&#125; volatileå’Œsynchronizedçš„åŒºåˆ« volatileæœ¬è´¨æ˜¯åœ¨å‘Šè¯‰JVMå½“å‰å˜é‡åœ¨å¯„å­˜å™¨(å·¥ä½œå†…å­˜ï¼‰ä¸­çš„å€¼æ˜¯ä¸ç¡®å®šçš„ï¼Œéœ€è¦ä»Žä¸»å­˜ä¸­è¯»å–ï¼›synchronizedåˆ™æ˜¯é”å®šå½“å‰å˜é‡ï¼Œåªæœ‰å½“å‰çº¿ç¨‹å¯ä»¥è®¿é—®è¯¥å˜é‡ï¼Œå…¶ä»–çº¿ç¨‹è¢«é˜»å¡žä½ç›´åˆ°è¯¥çº¿ç¨‹å®Œæˆå˜é‡æ“ä½œä¸ºæ­¢ã€‚ volatileä»…èƒ½ä½¿ç”¨åœ¨å˜é‡çº§åˆ«ï¼›synchronizedåˆ™å¯ä»¥ä½¿ç”¨åœ¨å˜é‡ã€æ–¹æ³•ã€ç±»çº§åˆ«ã€‚ volatileä»…èƒ½å®žçŽ°å˜é‡çš„ä¿®æ”¹å¯è§æ€§ï¼Œä¸èƒ½ä¿è¯åŽŸå­æ€§ï¼›è€Œsynchronizedåˆ™å¯ä»¥ä¿è¯å˜é‡ä¿®æ”¹çš„å¯è§æ€§å’ŒåŽŸå­æ€§ volatileä¸ä¼šé€ æˆçº¿ç¨‹çš„é˜»å¡žï¼›synchronizedå¯èƒ½ä¼šé€ æˆçº¿ç¨‹çš„é˜»å¡žï¼› volatileæ ‡è®°çš„å˜é‡ä¸ä¼šè¢«ç¼–è¯‘å™¨ä¼˜åŒ–ï¼›synchronizedæ ‡è®°çš„å˜é‡å¯ä»¥è¢«ç¼–è¯‘å™¨ä¼˜åŒ– CASï¼ˆCompare and Swapï¼‰ ä¸€ç§é«˜æ•ˆå®žçŽ°çº¿ç¨‹å®‰å…¨æ€§çš„æ–¹æ³• æ”¯æŒåŽŸå­æ›´æ–°æ“ä½œï¼Œé€‚ç”¨äºŽè®¡æ•°å™¨ï¼Œåºåˆ—å‘ç”Ÿå™¨ï¼ˆç»™å˜é‡è‡ªå¢žçš„å·¥å…·ï¼‰ç­‰åœºæ™¯ å±žäºŽä¹è§‚é”æœºåˆ¶ï¼Œå·ç§°lock-free CASæ“ä½œå¤±è´¥æ—¶ç”±å¼€å‘è€…å†³å®šæ˜¯ç»§ç»­å°è¯•ï¼Œè¿˜æ˜¯æ‰§è¡Œåˆ«çš„æ“ä½œ CASæ€æƒ³åŒ…å«ä¸‰ä¸ªæ“ä½œæ•° â€“ å†…å­˜ä½ç½®ï¼ˆVã€å³ä¸»å†…å­˜çš„å€¼ï¼‰ã€é¢„æœŸåŽŸå€¼ï¼ˆAï¼‰å’Œæ–°å€¼ï¼ˆBï¼‰ å°†Vä¸ŽAç›¸æ¯”è¾ƒï¼Œå¦‚æžœåŒ¹é…ï¼Œåˆ™å°†è¯¥ä½ç½®çš„å€¼æ›´æ–°ä¸ºB CASå¤šæ•°æƒ…å†µä¸‹å¯¹å¼€å‘è€…æ¥è¯´æ˜¯é€æ˜Žçš„ J.U.Cçš„atomicåŒ…æä¾›äº†å¸¸ç”¨çš„åŽŸå­æ€§æ•°æ®ç±»åž‹ä»¥åŠå¼•ç”¨ã€æ•°ç»„ç­‰ç›¸å…³åŽŸå­ç±»åž‹å’Œæ›´æ–°æ“ä½œå·¥å…·ï¼Œæ˜¯å¾ˆå¤šçº¿ç¨‹å®‰å…¨ç¨‹åºçš„é¦–é€‰ Unsafeç±»è™½æä¾›CASæœåŠ¡ï¼Œä½†å› èƒ½å¤Ÿæ“çºµä»»æ„å†…å­˜åœ°å€è¯»å†™è€Œæœ‰éšæ‚£ Java9ä»¥åŽï¼Œå¯ä»¥ä½¿ç”¨Variable Handle APIæ¥ä»£æ›¿Unsafe ç¼ºç‚¹è‹¥å¾ªçŽ¯æ—¶é—´é•¿ï¼Œåˆ™å¼€é”€å¾ˆå¤§ åªèƒ½ä¿è¯ä¸€ä¸ªå…±äº«å˜é‡çš„åŽŸå­æ“ä½œ ABAé—®é¢˜ï¼ˆA-&gt;B-&gt;Aï¼‰CASç¬¬ä¸€æ¬¡Aï¼Œç¬¬äºŒæ¬¡Aï¼›ä¼šè®¤ä¸ºæœŸé—´æ²¡æœ‰æ”¹å˜ï¼›è§£å†³ï¼šAtomicStampedReferenceï¼ŒæŽ§åˆ¶å˜é‡ç‰ˆæœ¬æ¥ä¿æŒæ­£ç¡®æ€§ã€‚]]></content>
      <categories>
        <category>Offer</category>
      </categories>
      <tags>
        <tag>å‰‘æŒ‡Offer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Offer-JVM07]]></title>
    <url>%2F2019%2F09%2F04%2FOffer-JVM07%2F</url>
    <content type="text"><![CDATA[å‰‘æŒ‡Offer-07Javaå¤šçº¿ç¨‹ä¸Žå¹¶å‘-åŽŸç†synchronizedçº¿ç¨‹å®‰å…¨é—®é¢˜çš„ä¸»è¦è¯±å›  å­˜åœ¨å…±äº«æ•°æ®ï¼ˆä¹Ÿç§°ä¸´ç•Œèµ„æºï¼‰ å­˜åœ¨å¤šæ¡çº¿ç¨‹å…±åŒæ“ä½œè¿™äº›å…±äº«æ•°æ® è§£å†³é—®é¢˜çš„æ ¹æœ¬æ–¹æ³•ï¼š åŒä¸€æ—¶åˆ»æœ‰ä¸”åªæœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨æ“ä½œå…±äº«æ•°æ®ï¼Œå…¶ä»–çº¿ç¨‹å¿…é¡»ç­‰åˆ°è¯¥çº¿ç¨‹å¤„ç†å®Œæ•°æ®åŽå†å¯¹å…±äº«æ•°æ®è¿›è¡Œæ“ä½œã€‚ äº’æ–¥é”çš„ç‰¹æ€§ï¼š äº’æ–¥æ€§ï¼šåœ¨åŒä¸€æ—¶é—´åªå…è®¸ä¸€ä¸ªçº¿ç¨‹æŒæœ‰æŸä¸ªå¯¹è±¡é”ï¼Œé€šè¿‡è¿™ç§ç‰¹æ€§æ¥å®žçŽ°å¤šçº¿ç¨‹çš„åè°ƒæœºåˆ¶ï¼Œè¿™æ ·åœ¨åŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªçº¿ç¨‹å¯¹éœ€è¦åŒæ­¥çš„ä»£ç å—ï¼ˆå¤åˆæ“ä½œï¼‰è¿›è¡Œè®¿é—®ã€‚äº’æ–¥æ€§ä¹Ÿç§°ä¸ºæ“ä½œçš„åŽŸå­æ€§ã€‚ å¯è§æ€§ï¼šå¿…é¡»ç¡®ä¿åœ¨é”è¢«é‡Šæ”¾ä¹‹å‰ï¼Œå¯¹å…±äº«å˜é‡æ‰€åšçš„ä¿®æ”¹ ï¼Œå¯¹äºŽéšåŽèŽ·å¾—è¯¥é”çš„å¦ä¸€ä¸ªçº¿ç¨‹æ˜¯å¯è§çš„ï¼ˆå³åœ¨èŽ·å¾—é”æ—¶åº”èŽ·å¾—æœ€æ–°å…±äº«å˜é‡çš„å€¼ï¼‰ï¼Œå¦åˆ™å¦ä¸€ä¸ªçº¿ç¨‹å¯èƒ½æ˜¯åœ¨æœ¬åœ°ç¼“å­˜çš„æŸä¸ªå‰¯æœ¬ä¸Šç»§ç»­æ“ä½œï¼Œä»Žè€Œå¼•èµ·ä¸ä¸€è‡´ã€‚ synchronizedé”çš„ä¸æ˜¯ä»£ç ï¼Œé”çš„æ˜¯å¯¹è±¡ æ ¹æ®èŽ·å–é”çš„åˆ†ç±»ï¼šèŽ·å–å¯¹è±¡é”å’ŒèŽ·å–ç±»é” èŽ·å–å¯¹è±¡é”çš„ä¸¤ç§ç”¨æ³•: åŒæ­¥ä»£ç å—ï¼ˆsynchronized(this),synchronized(ç±»å®žä¾‹å¯¹è±¡)ï¼‰ï¼Œé”æ˜¯å°æ‹¬å·ï¼ˆï¼‰ä¸­çš„å®žä¾‹å¯¹è±¡ã€‚ åŒæ­¥éžé™æ€æ–¹æ³•ï¼ˆsynchronized methodï¼‰ï¼Œé”æ˜¯å½“å‰å¯¹è±¡çš„å®žä¾‹å¯¹è±¡ åŒä¸€ä¸ªç±»ä¸åŒå¯¹è±¡çš„å¯¹è±¡é”æ˜¯äº’ä¸å¹²æ‰°çš„ã€‚ èŽ·å–ç±»é”çš„ä¸¤ç§æ–¹æ³•ï¼š åŒæ­¥ä»£ç å—ï¼ˆsynchronizedï¼ˆç±».classï¼‰ï¼‰ï¼Œé”æ˜¯å°æ‹¬å·()ä¸­çš„ç±»å¯¹è±¡ï¼ˆClasså¯¹è±¡ï¼‰ åŒæ­¥é™æ€æ–¹æ³•ï¼ˆsynchronized static methodï¼‰ï¼Œé”æ˜¯å½“å‰å¯¹è±¡çš„ç±»å¯¹è±¡ï¼ˆclasså¯¹è±¡ï¼‰ åŒä¸€ä¸ªç±»çš„ç±»é”æ˜¯ä¾ç„¶æŒ‰ç…§é¡ºåºæ‰§è¡Œã€‚ åŒä¸€ä¸ªç±»çš„ç±»é”å’Œå¯¹è±¡é”æ˜¯äº’ä¸å¹²æ‰°çš„ å¯¹è±¡é”å’Œç±»é”çš„æ€»ç»“ï¼š 1.æœ‰çº¿ç¨‹è®¿é—®å¯¹è±¡çš„åŒæ­¥ä»£ç å—æ—¶ï¼Œå¦å¤–çš„çº¿ç¨‹å¯ä»¥è®¿é—®è¯¥å¯¹è±¡çš„éžåŒæ­¥ä»£ç å—ã€‚ 2.è‹¥é”ä½çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œä¸€ä¸ªçº¿ç¨‹åœ¨è®¿é—®å¯¹è±¡çš„åŒæ­¥ä»£ç å—æ—¶ï¼Œå¦ä¸€ä¸ªè®¿é—®å¯¹è±¡çš„åŒæ­¥ä»£ç å—çš„çº¿ç¨‹ä¼šè¢«é˜»å¡žã€‚ 3.è‹¥é”ä½çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œä¸€ä¸ªçº¿ç¨‹åœ¨è®¿é—®å¯¹è±¡çš„åŒæ­¥æ–¹æ³•æ—¶ï¼Œå¦ä¸€ä¸ªè®¿é—®å¯¹è±¡åŒæ­¥æ–¹æ³•çš„çº¿ç¨‹ä¼šè¢«é˜»å¡žã€‚ 4.è‹¥é”ä½çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œä¸€ä¸ªçº¿ç¨‹åœ¨è®¿é—®å¯¹è±¡çš„åŒæ­¥ä»£ç å—æ—¶ï¼Œå¦ä¸€ä¸ªè®¿é—®å¯¹è±¡åŒæ­¥æ–¹æ³•çš„çº¿ç¨‹ä¼šè¢«é˜»å¡žã€‚ 5.åŒä¸€ä¸ªç±»çš„ä¸åŒå¯¹è±¡çš„å¯¹è±¡é”äº’ä¸å¹²æ‰° 6.ç±»é”ç”±äºŽä¹Ÿæ˜¯ä¸€ç§ç‰¹æ®Šçš„å¯¹è±¡é”ï¼Œå› æ­¤è¡¨çŽ°å’Œä¸Šè¿°çš„1.2.3.4ä¸€è‡´ï¼Œè€Œç”±äºŽä¸€ä¸ªç±»åªæœ‰ä¸€æŠŠå¯¹è±¡é”ï¼Œæ‰€ä»¥åŒä¸€ä¸ªç±»çš„ä¸åŒå¯¹è±¡ä½¿ç”¨ç±»é”å°†ä¼šæ˜¯åŒæ­¥çš„ã€‚ 7.ç±»é”å’Œå¯¹è±¡é”äº’ä¸å¹²æ‰° synchronizedåº•å±‚å®žçŽ°åŽŸç†å®žçŽ°synchronizedçš„åŸºç¡€ Javaå¯¹è±¡å¤´ Monitor å¯¹è±¡åœ¨å†…å­˜ä¸­çš„å¸ƒå±€ï¼šå¯¹è±¡å¤´ã€å®žä¾‹æ•°æ®ã€å¯¹é½å¡«å…… å¯¹è±¡å¤´çš„ç»“æž„ï¼š è™šæ‹Ÿæœºä½æ•° å¤´å¯¹è±¡ç»“æž„ è¯´æ˜Ž 32/64 bit Mark Word é»˜è®¤å­˜å‚¨å¯¹è±¡çš„hasCodeï¼Œåˆ†ä»£å¹´é¾„ï¼Œé”ç±»åž‹ï¼Œé”æ ‡å¿—ä½ç­‰ä¿¡æ¯ï¼Œå®žçŽ°è½»é‡çº§é”å’Œåå‘é”çš„å…³é”® 32/64 bit Class Metadata Address ç±»åž‹æŒ‡é’ˆæŒ‡å‘å¯¹è±¡çš„ç±»å…ƒæ•°æ®ï¼ŒJVMé€šè¿‡è¿™ä¸ªæŒ‡é’ˆç¡®å®šè¯¥å¯¹è±¡æ˜¯å“ªä¸ªç±»çš„æ•°æ® Monitor: æ¯ä¸ªJavaå¯¹è±¡å¤©ç”Ÿè‡ªå¸¦äº†ä¸€æŠŠçœ‹ä¸è§çš„é” C++å®žçŽ°çš„ çº¿ç¨‹å¯¹è±¡è¿›å…¥_EntryListæ–¹æ³•ï¼ŒèŽ·å–åˆ°çº¿ç¨‹åŽï¼Œè¿›å…¥_owneræ–¹æ³•,å°†ownerè®¾ç½®ä¸ºå½“å‰çº¿ç¨‹ï¼Œå¹¶ä¸”count+1ï¼Œçº¿ç¨‹è°ƒç”¨waitæ–¹æ³•æ—¶ï¼Œè¿›å…¥waitSetæ–¹æ³•ï¼Œownerå˜ä¸ºnullï¼Œcount-1ã€‚ ä»€ä¹ˆæ˜¯é‡å…¥ï¼š ä»Žäº’æ–¥é”çš„è®¾è®¡ä¸Šæ¥è¯´ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹è¯•å›¾æ“ä½œä¸€ä¸ªç”±å…¶ä»–çº¿ç¨‹æŒæœ‰çš„å¯¹è±¡é”ä¸´ç•Œèµ„æºæ—¶ï¼Œå°†ä¼šå¤„äºŽé˜»å¡žçŠ¶æ€ï¼Œä½†å½“ä¸€ä¸ªçº¿ç¨‹å†æ¬¡è¯·æ±‚è‡ªå·±æŒæœ‰å¯¹è±¡é”çš„ä¸´ç•Œèµ„æºæ—¶ï¼Œå°±å±žäºŽé‡å…¥ã€‚è¯·æ±‚å°†ä¼šæˆåŠŸã€‚ ä¸ºä»€ä¹ˆå¼€å§‹å¯¹synchronizedå—¤ä¹‹ä»¥é¼» æ—©æœŸç‰ˆæœ¬ä¸­ï¼Œsynchronizedå±žäºŽé‡é‡çº§é”ï¼Œä¾èµ–äºŽMutex Lockå®žçŽ° çº¿ç¨‹ä¹‹é—´çš„åˆ‡æ¢éœ€è¦ä»Žç”¨æˆ·æ€è½¬æ¢åˆ°æ ¸å¿ƒæ€ï¼Œå¼€é”€å¤§ Java6ä»¥åŽï¼Œsynchronizedæ€§èƒ½å¾—åˆ°äº†å¾ˆå¤§æå‡ã€‚ Adaptive Spinning Lock Eliminate Lock Coarsening Lightweight Locking Biased Locking æ›´é«˜æ•ˆçš„å…±äº«æ•°æ®ï¼Œè§£å†³ç«žäº‰é—®é¢˜ï¼Œæé«˜æ•ˆçŽ‡ è‡ªæ—‹é”ä¸Žè‡ªé€‚åº”è‡ªæ—‹é” è‡ªæ—‹é”ï¼š è®¸å¤šæƒ…å†µä¸‹ï¼Œå…±äº«æ•°æ®çš„é”å®šçŠ¶æ€æŒç»­æ—¶é—´è¾ƒçŸ­ï¼Œåˆ‡æ¢çº¿ç¨‹ä¸å€¼å¾— é€šè¿‡è®©çº¿ç¨‹æ‰§è¡Œå¿™å¾ªçŽ¯ï¼ˆç±»ä¼¼äºŽwhileï¼ˆtrueï¼‰ï¼‰ç­‰å¾…é”çš„é‡Šæ”¾ï¼Œä¸è®©å‡ºCPU ç¼ºç‚¹ï¼šè‹¥é”è¢«å…¶ä»–çº¿ç¨‹é•¿æ—¶é—´å ç”¨ï¼Œä¼šå¸¦æ¥è®¸å¤šæ€§èƒ½ä¸Šçš„å¼€é”€ã€‚ å¯ç”¨PreBlockSpinä¿®æ”¹ è‡ªé€‚åº”è‡ªæ—‹é”ï¼š è‡ªæ—‹çš„æ¬¡æ•°ä¸å†å›ºå®š ç”±å‰ä¸€æ¬¡åœ¨åŒä¸€ä¸ªé”ä¸Šçš„è‡ªæ—‹æ—¶é—´åŠé”çš„æ‹¥æœ‰è€…çš„çŠ¶æ€æ¥å†³å®š é”æ¶ˆé™¤ï¼š æ›´å½»åº•çš„ä¼˜åŒ–ï¼š JITç¼–è¯‘æ—¶ï¼Œå¯¹è¿è¡Œä¸Šä¸‹æ–‡è¿›è¡Œæ‰«æï¼ŒåŽ»é™¤ä¸å¯èƒ½å­˜åœ¨ç«žäº‰çš„é”ï¼ˆæå‡ç¨‹åºçš„æ€§èƒ½ï¼‰ é”ç²—åŒ–ï¼š å¦‚æžœå­˜åœ¨ä¸€ç³»åˆ—æ“ä½œå¯¹åŒä¸€ä¸ªå¯¹è±¡åå¤åŠ é”æˆ–å‡é” å¦ä¸€ç§æžç«¯ï¼š é€šè¿‡æ‰©å¤§åŠ é”çš„èŒƒå›´ï¼Œé¿å…åå¤åŠ é”æˆ–è§£é” synchronizedçš„å››ç§çŠ¶æ€ï¼š æ— é”ã€åå‘é”ã€è½»é‡çº§é”ã€é‡é‡çº§é” â€”â€”â€”â€”-&gt;é”è†¨èƒ€çš„æ–¹å‘â€”â€”â€”â€”â€”&gt; åå‘é”ï¼š å‡å°‘åŒä¸€çº¿ç¨‹èŽ·å–é”çš„ä»£ä»· å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œé”ä¸å­˜åœ¨å¤šçº¿ç¨‹ç«žäº‰ï¼Œæ€»æ˜¯ç”±åŒä¸€çº¿ç¨‹å¤šæ¬¡èŽ·å¾— æ ¸å¿ƒæ€æƒ³ï¼šå¦‚æžœä¸€ä¸ªçº¿ç¨‹èŽ·å¾—äº†é”ï¼Œé‚£ä¹ˆé”å°±è¿›å…¥åå‘æ¨¡å¼ï¼Œæ­¤æ—¶MarkWordçš„ç»“æž„ä¹Ÿå˜ä¸ºåå‘é”ç»“æž„ï¼Œå½“è¯¥çº¿ç¨‹å†æ¬¡è¯·æ±‚é”æ—¶ï¼Œæ— éœ€å†åšä»»ä½•åŒæ­¥æ“ä½œ,å³èŽ·å–é”çš„è¿‡ç¨‹åªéœ€è¦æ£€æŸ¥MarkWordçš„é”æ ‡è®°ä½ä¸ºåå‘é”ä»¥åŠå½“å‰çº¿ç¨‹IDç­‰äºŽMarkWordçš„ThreadIDå³å¯ï¼Œè¿™æ ·å°±çœåŽ»äº†å¤§é‡æœ‰å…³é”ç”³è¯·çš„æ“ä½œã€‚ ä¸é€‚åˆç”¨äºŽé”ç«žäº‰æ¯”è¾ƒæ¿€çƒˆçš„å¤šçº¿ç¨‹åœºåˆã€‚ è½»é‡çº§é”ï¼š è½»é‡çº§é”æ˜¯ç”±åå‘é”å‡çº§æ¥çš„ï¼Œåå‘é”è¿è¡Œåœ¨ä¸€ä¸ªçº¿ç¨‹è¿›å…¥åŒæ­¥å—çš„æƒ…å†µä¸‹ï¼Œå½“ç¬¬äºŒä¸ªçº¿ç¨‹è¿›å…¥é”äº‰ç”¨çš„æ—¶å€™ï¼Œåå‘é”å°±ä¼šå‡çº§ä¸ºè½»é‡çº§é”ã€‚ é€‚åº”çš„åœºæ™¯ï¼šçº¿ç¨‹äº¤æ›¿æ‰§è¡ŒåŒæ­¥å— è‹¥å­˜åœ¨åŒä¸€æ—¶é—´è®¿é—®åŒä¸€é”çš„æƒ…å†µï¼Œå°±ä¼šå¯¼è‡´è½»é‡çº§é”è†¨èƒ€ä¸ºé‡é‡çº§é”ã€‚ é”çš„å†…å­˜è¯­ä¹‰ï¼šå½“çº¿ç¨‹é‡Šæ”¾é”æ—¶ï¼ŒJavaå†…å­˜æ¨¡åž‹ä¼šæŠŠçº¿ç¨‹å¯¹åº”çš„æœ¬åœ°å†…å­˜ä¸­çš„å…±äº«åˆ·æ–°åˆ°ä¸»å†…å­˜ä¸­ï¼› è€Œå½“çº¿ç¨‹èŽ·å–é”æ—¶ï¼ŒJavaå†…å­˜æ¨¡åž‹ä¼šæŠŠè¯¥çº¿ç¨‹å¯¹åº”çš„æœ¬åœ°å†…å­˜ç½®äºŽæ— æ•ˆï¼Œä»Žè€Œä½¿å¾—è¢«ç›‘è§†ä¿æŠ¤çš„ä¸´ç•ŒåŒºä»£ç å¿…é¡»ä»Žä¸»å†…å­˜ä¸­è¯»å–å…±äº«å˜é‡ã€‚ Synchronizedåº•å±‚å®žçŽ°åŽŸç†2 éœ€è¦é‡å¤ç†è§£synchronizedå’ŒReentrantLockçš„åŒºåˆ«ReentrantLock(å†å…¥é”) ä½äºŽjava.util.concurrent.locksåŒ… å’ŒCountDownLatchã€FutureTaskã€Semaphoreä¸€æ ·åŸºäºŽAQSå®žçŽ° èƒ½å¤Ÿå®žçŽ°æ¯”synchronizedæ›´ç»†ç²’åº¦çš„æŽ§åˆ¶ï¼Œå¦‚æŽ§åˆ¶fairness è°ƒç”¨lock()ä¹‹åŽï¼Œå¿…é¡»è°ƒç”¨unlock()é‡Šæ”¾é” æ€§èƒ½æœªå¿…æ¯”synchronizedé«˜ï¼Œå¹¶ä¸”ä¹Ÿæ˜¯å¯é‡å…¥çš„ ReentrantLockå…¬å¹³æ€§çš„è®¾ç½® ReentrantLock fairLock = new ReentrantLock(true); å‚æ•°ä¸ºtrueæ—¶ï¼Œå€¾å‘äºŽå°†é”èµ‹äºˆç­‰å¾…æ—¶é—´æœ€ä¹…çš„çº¿ç¨‹ å…¬å¹³é”ï¼šèŽ·å–é”çš„é¡ºåºæŒ‰å…ˆåŽè°ƒç”¨lockæ–¹æ³•çš„é¡ºåºï¼ˆæ…Žç”¨ï¼‰ éžå…¬å¹³é”ï¼šæŠ¢å çš„é¡ºåºä¸ä¸€å®šï¼Œçœ‹è¿æ°” synchronizedæ˜¯éžå…¬å¹³é” ReentrantLockå°†é”å¯¹è±¡åŒ– åˆ¤æ–­æ˜¯å¦æœ‰çº¿ç¨‹ï¼Œæˆ–è€…æŸä¸ªç‰¹å®šçº¿ç¨‹ï¼Œåœ¨æŽ’é˜Ÿç­‰å¾…èŽ·å–é” å¸¦è¶…æ—¶çš„èŽ·å–é”çš„å°è¯• æ„ŸçŸ¥æœ‰æ²¡æœ‰èŽ·å–åˆ°é” æ˜¯å¦èƒ½å°†wait\notify\notifyAllå¯¹è±¡åŒ– java.util.concurrent.locks.Condition åŒºåˆ«æ€»ç»“ï¼š synchronizedæ˜¯å…³é”®å­—ï¼ŒReentrantLockæ˜¯ç±» ReentrantLockå¯ä»¥å¯¹èŽ·å–é”çš„ç­‰å¾…æ—¶é—´è¿›è¡Œè®¾ç½®ï¼Œé¿å…æ­»é” ReentrantLockå¯ä»¥èŽ·å–å„ç§é”çš„ä¿¡æ¯ ReentrantLockå¯ä»¥çµæ´»åœ°å®žçŽ°å¤šè·¯é€šçŸ¥ æœºåˆ¶ï¼šsyncæ“ä½œMarkWordï¼Œlockè°ƒç”¨Unsafeç±»çš„park()æ–¹æ³•]]></content>
      <categories>
        <category>Offer</category>
      </categories>
      <tags>
        <tag>å‰‘æŒ‡Offer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Offer-Thread06]]></title>
    <url>%2F2019%2F09%2F02%2FOffer-Thread06%2F</url>
    <content type="text"><![CDATA[å‰‘æŒ‡Offer-06Javaå¤šçº¿ç¨‹ä¸Žå¹¶å‘Javaçº¿ç¨‹çŸ¥è¯†è€ƒç‚¹è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ« è¿›ç¨‹æ—¶èµ„æºåˆ†é…çš„æœ€å°å•ä½ï¼Œçº¿ç¨‹æ˜¯CPUè°ƒåº¦çš„æœ€å°å•ä½ æ‰€æœ‰ä¸Žè¿›ç¨‹ç›¸å…³çš„èµ„æºï¼Œéƒ½è¢«è®°å½•åœ¨PCBä¸­ è¿›ç¨‹æ˜¯æŠ¢å å¤„ç†æœºçš„è°ƒåº¦å•ä½ï¼›çº¿ç¨‹å±žäºŽæŸä¸ªè¿›ç¨‹ï¼Œå…±äº«å…¶èµ„æº çº¿ç¨‹åªç”±å †æ ˆå¯„å­˜å™¨ã€ç¨‹åºè®¡æ•°å™¨å’Œï¼ˆçº¿ç¨‹æŽ§åˆ¶è¡¨ï¼‰TCBç»„æˆ PCBè®°å½•æè¿°ä¿¡æ¯ã€æŽ§åˆ¶ä¿¡æ¯ã€èµ„æºä¿¡æ¯ï¼ˆç¨‹åºæ®µå’Œæ•°æ®é›†ï¼‰ã€CPUçŽ°åœº çº¿ç¨‹ä¸èƒ½çœ‹ä½œç‹¬ç«‹åº”ç”¨ï¼Œè€Œè¿›ç¨‹å¯ä»¥çœ‹ä½œç‹¬ç«‹åº”ç”¨ è¿›ç¨‹æœ‰ç‹¬ç«‹çš„åœ°å€ç©ºé—´ï¼Œç›¸äº’ä¸å½±å“ï¼Œçº¿ç¨‹åªæ˜¯è¿›ç¨‹çš„ä¸åŒæ‰§è¡Œè·¯å¾„ çº¿ç¨‹æ²¡æœ‰ç‹¬ç«‹çš„åœ°å€ç©ºé—´ï¼Œå¤šè¿›ç¨‹çš„ç¨‹åºæ¯”å¤šçº¿ç¨‹ç¨‹åºå¥å£® è¿›ç¨‹çš„åˆ‡æ¢æ¯”çº¿ç¨‹çš„åˆ‡æ¢å¼€é”€å¤§ Javaè¿›ç¨‹å’Œçº¿ç¨‹çš„å…³ç³» Javaå¯¹æ“ä½œç³»ç»Ÿæä¾›çš„åŠŸèƒ½è¿›è¡Œå°è£…ï¼ŒåŒ…æ‹¬è¿›ç¨‹å’Œçº¿ç¨‹ è¿è¡Œä¸€ä¸ªç¨‹åºä¼šäº§ç”Ÿä¸€ä¸ªè¿›ç¨‹ï¼Œè¿›ç¨‹è‡³å°‘åŒ…å«ä¸€ä¸ªçº¿ç¨‹ æ¯ä¸ªç¨‹åºå¯¹åº”ä¸€ä¸ªJVMå®žä¾‹ï¼Œå¤šä¸ªçº¿ç¨‹å…±äº«JVMé‡Œçš„å † Javaé‡‡ç”¨å•çº¿ç¨‹ç¼–ç¨‹æ¨¡åž‹ï¼Œç¨‹åºä¼šè‡ªåŠ¨åˆ›å»ºä¸»çº¿ç¨‹ ä¸»çº¿ç¨‹å¯ä»¥åˆ›å»ºå­çº¿ç¨‹ï¼ŒåŽŸåˆ™ä¸Šè¦åŽäºŽå­çº¿ç¨‹å®Œæˆæ‰§è¡Œ Threadä¸­çš„startå’Œrunæ–¹æ³•çš„åŒºåˆ« startï¼ˆï¼‰ -&gt; JVM_StartThread(åˆ›å»ºå­çº¿ç¨‹) -&gt; thread_entryï¼ˆè°ƒç”¨runæ–¹æ³•ï¼‰ -&gt; run() è°ƒç”¨startï¼ˆï¼‰æ–¹æ³•ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å­çº¿ç¨‹å¹¶å¯åŠ¨ runï¼ˆï¼‰æ–¹æ³•åªæ˜¯Threadçš„ä¸€ä¸ªæ™®é€šæ–¹æ³•çš„è°ƒç”¨ Threadå’ŒRunnableçš„åŒºåˆ«ï¼ˆå¾…éªŒè¯ï¼‰ Threadæ˜¯å®žçŽ°äº†RunnableæŽ¥å£çš„ç±»ï¼Œä½¿å¾—runæ”¯æŒå¤šçº¿ç¨‹ å› ç±»çš„å•ä¸€ç»§æ‰¿åŽŸåˆ™ï¼ŒæŽ¨èå¤šä½¿ç”¨RunnableæŽ¥å£ï¼Œä¾¿äºŽç»™æ™®é€šç±»é™„ä¸Šå¤šçº¿ç¨‹çš„ç‰¹æ€§ å¦‚ä½•ç»™run()æ–¹æ³•ä¼ å‚ï¼ˆå¾…éªŒè¯ï¼‰ æž„é€ å‡½æ•°ä¼ å‚ æˆå‘˜å˜é‡ä¼ å‚ å›žè°ƒå‡½æ•°ä¼ å‚ å¦‚ä½•å®žçŽ°å¤„ç†çº¿ç¨‹çš„è¿”å›žå€¼ï¼ˆå¾…éªŒè¯ï¼‰ ä¸»çº¿ç¨‹ç­‰å¾…æ³• ä½¿ç”¨Threadç±»çš„join()é˜»å¡žå½“å‰çš„çº¿ç¨‹ä»¥ç­‰å¾…å­çº¿ç¨‹å¤„ç†å®Œæ¯• é€šè¿‡CallableæŽ¥å£å®žçŽ°ï¼šé€šè¿‡FutureTask æˆ–è€… çº¿ç¨‹æ± èŽ·å– çº¿ç¨‹çš„çŠ¶æ€ æ–°å»ºï¼ˆNewï¼‰ï¼šåˆ›å»ºåŽå°šæœªå¯åŠ¨çš„çº¿ç¨‹çš„çŠ¶æ€ è¿è¡Œï¼ˆRunnableï¼‰ï¼šåŒ…å«runningçŠ¶æ€çš„çº¿ç¨‹ï¼ˆåœ¨å¯è¿è¡Œçº¿ç¨‹ä¸­ç­‰å¾…è¢«çº¿ç¨‹é€‰ä¸­ï¼‰ã€readyçŠ¶æ€çš„çº¿ç¨‹(ä½äºŽçº¿ç¨‹æ± ä¸­ï¼ŒèŽ·å¾—æ—¶é—´è¿è¡ŒåŽï¼Œå˜ä¸ºrunningçŠ¶æ€çš„çº¿ç¨‹) æ— é™æœŸç­‰å¾…ï¼ˆWaitingï¼‰ï¼šä¸ä¼šè¢«åˆ†é…CPUæ‰§è¡Œæ—¶é—´ï¼Œéœ€è¦æ˜¾ç¤ºè¢«å”¤é†’ æ²¡æœ‰è®¾ç½®Timeoutå‚æ•°çš„Object.wait()æ–¹æ³• æ²¡æœ‰è®¾ç½®Timeoutå‚æ•°çš„Thread.join()æ–¹æ³• LockSupport.park()æ–¹æ³• é™æœŸç­‰å¾…ï¼ˆTimed Waitingï¼‰ï¼šåœ¨ä¸€å®šæ—¶é—´åŽä¼šç”±ç³»ç»Ÿè‡ªåŠ¨å”¤é†’ thread.sleep()æ–¹æ³• è®¾ç½®äº†Timeoutå‚æ•°çš„Object.wait()æ–¹æ³• è®¾ç½®äº†Timeoutå‚æ•°çš„Thread.join()æ–¹æ³• LockSupport.parkNanosï¼ˆï¼‰æ–¹æ³• LockSupport.parkUntilï¼ˆï¼‰æ–¹æ³• é˜»å¡žï¼ˆBlockedï¼‰ï¼šç­‰å¾…èŽ·å–æŽ’å®ƒé” ç»“æŸï¼ˆTerminatedï¼‰ï¼šå·²ç»ˆæ­¢çº¿ç¨‹çš„çŠ¶æ€ï¼Œçº¿ç¨‹å·²ç»ç»“æŸæ‰§è¡Œ run(),main()æ–¹æ³•ç»“æŸï¼Œæˆ–è€…æœ‰å¼‚å¸¸æŠ›å‡º sleepå’Œwaitçš„åŒºåˆ« sleepæ˜¯Threadç±»çš„æ–¹æ³•ï¼Œwaitæ˜¯Objectç±»çš„æ–¹æ³• sleep()æ–¹æ³•å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨ wait()æ–¹æ³•åªèƒ½åœ¨synchronizedæ–¹æ³•æˆ–synchronizedå—ä¸­ä½¿ç”¨ Thread,sleepåªä¼šè®©å‡ºCPUï¼Œä¸ä¼šå¯¼è‡´é”è¡Œä¸ºçš„æ”¹å˜ Object.waitä¸ä»…è®©å‡ºCPUï¼Œè¿˜ä¼šé‡Šæ”¾å·²ç»å æœ‰çš„åŒæ­¥èµ„æºé” notifyå’ŒnotifyAllçš„åŒºåˆ«ä¸¤ä¸ªæ¦‚å¿µï¼š é”æ± EntryListï¼šå‡è®¾çº¿ç¨‹Aå·²ç»æ‹¥æœ‰äº†æŸä¸ªå¯¹è±¡ï¼ˆä¸æ˜¯ç±»ï¼‰çš„é”ï¼Œè€Œå…¶ä»–çº¿ç¨‹Bã€Cæƒ³è¦è°ƒç”¨è¿™ä¸ªå¯¹è±¡çš„æŸä¸ªsynchronizedæ–¹æ³•ï¼ˆæˆ–è€…å—ï¼‰ï¼Œç”±äºŽBã€Cçº¿ç¨‹åœ¨è¿›å…¥å¯¹è±¡çš„sunchronizedæ–¹æ³•ä¹‹å‰å¿…é¡»å…ˆèŽ·å¾—è¯¥å¯¹è±¡é”çš„æ‹¥æœ‰æƒï¼Œè€Œæ°å·§è¯¥å¯¹è±¡çš„é”ç›®å‰æ­£åœ¨è¢«çº¿ç¨‹Aæ‰€å ç”¨ï¼Œæ­¤æ—¶Bã€Cçº¿ç¨‹å°±ä¼šè¢«é˜»å¡žï¼Œè¿›å…¥ä¸€ä¸ªåœ°æ–¹åŽ»ç­‰å¾…é”çš„é‡Šæ”¾ï¼Œè¿™ä¸ªåœ°æ–¹ä¾¿æ˜¯è¯¥å¯¹è±¡çš„é”æ± ã€‚ ç­‰å¾…æ± WaitSetï¼šå‡è®¾çº¿ç¨‹Aè°ƒç”¨äº†æŸä¸ªå¯¹è±¡çš„wait()æ–¹æ³•ï¼Œçº¿ç¨‹Aå°±ä¼šé‡Šæ”¾è¯¥å¯¹è±¡çš„é”ï¼ŒåŒæ—¶çº¿ç¨‹Aå°±è¿›å…¥åˆ°äº†è¯¥å¯¹è±¡çš„ç­‰å¾…æ± ä¸­ï¼Œè¿›å…¥åˆ°ç­‰å¾…æ± ä¸­çš„çº¿ç¨‹ä¸ä¼šåŽ»ç«žäº‰è¯¥å¯¹è±¡çš„é”ã€‚ notifyAllä¼šè®©æ‰€æœ‰å¤„äºŽç­‰å¾…æ± çš„çº¿ç¨‹å…¨éƒ¨è¿›å…¥é”æ± åŽ»ç«žäº‰èŽ·å–é”çš„æœºä¼š notifyåªä¼šéšæœºé€‰å–ä¸€ä¸ªå¤„äºŽç­‰å¾…æ± ä¸­çš„çº¿ç¨‹è¿›å…¥é”æ± åŽ»ç«žäº‰èŽ·å–é”çš„æœºä¼š yieldå½“è°ƒç”¨Thread.yield()å‡½æ•°æ—¶ï¼Œä¼šç»™çº¿ç¨‹è°ƒåº¦å™¨ä¸€ä¸ªå½“å‰çº¿ç¨‹æ„¿æ„è®©å‡ºCPUä½¿ç”¨çš„æš—ç¤ºï¼Œä½†æ˜¯çº¿ç¨‹è°ƒåº¦å™¨å¯èƒ½ä¼šå¿½ç•¥è¿™ä¸ªæš—ç¤ºã€‚ï¼ˆè°ƒåº¦å™¨ä¹Ÿå¯èƒ½è®©çº¿ç¨‹ç»§ç»­æ‰§è¡Œï¼‰ å¦‚ä½•ä¸­æ–­çº¿ç¨‹å·²ç»è¢«æŠ›å¼ƒçš„æ–¹æ³•ï¼šstop(); suspend();resume(); eg:Açªç„¶ç»ˆæ­¢çº¿ç¨‹Bï¼Œä¸çŸ¥é“Bçš„æ‰§è¡Œæƒ…å†µï¼Œå¯èƒ½æ— æ³•æ¸…ç†ã€‚Bé©¬ä¸Šé‡Šæ”¾é”ï¼Œå¯èƒ½ä¼šé€ æˆçº¿ç¨‹ä¸åŒæ­¥ interrupt()ï¼šé€šçŸ¥çº¿ç¨‹åº”è¯¥ä¸­æ–­äº† å¦‚æžœçº¿ç¨‹å¤„äºŽè¢«é˜»å¡žçŠ¶æ€ï¼Œé‚£ä¹ˆçº¿ç¨‹å°†ç«‹å³é€€å‡ºè¢«é˜»å¡žçŠ¶æ€ï¼Œå¹¶æŠ›å‡ºä¸€ä¸ªInterruptedExceptionå¼‚å¸¸ å¦‚æžœçº¿ç¨‹å¤„äºŽæ­£å¸¸æ´»åŠ¨çŠ¶æ€ï¼Œé‚£ä¹ˆä¼šå°†è¯¥çº¿ç¨‹çš„ä¸­æ–­æ ‡å¿—è®¾ç½®ä¸ºtrueã€‚è¢«è®¾ç½®ä¸­æ–­æ ‡å¿—çš„çº¿ç¨‹å°†ç»§ç»­æ­£å¸¸è¿è¡Œï¼Œä¸å—å½±å“ã€‚ éœ€è¦è¢«è°ƒç”¨çš„çº¿ç¨‹é…åˆä¸­æ–­ åœ¨æ­£å¸¸è¿è¡Œä»»åŠ¡æ—¶ï¼Œç»å¸¸æ£€æŸ¥æœ¬çº¿ç¨‹çš„ä¸­æ–­æ ‡å¿—ä½ï¼Œå¦‚æžœè¢«è®¾ç½®äº†ä¸­æ–­æ ‡å¿—å°±è‡ªè¡Œåœæ­¢çº¿ç¨‹ã€‚ çº¿ç¨‹çŠ¶æ€ä»¥åŠçŠ¶æ€ä¹‹é—´çš„è½¬æ¢ è§ç‰›å®¢ç¬”è®°å †æ ˆå¯„å­˜å™¨ã€ç¨‹åºè®¡æ•°å™¨å’Œï¼ˆçº¿ç¨‹æŽ§åˆ¶è¡¨ï¼‰TCBç»„æˆ PCBè®°å½•æè¿°ä¿¡æ¯ã€æŽ§åˆ¶ä¿¡æ¯ã€èµ„æºä¿¡æ¯ï¼ˆç¨‹åºæ®µå’Œæ•°æ®é›†ï¼‰ã€CPUçŽ°åœº çº¿ç¨‹ä¸èƒ½çœ‹ä½œç‹¬ç«‹åº”ç”¨ï¼Œè€Œè¿›ç¨‹å¯ä»¥çœ‹ä½œç‹¬ç«‹åº”ç”¨ è¿›ç¨‹æœ‰ç‹¬ç«‹çš„åœ°å€ç©ºé—´ï¼Œç›¸äº’ä¸å½±å“ï¼Œçº¿ç¨‹åªæ˜¯è¿›ç¨‹çš„ä¸åŒæ‰§è¡Œè·¯å¾„ çº¿ç¨‹æ²¡æœ‰ç‹¬ç«‹çš„åœ°å€ç©ºé—´ï¼Œå¤šè¿›ç¨‹çš„ç¨‹åºæ¯”å¤šçº¿ç¨‹ç¨‹åºå¥å£® è¿›ç¨‹çš„åˆ‡æ¢æ¯”çº¿ç¨‹çš„åˆ‡æ¢å¼€é”€å¤§ Javaè¿›ç¨‹å’Œçº¿ç¨‹çš„å…³ç³» Javaå¯¹æ“ä½œç³»ç»Ÿæä¾›çš„åŠŸèƒ½è¿›è¡Œå°è£…ï¼ŒåŒ…æ‹¬è¿›ç¨‹å’Œçº¿ç¨‹ è¿è¡Œä¸€ä¸ªç¨‹åºä¼šäº§ç”Ÿä¸€ä¸ªè¿›ç¨‹ï¼Œè¿›ç¨‹è‡³å°‘åŒ…å«ä¸€ä¸ªçº¿ç¨‹ æ¯ä¸ªç¨‹åºå¯¹åº”ä¸€ä¸ªJVMå®žä¾‹ï¼Œå¤šä¸ªçº¿ç¨‹å…±äº«JVMé‡Œçš„å † Javaé‡‡ç”¨å•çº¿ç¨‹ç¼–ç¨‹æ¨¡åž‹ï¼Œç¨‹åºä¼šè‡ªåŠ¨åˆ›å»ºä¸»çº¿ç¨‹ ä¸»çº¿ç¨‹å¯ä»¥åˆ›å»ºå­çº¿ç¨‹ï¼ŒåŽŸåˆ™ä¸Šè¦åŽäºŽå­çº¿ç¨‹å®Œæˆæ‰§è¡Œ Threadä¸­çš„startå’Œrunæ–¹æ³•çš„åŒºåˆ« startï¼ˆï¼‰ -&gt; JVM_StartThread(åˆ›å»ºå­çº¿ç¨‹) -&gt; thread_entryï¼ˆè°ƒç”¨runæ–¹æ³•ï¼‰ -&gt; run() è°ƒç”¨startï¼ˆï¼‰æ–¹æ³•ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å­çº¿ç¨‹å¹¶å¯åŠ¨ runï¼ˆï¼‰æ–¹æ³•åªæ˜¯Threadçš„ä¸€ä¸ªæ™®é€šæ–¹æ³•çš„è°ƒç”¨ Threadå’ŒRunnableçš„åŒºåˆ«ï¼ˆå¾…éªŒè¯ï¼‰ Threadæ˜¯å®žçŽ°äº†RunnableæŽ¥å£çš„ç±»ï¼Œä½¿å¾—runæ”¯æŒå¤šçº¿ç¨‹ å› ç±»çš„å•ä¸€ç»§æ‰¿åŽŸåˆ™ï¼ŒæŽ¨èå¤šä½¿ç”¨RunnableæŽ¥å£ï¼Œä¾¿äºŽç»™æ™®é€šç±»é™„ä¸Šå¤šçº¿ç¨‹çš„ç‰¹æ€§ å¦‚ä½•ç»™run()æ–¹æ³•ä¼ å‚ï¼ˆå¾…éªŒè¯ï¼‰ æž„é€ å‡½æ•°ä¼ å‚ æˆå‘˜å˜é‡ä¼ å‚ å›žè°ƒå‡½æ•°ä¼ å‚ å¦‚ä½•å®žçŽ°å¤„ç†çº¿ç¨‹çš„è¿”å›žå€¼ï¼ˆå¾…éªŒè¯ï¼‰ ä¸»çº¿ç¨‹ç­‰å¾…æ³• ä½¿ç”¨Threadç±»çš„join()é˜»å¡žå½“å‰çš„çº¿ç¨‹ä»¥ç­‰å¾…å­çº¿ç¨‹å¤„ç†å®Œæ¯• é€šè¿‡CallableæŽ¥å£å®žçŽ°ï¼šé€šè¿‡FutureTask æˆ–è€… çº¿ç¨‹æ± èŽ·å– çº¿ç¨‹çš„çŠ¶æ€ æ–°å»ºï¼ˆNewï¼‰ï¼šåˆ›å»ºåŽå°šæœªå¯åŠ¨çš„çº¿ç¨‹çš„çŠ¶æ€ è¿è¡Œï¼ˆRunnableï¼‰ï¼šåŒ…å«runningçŠ¶æ€çš„çº¿ç¨‹ï¼ˆåœ¨å¯è¿è¡Œçº¿ç¨‹ä¸­ç­‰å¾…è¢«çº¿ç¨‹é€‰ä¸­ï¼‰ã€readyçŠ¶æ€çš„çº¿ç¨‹(ä½äºŽçº¿ç¨‹æ± ä¸­ï¼ŒèŽ·å¾—æ—¶é—´è¿è¡ŒåŽï¼Œå˜ä¸ºrunningçŠ¶æ€çš„çº¿ç¨‹) æ— é™æœŸç­‰å¾…ï¼ˆWaitingï¼‰ï¼šä¸ä¼šè¢«åˆ†é…CPUæ‰§è¡Œæ—¶é—´ï¼Œéœ€è¦æ˜¾ç¤ºè¢«å”¤é†’ æ²¡æœ‰è®¾ç½®Timeoutå‚æ•°çš„Object.wait()æ–¹æ³• æ²¡æœ‰è®¾ç½®Timeoutå‚æ•°çš„Thread.join()æ–¹æ³• LockSupport.park()æ–¹æ³• é™æœŸç­‰å¾…ï¼ˆTimed Waitingï¼‰ï¼šåœ¨ä¸€å®šæ—¶é—´åŽä¼šç”±ç³»ç»Ÿè‡ªåŠ¨å”¤é†’ thread.sleep()æ–¹æ³• è®¾ç½®äº†Timeoutå‚æ•°çš„Object.wait()æ–¹æ³• è®¾ç½®äº†Timeoutå‚æ•°çš„Thread.join()æ–¹æ³• LockSupport.parkNanosï¼ˆï¼‰æ–¹æ³• LockSupport.parkUntilï¼ˆï¼‰æ–¹æ³• é˜»å¡žï¼ˆBlockedï¼‰ï¼šç­‰å¾…èŽ·å–æŽ’å®ƒé” ç»“æŸï¼ˆTerminatedï¼‰ï¼šå·²ç»ˆæ­¢çº¿ç¨‹çš„çŠ¶æ€ï¼Œçº¿ç¨‹å·²ç»ç»“æŸæ‰§è¡Œ run(),main()æ–¹æ³•ç»“æŸï¼Œæˆ–è€…æœ‰å¼‚å¸¸æŠ›å‡º sleepå’Œwaitçš„åŒºåˆ« sleepæ˜¯Threadç±»çš„æ–¹æ³•ï¼Œwaitæ˜¯Objectç±»çš„æ–¹æ³• sleep()æ–¹æ³•å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨ wait()æ–¹æ³•åªèƒ½åœ¨synchronizedæ–¹æ³•æˆ–synchronizedå—ä¸­ä½¿ç”¨ Thread,sleepåªä¼šè®©å‡ºCPUï¼Œä¸ä¼šå¯¼è‡´é”è¡Œä¸ºçš„æ”¹å˜ Object.waitä¸ä»…è®©å‡ºCPUï¼Œè¿˜ä¼šé‡Šæ”¾å·²ç»å æœ‰çš„åŒæ­¥èµ„æºé” notifyå’ŒnotifyAllçš„åŒºåˆ« ä¸¤ä¸ªæ¦‚å¿µï¼š é”æ± EntryListï¼šå‡è®¾çº¿ç¨‹Aå·²ç»æ‹¥æœ‰äº†æŸä¸ªå¯¹è±¡ï¼ˆä¸æ˜¯ç±»ï¼‰çš„é”ï¼Œè€Œå…¶ä»–çº¿ç¨‹Bã€Cæƒ³è¦è°ƒç”¨è¿™ä¸ªå¯¹è±¡çš„æŸä¸ªsynchronizedæ–¹æ³•ï¼ˆæˆ–è€…å—ï¼‰ï¼Œç”±äºŽBã€Cçº¿ç¨‹åœ¨è¿›å…¥å¯¹è±¡çš„sunchronizedæ–¹æ³•ä¹‹å‰å¿…é¡»å…ˆèŽ·å¾—è¯¥å¯¹è±¡é”çš„æ‹¥æœ‰æƒï¼Œè€Œæ°å·§è¯¥å¯¹è±¡çš„é”ç›®å‰æ­£åœ¨è¢«çº¿ç¨‹Aæ‰€å ç”¨ï¼Œæ­¤æ—¶Bã€Cçº¿ç¨‹å°±ä¼šè¢«é˜»å¡žï¼Œè¿›å…¥ä¸€ä¸ªåœ°æ–¹åŽ»ç­‰å¾…é”çš„é‡Šæ”¾ï¼Œè¿™ä¸ªåœ°æ–¹ä¾¿æ˜¯è¯¥å¯¹è±¡çš„é”æ± ã€‚ ç­‰å¾…æ± WaitSetï¼šå‡è®¾çº¿ç¨‹Aè°ƒç”¨äº†æŸä¸ªå¯¹è±¡çš„wait()æ–¹æ³•ï¼Œçº¿ç¨‹Aå°±ä¼šé‡Šæ”¾è¯¥å¯¹è±¡çš„é”ï¼ŒåŒæ—¶çº¿ç¨‹Aå°±è¿›å…¥åˆ°äº†è¯¥å¯¹è±¡çš„ç­‰å¾…æ± ä¸­ï¼Œè¿›å…¥åˆ°ç­‰å¾…æ± ä¸­çš„çº¿ç¨‹ä¸ä¼šåŽ»ç«žäº‰è¯¥å¯¹è±¡çš„é”ã€‚ notifyAllä¼šè®©æ‰€æœ‰å¤„äºŽç­‰å¾…æ± çš„çº¿ç¨‹å…¨éƒ¨è¿›å…¥é”æ± åŽ»ç«žäº‰èŽ·å–é”çš„æœºä¼š notifyåªä¼šéšæœºé€‰å–ä¸€ä¸ªå¤„äºŽç­‰å¾…æ± ä¸­çš„çº¿ç¨‹è¿›å…¥é”æ± åŽ»ç«žäº‰èŽ·å–é”çš„æœºä¼š yield å½“è°ƒç”¨Thread.yield()å‡½æ•°æ—¶ï¼Œä¼šç»™çº¿ç¨‹è°ƒåº¦å™¨ä¸€ä¸ªå½“å‰çº¿ç¨‹æ„¿æ„è®©å‡ºCPUä½¿ç”¨çš„æš—ç¤ºï¼Œä½†æ˜¯çº¿ç¨‹è°ƒåº¦å™¨å¯èƒ½ä¼šå¿½ç•¥è¿™ä¸ªæš—ç¤ºã€‚ï¼ˆè°ƒåº¦å™¨ä¹Ÿå¯èƒ½è®©çº¿ç¨‹ç»§ç»­æ‰§è¡Œï¼‰ å¦‚ä½•ä¸­æ–­çº¿ç¨‹ å·²ç»è¢«æŠ›å¼ƒçš„æ–¹æ³•ï¼šstop(); suspend();resume(); eg:Açªç„¶ç»ˆæ­¢çº¿ç¨‹Bï¼Œä¸çŸ¥é“Bçš„æ‰§è¡Œæƒ…å†µï¼Œå¯èƒ½æ— æ³•æ¸…ç†ã€‚Bé©¬ä¸Šé‡Šæ”¾é”ï¼Œå¯èƒ½ä¼šé€ æˆçº¿ç¨‹ä¸åŒæ­¥ interrupt()ï¼šé€šçŸ¥çº¿ç¨‹åº”è¯¥ä¸­æ–­äº† å¦‚æžœçº¿ç¨‹å¤„äºŽè¢«é˜»å¡žçŠ¶æ€ï¼Œé‚£ä¹ˆçº¿ç¨‹å°†ç«‹å³é€€å‡ºè¢«é˜»å¡žçŠ¶æ€ï¼Œå¹¶æŠ›å‡ºä¸€ä¸ªInterruptedExceptionå¼‚å¸¸ å¦‚æžœçº¿ç¨‹å¤„äºŽæ­£å¸¸æ´»åŠ¨çŠ¶æ€ï¼Œé‚£ä¹ˆä¼šå°†è¯¥çº¿ç¨‹çš„ä¸­æ–­æ ‡å¿—è®¾ç½®ä¸ºtrueã€‚è¢«è®¾ç½®ä¸­æ–­æ ‡å¿—çš„çº¿ç¨‹å°†ç»§ç»­æ­£å¸¸è¿è¡Œï¼Œä¸å—å½±å“ã€‚ éœ€è¦è¢«è°ƒç”¨çš„çº¿ç¨‹é…åˆä¸­æ–­ åœ¨æ­£å¸¸è¿è¡Œä»»åŠ¡æ—¶ï¼Œç»å¸¸æ£€æŸ¥æœ¬çº¿ç¨‹çš„ä¸­æ–­æ ‡å¿—ä½ï¼Œå¦‚æžœè¢«è®¾ç½®äº†ä¸­æ–­æ ‡å¿—å°±è‡ªè¡Œåœæ­¢çº¿ç¨‹ã€‚ çº¿ç¨‹çŠ¶æ€ä»¥åŠçŠ¶æ€ä¹‹é—´çš„è½¬æ¢ è§ç‰›å®¢ç¬”è®°]]></content>
      <categories>
        <category>Offer</category>
      </categories>
      <tags>
        <tag>å‰‘æŒ‡Offer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Offer-GC05]]></title>
    <url>%2F2019%2F09%2F02%2FOffer-GC05%2F</url>
    <content type="text"><![CDATA[å‰‘æŒ‡Offer-05GCâ€”åžƒåœ¾å›žæ”¶æœºåˆ¶GCç›¸å…³çš„é¢è¯•é¢˜Objectçš„finalize()æ–¹æ³•çš„ä½œç”¨æ˜¯å¦ä¸ŽC++çš„æžæž„å‡½æ•°ä½œç”¨ç›¸åŒï¼ˆå¾…éªŒè¯ï¼‰ ä¸ŽC++çš„æžæž„å‡½æ•°ä¸åŒï¼Œæžæž„å‡½æ•°è°ƒç”¨ç¡®å®šï¼Œè€Œä»–ä¸æ˜¯ç¡®å®šçš„ å°†æœªè¢«å¼•ç”¨çš„å¯¹è±¡æ”¾ç½®äºŽF-Queueé˜Ÿåˆ— æ–¹æ³•æ‰§è¡Œéšæ—¶å¯èƒ½ä¼šè¢«ç»ˆæ­¢ ç»™äºˆå¯¹è±¡æœ€åŽä¸€æ¬¡é‡ç”Ÿæœºä¼š å½“æ‰§è¡ŒSystem.gcçš„æ—¶å€™ï¼Œè¿è¡Œfinalizeæ–¹æ³•ï¼Œå°†få¯¹è±¡çš„å€¼ä¼ ç»™finalizationï¼ŒèŽ·å¾—é‡ç”Ÿ Javaä¸­çš„å¼ºå¼•ç”¨ï¼Œè½¯å¼•ç”¨ï¼Œå¼±å¼•ç”¨ï¼Œè™šå¼•ç”¨æœ‰ä»€ä¹ˆç”¨ å¼ºå¼•ç”¨ï¼ˆStrong Referenceï¼‰ï¼š ä¸ä¼šè¢«å›žæ”¶ï¼Œå¯¹è±¡ä¸€èˆ¬çŠ¶æ€ï¼ŒJVMåœæ­¢è¿è¡Œæ—¶ç»ˆæ­¢ æœ€æ™®éçš„å¼•ç”¨ï¼šObject obj = new Objectï¼ˆï¼‰ï¼› æŠ›å‡ºOutOfMemoryErrorç»ˆæ­¢ç¨‹åºä¹Ÿä¸ä¼šå›žæ”¶å…·æœ‰å¼ºå¼•ç”¨çš„å¯¹è±¡ã€‚ é€šè¿‡å°†å¯¹è±¡è®¾ç½®ä¸ºnullæ¥å¼±åŒ–å¼•ç”¨ï¼Œä½¿å…¶è¢«å›žæ”¶ã€‚ è½¯å¼•ç”¨ï¼ˆSoft Referenceï¼‰ï¼š å†…å­˜ä¸è¶³æ—¶è¢«å›žæ”¶ï¼Œç”¨äºŽå¯¹è±¡ç¼“å­˜ï¼Œå†…å­˜ä¸è¶³æ—¶ç»ˆæ­¢ å¯¹è±¡å¤„åœ¨æœ‰ç”¨ä½†éžå¿…é¡»çš„çŠ¶æ€ åªæœ‰å½“å†…å­˜ç©ºé—´ä¸è¶³æ—¶ï¼ŒGCä¼šå›žæ”¶è¯¥å¼•ç”¨çš„å¯¹è±¡çš„å†…å­˜ å¯ä»¥ç”¨æ¥å®žçŽ°é«˜é€Ÿç¼“å­˜ String str = new String(â€œabcâ€);//å¼ºå¼•ç”¨ SoftReference softRef = new SoftRefence(str);//è½¯å¼•ç”¨ å¼±å¼•ç”¨ï¼ˆWeak Referenceï¼‰ï¼š åžƒåœ¾å›žæ”¶æ—¶è¢«å›žæ”¶ï¼Œç”¨äºŽå¯¹è±¡ç¼“å­˜ï¼Œgcè¿è¡ŒåŽç»ˆæ­¢ éžå¿…éœ€çš„å¯¹è±¡ï¼Œæ¯”è½¯å¼•ç”¨æ›´å¼±ä¸€äº› GCæ—¶ä¼šå›žæ”¶ è¢«å›žæ”¶çš„æ¦‚çŽ‡ä¸å¤§ï¼Œå› ä¸ºGCçº¿ç¨‹ä¼˜å…ˆçº§æ¯”è¾ƒä½Žé€‚ç”¨äºŽå¼•ç”¨å¶å°”è¢«ä½¿ç”¨ä¸”ä¸å½±å“åžƒåœ¾æ”¶é›†çš„å¯¹è±¡ String str = new Stringï¼ˆâ€œabcâ€ï¼‰ï¼› WeakReference abcWeakRef = new eakReferencestr. è™šå¼•ç”¨ï¼ˆPhantomReferenceï¼‰ï¼š ç”¨äºŽæ ‡è®°ã€å“¨å…µ ä¸ä¼šå†³å®šå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ ä»»ä½•æ—¶å€™éƒ½å¯èƒ½è¢«åžƒåœ¾æ”¶é›†å™¨å›žæ”¶ è·Ÿè¸ªå¯¹è±¡è¢«åžƒåœ¾æ”¶é›†å™¨å›žæ”¶çš„æ´»åŠ¨ï¼Œæœ‰å“¨å…µä½œç”¨ å¿…é¡»å’Œå¼•ç”¨é˜Ÿåˆ—ReferenceQueueè”åˆä½¿ç”¨ String str = new String(â€œabcâ€); ReferenceQueue queue = new ReferenceQueue(); PhantomReference ref = new PhantomReference(str,queue); å¼•ç”¨é˜Ÿåˆ—ï¼ˆReferenceQueueï¼‰ï¼ˆå¾…éªŒè¯ï¼‰ æ— å®žé™…å­˜å‚¨ç»“æž„ï¼Œå­˜å‚¨é€»è¾‘ä¾èµ–äºŽå†…éƒ¨èŠ‚ç‚¹ä¹‹é—´çš„å…³ç³»æ¥è¡¨è¾¾ å­˜å‚¨å…³è”çš„ä¸”è¢«GCçš„è½¯å¼•ç”¨ï¼Œå¼±å¼•ç”¨ä»¥åŠè™šå¼•ç”¨]]></content>
      <categories>
        <category>Offer</category>
      </categories>
      <tags>
        <tag>å‰‘æŒ‡Offer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Offer-GC04]]></title>
    <url>%2F2019%2F09%2F02%2FOffer-GC04%2F</url>
    <content type="text"><![CDATA[å‰‘æŒ‡Offer-04GCâ€”åžƒåœ¾å›žæ”¶æœºåˆ¶åžƒåœ¾å›žæ”¶ä¹‹æ ‡è®°ç®—æ³•å¯¹è±¡è¢«åˆ¤å®šä¸ºåžƒåœ¾çš„æ ‡å‡†ï¼šæ²¡æœ‰è¢«å…¶ä»–å¯¹è±¡å¼•ç”¨ å¼•ç”¨æŠ€æœ¯ç®—æ³•ï¼šåˆ¤æ–­å¯¹è±¡çš„å¼•ç”¨æ•°é‡ é€šè¿‡åˆ¤æ–­å¯¹è±¡çš„å¼•ç”¨æ•°é‡æ¥å†³å®šå¯¹è±¡æ˜¯å¦å¯ä»¥è¢«å›žæ”¶ æ¯ä¸ªå¯¹è±¡å®žä¾‹éƒ½æœ‰ä¸€ä¸ªå¼•ç”¨è®¡æ•°å™¨ï¼Œè¢«å¼•ç”¨åˆ™+1ï¼Œå®Œæˆå¼•ç”¨-1 ï¼ˆ å½“å¯¹è±¡è¶…å‡ºç”Ÿå‘½å‘¨æœŸæˆ–è€…è¢«è®¾ç½®ä¸ºæ–°å€¼æ—¶ï¼‰ ä»»ä½•å¼•ç”¨è®¡æ•°ä¸º0çš„å¯¹è±¡å®žä¾‹å¯ä»¥è¢«å½“ä½œåžƒåœ¾æ”¶é›† ä¼˜ç‚¹ï¼šæ‰§è¡Œæ•ˆçŽ‡é«˜ï¼Œç¨‹åºæ‰§è¡Œå—å½±å“è¾ƒå° ç¼ºç‚¹ï¼šæ— æ³•æ£€æµ‹å‡ºå¾ªçŽ¯å¼•ç”¨çš„æƒ…å†µï¼Œå¯¼è‡´å†…å­˜æ³„éœ² å¯è¾¾æ€§åˆ†æžç®—æ³•ï¼šé€šè¿‡åˆ¤æ–­å¯¹è±¡çš„å¼•ç”¨é“¾æ˜¯å¦å¯è¾¾æ¥å†³å®šå¯¹è±¡æ˜¯å¦å¯ä»¥è¢«å›žæ”¶ï¼ˆä»ŽGC Rootå¼€å§‹ï¼Œç›´æŽ¥æˆ–é—´æŽ¥å¼•ç”¨çš„å¯¹è±¡ä¿ç•™ï¼Œæ²¡æœ‰å¼•ç”¨GCRootçš„å¯¹è±¡è¢«å›žæ”¶ï¼‰ å¯ä»¥ä½œä¸ºGC Rootçš„å¯¹è±¡ è™šæ‹Ÿæœºæ ˆä¸­å¼•ç”¨çš„å¯¹è±¡ï¼ˆæ ˆå¸§ä¸­çš„æœ¬åœ°å˜é‡è¡¨ï¼‰ egï¼šString s = new Stringï¼ˆâ€œé»„å±±å¥‡â€ï¼‰ï¼› newå‡ºæ¥çš„Stringå°±æ˜¯GC Rootã€‚ æ–¹æ³•åŒºä¸­çš„å¸¸é‡å¼•ç”¨çš„å¯¹è±¡ æ–¹æ³•åŒºä¸­çš„ç±»é™æ€å±žæ€§å¼•ç”¨çš„å¯¹è±¡ æœ¬åœ°æ–¹æ³•æ ˆä¸­JNIï¼ˆNativeæ–¹æ³•ï¼‰çš„å¼•ç”¨å¯¹è±¡ æ´»è·ƒçº¿ç¨‹çš„å¼•ç”¨å¯¹è±¡ è°ˆè°ˆåžƒåœ¾å›žæ”¶ç®—æ³•æ ‡è®°-æ¸…é™¤ç®—æ³•ï¼ˆMark and Sweepï¼‰ æ ‡è®°ï¼šä»Žæ ¹é›†åˆå¼€å§‹æ‰«æï¼Œå¯¹å­˜æ´»çš„å¯¹è±¡è¿›è¡Œæ ‡è®°ï¼ˆå¯è¾¾æ€§åˆ†æžç®—æ³•ï¼‰ æ¸…é™¤ï¼šå¯¹å †å†…å­˜ä»Žå¤´åˆ°å°¾è¿›è¡Œçº¿æ€§éåŽ†ï¼Œå›žæ”¶ä¸å¯è¾¾å¯¹è±¡å†…å­˜ ç¼ºç‚¹ï¼šæ¸…é™¤åŽä¸ä¼šå¯¹å†…å­˜è¿›è¡ŒæŽ’åºï¼Œä¼šäº§ç”Ÿå¤§é‡ç¢Žç‰‡ï¼Œå¦‚æžœæœ‰è¶…è¿‡é—´éš”å†…å­˜çš„å†…å®¹ï¼Œä¼šä¸€ç›´å°è¯•æ¸…é™¤å†…å­˜ï¼Œç›´åˆ°æœ‰è¶³å¤Ÿçš„ç©ºé—´ä¸ºæ­¢ã€‚ é€‚ç”¨äºŽè€å¹´ä»£ï¼ˆå­˜æ´»çŽ‡é«˜ï¼‰ å¤åˆ¶ç®—æ³•ï¼ˆCopyingï¼‰ åˆ†ä¸ºå¯¹è±¡é¢å’Œç©ºé—²é¢ å¯¹è±¡åœ¨å¯¹è±¡é¢ä¸Šåˆ›å»º å­˜æ´»çš„å¯¹è±¡è¢«ä»Žå¯¹è±¡é¢å¤åˆ¶åˆ°ç©ºé—²é¢ å°†å¯¹è±¡é¢æ‰€æœ‰å¯¹è±¡å†…å­˜æ¸…é™¤ é€‚ç”¨äºŽå¯¹è±¡å­˜æ´»çŽ‡ä½Žçš„åœºæ™¯ egï¼šå¹´è½»ä»£ï¼ˆä¸€èˆ¬åªæœ‰10%å­˜æ´»ï¼‰ è§£å†³ç¢Žç‰‡åŒ–çš„é—®é¢˜ é¡ºåºåˆ†é…å†…å­˜ï¼Œç®€å•é«˜æ•ˆ æ ‡è®°-æ•´ç†ç®—æ³•ï¼ˆCompactingï¼‰ æ ‡è®°ï¼šä»Žæ ¹é›†åˆè¿›è¡Œæ‰«æï¼Œå¯¹å­˜æ´»çš„å¯¹è±¡è¿›è¡Œæ ‡è®° æ¸…é™¤ï¼šç§»åŠ¨æ‰€æœ‰å­˜æ´»çš„å¯¹è±¡ï¼Œä¸”æŒ‰ç…§å†…å­˜åœ°å€æ¬¡åºä¾æ¬¡æŽ’åˆ—ï¼Œç„¶åŽå°†æœ«ç«¯å†…å­˜åœ°å€ä»¥åŽçš„å†…å­˜å…¨éƒ¨å›žæ”¶ é¿å…äº†å†…å­˜çš„ä¸è¿žç»­æ€§ ä¸ç”¨è®¾ç½®ä¸¤å—å†…å­˜äº’æ¢ é€‚ç”¨äºŽå­˜æ´»çŽ‡é«˜çš„åœºæ™¯ egï¼šè€å¹´ä»£ åˆ†ä»£æ”¶é›†ç®—æ³•ï¼ˆGenerational Collectorï¼‰ åžƒåœ¾å›žæ”¶ç®—æ³•çš„ç»„åˆæ‹³ æŒ‰ç…§å¯¹è±¡ç”Ÿå‘½å‘¨æœŸçš„ä¸åŒåˆ’åˆ†åŒºåŸŸä»¥é‡‡ç”¨ä¸åŒçš„åžƒåœ¾å›žæ”¶ç®—æ³• ç›®çš„ï¼šæé«˜JVMçš„å›žæ”¶æ•ˆçŽ‡ åˆ†ä»£æ”¶é›†ç®—æ³•GCçš„åˆ†ç±»ï¼š Minor GC:å‘ç”Ÿåœ¨å¹´è½»ä»£ä¸­çš„åžƒåœ¾æ”¶é›†å·¥ä½œï¼Œé‡‡ç”¨å¤åˆ¶ç®—æ³• Full GCï¼šFull GCæ¯”Minor GCæ…¢ï¼Œä½†æ‰§è¡Œé¢‘çŽ‡ä½Ž â€‹ Stop-the-World JVMç”±äºŽè¦æ‰§è¡ŒGCè€Œåœæ­¢äº†åº”ç”¨ç¨‹åºçš„æ‰§è¡Œ ä»»ä½•ä¸€ç§GCç®—æ³•ä¸­éƒ½ä¼šå‘ç”Ÿ å¤šæ•°GCä¼˜åŒ–é€šè¿‡å‡å°‘Stop-the-Worldå‘ç”Ÿçš„æ—¶é—´æ¥æé«˜ç¨‹åºæ€§èƒ½ â€‹ Safepoint åˆ†æžè¿‡ç¨‹ä¸­å¯¹è±¡å¼•ç”¨å…³ç³»ä¸ä¼šå‘ç”Ÿå˜åŒ–çš„ç‚¹ äº§ç”ŸSafepointçš„åœ°æ–¹ï¼šæ–¹æ³•è°ƒç”¨ï¼›å¾ªçŽ¯è·³è½¬ï¼›å¼‚å¸¸è·³è½¬ç­‰ï¼› å®‰å…¨ç‚¹è¦é€‚ä¸­ï¼šå¤ªå°‘å¢žåŠ GCç­‰å¾…æ—¶é—´ï¼Œå¤ªå¤šå¢žåŠ è´Ÿè· å¹´è½»ä»£ï¼šå°½å¯èƒ½å¿«é€Ÿçš„æ”¶é›†æŽ‰é‚£äº›ç”Ÿå‘½å‘¨æœŸçŸ­çš„å¯¹è±¡ã€‚æ‰€æœ‰javaå¯¹è±¡å‡ºç”Ÿåœ°ï¼Œjavaå¯¹è±¡ç”³è¯·çš„å†…å­˜ï¼Œä»¥åŠå­˜æ”¾ å¸¸ç”¨çš„è°ƒå¿§å‚æ•° -XXï¼šSurvivorRatioï¼šEdenå’ŒSurvivorçš„æ¯”å€¼ï¼Œé»˜è®¤ä¸º8ï¼š1 -XXï¼šNewRatioï¼šè€å¹´ä»£å’Œæ–°ç”Ÿä»£å†…å­˜å¤§å°æ¯”ä¾‹ -XXï¼šMaxTenuringThresholdï¼šå¯¹è±¡ä»Žå¹´è½»ä»£æ™‹å‡åˆ°è€å¹´ä»£GCæ¬¡æ•°çš„æœ€å¤§å€¼ åˆ†ä¸ºï¼šEdenåŒº Survivor-fromåŒº Survivor-toåŒº å¤§å°æ¯”ä¾‹ä¸º8ï¼š1ï¼š1 ç”Ÿæˆçš„å¯¹è±¡å…ˆæ”¾åœ¨Edenå’Œfromï¼Œç„¶åŽå°†å­˜æ´»çš„å¯¹è±¡æ”¾åœ¨toåŒºï¼Œåˆ é™¤å…¶ä»–åŒºã€‚ å¯¹è±¡å¦‚ä½•æ™‹å‡åˆ°è€å¹´ä»£ ç»åŽ†ä¸€å®šMinoræ¬¡æ•°ä¾ç„¶å­˜æ´»çš„å¯¹è±¡ SurvivoråŒºä¸­å­˜æ”¾ä¸ä¸‹çš„å¯¹è±¡ æ–°ç”Ÿæˆçš„å¤§å¯¹è±¡ï¼ˆ-XXï¼š+PretenuerSizeThresholdï¼‰ è€å¹´ä»£ï¼šå­˜æ”¾ç”Ÿå‘½å‘¨æœŸè¾ƒé•¿çš„å¯¹è±¡ï¼Œå 2/3çš„å †ç©ºé—´ï¼ˆ å¹´è½»1/3ï¼‰ è§¦å‘Full GCçš„æ¡ä»¶ï¼š è€å¹´ä»£ç©ºé—´ä¸è¶³ æ°¸ä¹…ä»£ç©ºé—´ä¸è¶³ï¼ˆjdk8ä»¥åŽæ²¡æœ‰æ°¸ä¹…ä»£äº†ï¼Œä¸æˆç«‹ï¼‰ CMS GCæ—¶å‡ºçŽ°promotion failedï¼Œconcurrent mode failure Minor GCæ™‹å‡åˆ°è€å¹´ä»£çš„å¹³å‡å¤§å°å¤§äºŽè€å¹´ä»£çš„å‰©ä½™ç©ºé—´ è°ƒç”¨System.gc(),ï¼ˆæé†’è¯¥å›žæ”¶äº†ï¼Œæœªå¿…å›žæ”¶ï¼‰ ä½¿ç”¨RMIæ¥è¿›è¡ŒRPCæˆ–ç®¡ç†JDKåº”ç”¨ï¼Œæ¯å°æ—¶æ‰§è¡Œæ¬¡Full GC promotionï¼šæ–°ç”Ÿä»£æ”¾ä¸ä¸‹æ—¶ï¼Œæ”¾åˆ°è€å¹´ä»£ï¼Œè€å¹´ä»£ä¹Ÿæ”¾ä¸ä¸‹ concurrentï¼šæ‰§è¡ŒCMS GCæ—¶ï¼Œæ–°ç”Ÿä»£ä¹Ÿè¦æ”¾åˆ°è€å¹´ä»£ä¸­ï¼Œæ­¤æ—¶è€å¹´ä»£ä¸è¶³ å¸¸è§çš„åžƒåœ¾æ”¶é›†å™¨JVMçš„è¿è¡Œæ¨¡å¼ï¼šServerã€Client Clientå¯åŠ¨å¿«ï¼ŒServerå¯åŠ¨æ…¢ï¼Œä½†æ˜¯è¿è¡Œç¨³å®šåŽï¼ŒServeræ¯”Clientè¿è¡Œå¿«ã€‚å› ä¸ºServerç”¨é‡é‡çº§çš„JVMï¼Œä¼˜åŒ–å¥½ã€‚ åžƒåœ¾æ”¶é›†å™¨ä¹‹é—´çš„è”ç³»ï¼š å¹´è½»ä»£å¸¸è§çš„åžƒåœ¾æ”¶é›†å™¨ Serialæ”¶é›†å™¨ï¼ˆ-XXï¼š+UseSerialGC,å¤åˆ¶ç®—æ³•ï¼‰ï¼šJavaæœ€åŸºæœ¬ï¼ŒåŽ†å²æœ€æ‚ ä¹… å•çº¿ç¨‹æ”¶é›†ï¼Œè¿›è¡Œåžƒåœ¾æ”¶é›†æ—¶ï¼Œå¿…é¡»æš‚åœæ‰€æœ‰å·¥ä½œçº¿ç¨‹ã€‚ ç®€å•é«˜æ•ˆï¼ŒClientæ¨¡å¼ä¸‹çš„é»˜è®¤çš„å¹´è½»ä»£æ”¶é›†å™¨ ParNewæ”¶é›†å™¨ï¼ˆ-XXï¼š+UserParNewGCï¼Œå¤åˆ¶ç®—æ³•ï¼‰ å¤šçº¿ç¨‹æ”¶é›†ï¼Œå…¶ä½™çš„è¡Œä¸ºã€ç‰¹ç‚¹å’ŒSerialæ”¶é›†å™¨ä¸€æ · å•æ ¸æ‰§è¡Œæ•ˆçŽ‡ä¸å¦‚Serialï¼Œåœ¨å¤šæ ¸ä¸‹æ‰§è¡Œæ‰æœ‰ä¼˜åŠ¿ Parallel Scaveæ”¶é›†å™¨ï¼ˆ-XXï¼š+UseParallelGCï¼Œå¤åˆ¶ç®—æ³•ï¼‰ åžåé‡=è¿è¡Œç”¨æˆ·ä»£ç æ—¶é—´/ï¼ˆè¿è¡Œç”¨æˆ·ä»£ç æ—¶é—´+åžƒåœ¾æ”¶é›†æ—¶é—´ï¼‰ é«˜åžåé‡å¯ä»¥é«˜æ•ˆçŽ‡åˆ©ç”¨CPUæ—¶é—´ï¼Œæ›´å¿«å®Œæˆä»»åŠ¡ æ¯”èµ·å…³æ³¨ç”¨æˆ·çº¿ç¨‹åœé¡¿æ—¶é—´ï¼Œæ›´å…³æ³¨ç³»ç»Ÿçš„åžåé‡ åœ¨å¤šæ ¸ä¸‹æ‰§è¡Œæ‰æœ‰ä¼˜åŠ¿ï¼ŒServeræ¨¡å¼ä¸‹é»˜è®¤çš„å¹´è½»ä»£æ”¶é›†å™¨ è€å¹´ä»£å¸¸è§çš„åžƒåœ¾æ”¶é›†å™¨ï¼š&lt;/u Serial Oldæ”¶é›†å™¨ï¼ˆ-XXï¼š+UseSerialOldGC,æ ‡è®°-æ•´ç†ç®—æ³•ï¼‰ å•çº¿ç¨‹æ”¶é›†ï¼Œè¿›è¡Œåžƒåœ¾æ”¶é›†æ—¶ï¼Œå¿…é¡»æš‚åœæ‰€æœ‰å·¥ä½œçº¿ç¨‹ã€‚ ç®€å•é«˜æ•ˆï¼ŒClientæ¨¡å¼ä¸‹çš„é»˜è®¤çš„è€å¹´ä»£æ”¶é›†å™¨ Parallel Oldæ”¶é›†å™¨ï¼ˆ-XXï¼š+UseParallelOldGCï¼Œæ ‡è®°-æ•´ç†ç®—æ³•ï¼‰ å¤šçº¿ç¨‹ã€åžåé‡ä¼˜å…ˆ CMSæ”¶é›†å™¨ï¼ˆ-XXï¼š+UseConcMarkSweepGCï¼Œæ ‡è®°-æ¸…é™¤ç®—æ³•ï¼‰ èƒ½åšåˆ°åžƒåœ¾å›žæ”¶çº¿ç¨‹ä¸Žç”¨æˆ·çº¿ç¨‹å‡ ä¹ŽåŒæ—¶å·¥ä½œï¼Œå¯èƒ½ä¼šäº§ç”Ÿå¤§é‡çš„ç¢Žç‰‡ è¿è¡Œè¿‡ç¨‹ï¼š åˆå§‹æ ‡è®°ï¼šstop-the-world å¹¶å‘æ ‡è®°ï¼šå¹¶å‘è¿½æº¯æ ‡è®°ï¼Œç¨‹åºä¸ä¼šåœé¡¿ å¹¶å‘é¢„æ¸…ç†ï¼šæŸ¥æ‰¾æ‰§è¡Œå¹¶å‘æ ‡è®°é˜¶æ®µä»Žå¹´è½»ä»£æ™‹å‡åˆ°è€å¹´ä»£çš„å¯¹è±¡ é‡æ–°æ ‡è®°ï¼šæš‚åœè™šæ‹Ÿæœºï¼Œæ‰«æCMSå †ä¸­çš„å‰©ä½™å¯¹è±¡ï¼ˆstop-the-worldï¼‰ å¹¶å‘æ¸…ç†ï¼šæ¸…ç†åžƒåœ¾å¯¹è±¡ï¼Œç¨‹åºä¸åœé¡¿ å¹¶å‘é‡ç½®ï¼šé‡ç½®CMSæ”¶é›†å™¨çš„æ•°æ®ç»“æž„ G1æ”¶é›†å™¨ï¼ˆ-XX:+UseG1GCï¼Œå¤åˆ¶+æ ‡è®°-æ•´ç†ç®—æ³•ï¼‰ å°†æ•´ä¸ªJavaå †å†…å­˜åˆ’åˆ†ä¸ºå¤šä¸ªå¤§å°ç›¸ç­‰çš„Region å¹´è½»ä»£å’Œè€å¹´ä»£ä¸åœ¨ç‰©ç†éš”ç¦» Garbage Firstæ”¶é›†å™¨çš„ç‰¹ç‚¹ å¹¶å‘å’Œå¹¶è¡Œ åˆ†ä»£æ”¶é›† ç©ºé—´æ•´åˆ å¯é¢„æµ‹çš„åœé¡¿ JDK11ï¼šEpsilon GCå’ŒZGC CMSä¸èƒ½å’ŒParallelScavengeã€G1ç»„åˆä½¿ç”¨ å› ä¸ºåŽä¸¤è€…æ²¡æœ‰ä½¿ç”¨ä¼ ç»Ÿçš„GCæ¡†æž¶ï¼Œéƒ½æ˜¯ç‹¬ç«‹å®žçŽ°çš„]]></content>
      <categories>
        <category>Offer</category>
      </categories>
      <tags>
        <tag>å‰‘æŒ‡Offer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Offer-JVM03]]></title>
    <url>%2F2019%2F09%2F02%2FOffer-JVM03%2F</url>
    <content type="text"><![CDATA[å‰‘æŒ‡Offer-03Javaçš„ç†è§£â€”JVM å¹³å°æ— å…³æ€§GC è¯­è¨€ç‰¹æ€§ é¢å‘å¯¹è±¡ ç±»åº“ å¼‚å¸¸å¤„ç† Javaçš„å†…å­˜æ¨¡åž‹ï¼ˆRunTime Data Areaï¼‰å†…å­˜ç®€ä»‹ï¼š é€»è¾‘åœ°å€â†’åˆ†æ®µç®¡ç†æœºåˆ¶â†’çº¿æ€§åœ°å€â†’åˆ†é¡µç®¡ç†æœºåˆ¶â†’ç‰©ç†åœ°å€ ç¨‹åºè¿è¡Œæ—¶ä¸æ–­åœ°å†é€»è¾‘åœ°å€å’Œç‰©ç†åœ°å€ä¹‹é—´è¿›è¡Œæ˜ å°„ï¼Œæ‰¾åˆ°ç›¸å…³çš„æ•°æ®å’ŒæŒ‡ä»¤æ‰§è¡Œã€‚ å—é™äºŽå¯å¯»å€åœ°å€ç©ºé—´ï¼Œå¯å¯»å€åœ°å€ç©ºé—´å—åˆ°å¤„ç†å™¨ä½æ•°é™åˆ¶ï¼š 32ä½å¤„ç†å™¨ï¼š2^32 å¯å¯»å€èŒƒå›´ 64ä½å¤„ç†å™¨ï¼š2^64å¯å¯»å€èŒƒå›´ åœ°å€ç©ºé—´çš„åˆ’åˆ†ï¼š å†…æ ¸ç©ºé—´(æ“ä½œç³»ç»Ÿç¨‹åºå’ŒCè¿è¡Œæ—¶çš„ç©ºé—´) ç”¨æˆ·ç©ºé—´(javaå®žé™…è¿è¡Œç©ºé—´) ä»Žçº¿ç¨‹è§’åº¦çœ‹æ¨¡åž‹ç»“æž„ï¼š çº¿ç¨‹ç§æœ‰ï¼šç¨‹åºè®¡æ•°å™¨ã€è™šæ‹Ÿæœºæ ˆã€æœ¬åœ°æ–¹æ³•æ ˆ çº¿ç¨‹å…±äº«ï¼šMetaSpaceã€Javaå †ï¼ˆå¸¸é‡æ± +å †ï¼‰ ç¨‹åºè®¡æ•°å™¨ï¼šå†…å­˜ç©ºé—´è¾ƒå° å½“å‰çº¿ç¨‹æ‰€æ‰§è¡Œçš„å­—èŠ‚ç è¡Œå·æŒ‡ç¤ºå™¨ï¼ˆé€»è¾‘æŒ‡ç¤ºå™¨ï¼‰ æ”¹å˜è®¡æ•°å™¨çš„å€¼æ¥é€‰å–ä¸‹ä¸€æ¡éœ€è¦æ‰§è¡Œçš„å­—èŠ‚ç æŒ‡ä»¤(å¾ªçŽ¯ã€è·³è½¬ã€å¼‚å¸¸æ¢å¤) å’Œçº¿ç¨‹æ˜¯ä¸€å¯¹ä¸€çš„å…³ç³»å³â€œçº¿ç¨‹ç§æœ‰â€ å¯¹Javaæ–¹æ³•è®¡æ•°ï¼Œå¦‚æžœæ˜¯Nativeæ–¹æ³•åˆ™è®¡æ•°å™¨çš„å€¼ä¸ºUndefined ä¸ä¼šå‘ç”Ÿå†…å­˜æ³„æ¼ Javaè™šæ‹Ÿæœºæ ˆ Javaæ–¹æ³•æ‰§è¡Œçš„å†…å­˜æ¨¡åž‹ åŒ…å«å¤šä¸ªæ ˆï¼ˆæ¯ä¸ªæ–¹æ³•è¿è¡Œæ—¶åˆ›å»ºä¸€ä¸ªæ ˆå¸§ï¼Œå­˜å‚¨äº†å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ ˆã€åŠ¨æ€è¿žæŽ¥ã€è¿”å›žåœ°å€,ä»Žå…¥æ ˆåˆ°å‡ºæ ˆçš„è¿‡ç¨‹ï¼‰ â€‹ å±€éƒ¨å˜é‡è¡¨ï¼šåŒ…å«æ–¹æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­çš„æ‰€æœ‰å˜é‡ â€‹ æ“ä½œæ•°æ ˆï¼šå…¥æ ˆã€å‡ºæ ˆã€å¤åˆ¶ã€äº¤æ¢ã€äº§ç”Ÿæ¶ˆè´¹å˜é‡ é€’å½’ä¸ºä»€ä¹ˆä¼šå¼•å‘java.lang.StackOverflowErrorå¼‚å¸¸ï¼š æ¯æ¬¡è°ƒç”¨è‡ªèº«ï¼Œå°±ä¼šå½¢æˆä¸€ä¸ªæ ˆå¸§ã€‚ ä¿å­˜å½“å‰æ–¹æ³•çš„æ ˆå¸§çŠ¶æ€ï¼Œæ”¾åˆ°è™šæ‹Ÿæœºæ ˆä¸­ï¼Œè™šæ‹Ÿæœºæ ˆæ˜¯å›ºå®šçš„ï¼Œé€’å½’è¿‡æ·±ï¼Œè¶…å‡ºè™šæ‹Ÿæ ˆæ·±åº¦ã€‚ è¦ä¹ˆé™åˆ¶é€’å½’æ¬¡æ•°ï¼Œè¦ä¹ˆforå¾ªçŽ¯ è™šæ‹Ÿæœºæ ˆè¿‡å¤šä¼šå¼•å‘java.lang.OutOfMemoryErrorå¼‚å¸¸ æœ¬åœ°æ–¹æ³•æ ˆï¼š ä¸Žè™šæ‹Ÿæœºç±»ä¼¼ï¼Œä¸»è¦ä½œç”¨ä¸Žæ ‡æ³¨äº†nativeçš„æ–¹æ³• å…ƒç©ºé—´(MetaSpace)ä¸Žæ°¸ä¹…ä»£(PermGen)çš„åŒºåˆ«: å­˜å‚¨Classçš„ç›¸å…³ä¿¡æ¯ï¼Œclassçš„methedã€Fieldç­‰ å…ƒç©ºé—´ä½¿ç”¨æœ¬åœ°å†…å­˜ï¼Œæ°¸ä¹…ä»£ä½¿ç”¨JVMå†…å­˜ï¼ˆMSå†…å­˜å¤šï¼‰ å…ƒç©ºé—´æ²¡æœ‰å¸¸é‡æ± ï¼Œåœ¨JDK7ä¸­è¢«ç§»åŠ¨åˆ°å †ä¸­ã€‚ MetaSpaceç›¸æ¯”PermGençš„ä¼˜åŠ¿ï¼š å­—ç¬¦ä¸²å¸¸é‡æ± åœ¨æ°¸ä¹…ä»£ä¸­ï¼Œå®¹æ˜“å‡ºçŽ°æ€§èƒ½é—®é¢˜å’Œå†…å­˜æº¢å‡º ç±»å’Œæ–¹æ³•çš„ä¿¡æ¯å¤§å°éš¾ç¡®å®šï¼Œç»™æ°¸ä¹…ä»£çš„å¤§å°æŒ‡å®šå¸¦æ¥å›°éš¾ æ°¸ä¹…ä»£ä¼šä¸ºGCå¸¦æ¥ä¸å¿…è¦çš„å¤æ‚æ€§ Javaå †ï¼ˆHeapï¼‰ï¼š å¯¹è±¡å®žä¾‹çš„åˆ†é…åŒºåŸŸ GCç®¡ç†çš„ä¸»è¦åŒºåŸŸ ä»Žå­˜å‚¨è§’åº¦çœ‹æ¨¡åž‹ç»“æž„ï¼š JVMä¸‰å¤§æ€§èƒ½è°ƒå¿§å‚æ•°-Xms -Xmx -Xssçš„å«ä¹‰ï¼š åœ¨javaæŒ‡ä»¤è°ƒç”¨ç¨‹åºæ—¶ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸‰ä¸ªæŒ‡ä»¤åŒºè°ƒæ•´å †å’Œçº¿ç¨‹å å †æ ˆçš„å¤§å° -Xssï¼šè§„å®šäº†æ¯ä¸ªçº¿ç¨‹è™šæ‹Ÿæœºæ ˆï¼ˆå †æ ˆï¼‰çš„å¤§å° -Xmsï¼šå †å¾—åˆå§‹å€¼ -Xmxï¼šå †èƒ½è¾¾åˆ°çš„æœ€å¤§å€¼ é€šå¸¸å°†Xmså’ŒXmxè®¾ç½®æˆä¸€æ ·çš„ï¼Œå½“æ‰©å®¹æ—¶å®¹æ˜“å‘ç”ŸæŠ–åŠ¨ï¼Œå½±å“è¿è¡Œ Javaå†…å­˜æ¨¡åž‹ä¸­å †å’Œæ ˆçš„åŒºåˆ«: å†…å­˜åˆ†é…ç­–ç•¥ï¼š é™æ€å­˜å‚¨ï¼šç¼–è¯‘æ—¶ç¡®å®šæ¯ä¸ªæ•°æ®ç›®æ ‡åœ¨è¿è¡Œæ—¶çš„å­˜å‚¨ç©ºé—´éœ€æ±‚ã€‚å›ºå®šä¸å˜ã€‚ æ ˆå¼å­˜å‚¨ï¼šåŠ¨æ€å­˜å‚¨åˆ†é…ã€‚æ•°æ®åŒºéœ€æ±‚åœ¨ç¼–è¯‘æ—¶æœªçŸ¥ï¼Œè¿è¡Œæ—¶æ¨¡å—å…¥å£å‰ç¡®å®šã€‚ å †å¼å­˜å‚¨ï¼šç¼–è¯‘æ—¶æˆ–è¿è¡Œæ—¶æ¨¡å—å…¥å£éƒ½æ— æ³•ç¡®å®šï¼ŒåŠ¨æ€åˆ†é…ã€‚ å †å’Œæ ˆä¹‹é—´çš„è”ç³»ï¼šå¼•ç”¨å¯¹è±¡ã€æ•°ç»„æ—¶ï¼Œæ ˆé‡Œå®šä¹‰å˜é‡ä¿å­˜å †ä¸­ç›®æ ‡çš„é¦–åœ°å€ã€‚ ç®¡ç†æ–¹å¼ï¼šæ ˆè‡ªåŠ¨é‡Šæ”¾ï¼Œå †éœ€è¦GCï¼ˆåžƒåœ¾å›žæ”¶å™¨ï¼‰ ç©ºé—´å¤§å°ï¼šæ ˆæ¯”å †å° ç¢Žç‰‡ç›¸å…³ï¼šæ ˆäº§ç”Ÿçš„ç¢Žç‰‡è¿œå°äºŽå † åˆ†é…æ–¹å¼ï¼šæ ˆæ”¯æŒé™æ€å’ŒåŠ¨æ€åˆ†é…ï¼Œå †ä»…åŠ¨æ€åˆ†é… æ•ˆçŽ‡ï¼šæ ˆçš„æ•ˆçŽ‡æ¯”å †é«˜ å †é‡‡ç”¨åŒå‘é“¾è¡¨çš„æ–¹å¼ï¼Œè¾ƒå¤æ‚ï¼Œä½†å †å¾—çµæ´»åº¦é«˜äºŽæ ˆ JDK6å’ŒJDK6ä»¥åŽçš„intern()æ–¹æ³•çš„åŒºåˆ«ï¼š 12String s = new String(&quot;a&quot;);s.intern(); JDK6ï¼šå½“è°ƒç”¨internæ–¹æ³•æ—¶ï¼Œå¦‚æžœå­—ç¬¦ä¸²å¸¸é‡æ± å…ˆå‰å·²åˆ›å»ºå‡ºæ”¹å­—ç¬¦ä¸²å¯¹è±¡ï¼Œåˆ™è¿”å›žè¯¥å­—ç¬¦ä¸²çš„å¼•ç”¨ã€‚å¦åˆ™ï¼Œå°†æ­¤å­—ç¬¦ä¸²å¯¹è±¡æ·»åŠ åˆ°å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­ï¼Œå¹¶è¿”å›žè¯¥å¼•ç”¨ã€‚ JDK6+ï¼šå½“è°ƒç”¨internæ–¹æ³•æ—¶ï¼Œå¦‚æžœå­—ç¬¦ä¸²å¸¸é‡æ± å…ˆå‰å·²åˆ›å»ºå‡ºè¯¥å­—ç¬¦ä¸²å¯¹è±¡ï¼Œåˆ™è¿”å›žè¯¥å­—ç¬¦ä¸²çš„å¼•ç”¨ã€‚å¦åˆ™ï¼Œå¦‚æžœè¯¥å­—ç¬¦ä¸²å¯¹è±¡å·²ç»å­˜åœ¨äºŽJavaå †ä¸­ï¼Œåˆ™å°†å †ä¸­å¯¹æ­¤å¯¹è±¡çš„å¼•ç”¨æ·»åŠ åˆ°å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­ï¼Œå¹¶è¿”å›žå¼•ç”¨ã€‚å¦‚æžœå †ä¸­ä¸å­˜åœ¨ï¼Œåˆ™åœ¨æ± ä¸­åˆ›å»ºè¯¥å­—ç¬¦ä¸²å¹¶è¿”å›žå¼•ç”¨ã€‚ ä¹‹å‰ è¯´å¸¸é‡æ± åœ¨JDK7ä¹‹å‰åœ¨æ°¸ä¹…ä»£ä¸­ï¼Œæ°¸ä¹…ä»£åœ¨JVMå†…å­˜ï¼Œå†…å­˜å°ï¼Œå½“æ°¸ä¹…ä»£å†…å­˜è¾¾åˆ°é¥±å’Œï¼Œåˆ™å¸¸é‡æ± ä¹ŸOver]]></content>
      <categories>
        <category>Offer</category>
      </categories>
      <tags>
        <tag>å‰‘æŒ‡Offer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Offer-JVM02]]></title>
    <url>%2F2019%2F09%2F02%2FOffer-JVM02%2F</url>
    <content type="text"><![CDATA[å‰‘æŒ‡Offer-02Javaçš„ç†è§£â€”JVM å¹³å°æ— å…³æ€§GC è¯­è¨€ç‰¹æ€§ é¢å‘å¯¹è±¡ ç±»åº“ å¼‚å¸¸å¤„ç† Compile Onceï¼ŒRun Anywhereå¦‚ä½•å®žçŽ° (Javaæ˜¯å¦‚ä½•å®žçŽ°å¹³å°æ— å…³çš„)javaåˆ†ä¸ºï¼š ç¼–è¯‘æ—¶ï¼šjavac ç¼–è¯‘javaçš„æºç ï¼Œå³å°†æºç è½¬æ¢ä¸ºå­—èŠ‚ç ï¼Œå¹¶å­˜æ”¾åˆ°.classæ–‡ä»¶è¿è¡Œæ—¶ï¼š.classæ–‡ä»¶ï¼ŒJVMè¿›è¡Œè§£æžï¼Œè½¬æ¢æˆç‰¹å®šå¹³å°çš„æ‰§è¡ŒæŒ‡ä»¤ã€‚ï¼ˆæœºå™¨ç ï¼‰ javap -c ä»Ž.classåˆ°å¯æ‰§è¡Œç¨‹åºï¼Œå¯¹ä»£ç è¿›è¡Œåæ±‡ç¼–ã€‚ ç­”ï¼šJavaæºç é¦–å…ˆè¢«ç¼–è¯‘æˆå­—èŠ‚ç ï¼Œå†ç”±ä¸åŒå¹³å°çš„JVMè¿›è¡Œè§£æžã€‚Javaè¯­è¨€å†ä¸åŒçš„å¹³å°ä¸Šè¿è¡Œæ—¶ä¸éœ€è¦è¿›è¡Œé‡æ–°ç¼–è¯‘ã€‚Javaè™šæ‹Ÿæœºåœ¨æ‰§è¡Œå­—èŠ‚ç çš„æ—¶å€™ï¼ŒæŠŠå­—èŠ‚ç è½¬æ¢æˆå…·ä½“å¹³å°ä¸Šçš„æœºå™¨æŒ‡ä»¤ã€‚ ä¸ºä»€ä¹ˆJVMä¸ç›´æŽ¥å°†æºç è§£æžæˆæœºå™¨ç åŽ»æ‰§è¡Œå‡†å¤‡å·¥ä½œï¼šæ¯æ¬¡æ‰§è¡Œéƒ½éœ€è¦å„ç§æ£€æŸ¥ã€‚å¯¹è¯­æ³•ç­‰éœ€è¦é‡å¤æ£€æŸ¥ï¼Œå½±å“æ€§èƒ½ã€‚ å…¼å®¹æ€§ï¼šä¹Ÿå¯ä»¥å°†åˆ«çš„è¯­è¨€è§£æžæˆå­—èŠ‚ç ã€‚ JVMå¦‚ä½•åŠ è½½.classæ–‡ä»¶ JVMçš„å­˜å‚¨ç©ºé—´å³å†…å­˜ï¼ˆä»¥ä¸‹å››é¡¹ä¹Ÿæ˜¯JVMçš„æž¶æž„ï¼‰ Class Loaderï¼šä¾æ®ç‰¹å®šæ ¼å¼ï¼ŒåŠ è½½classæ–‡ä»¶åˆ°å†…å­˜ Execution Engineï¼šå¯¹å‘½ä»¤è¿›è¡Œè§£æžï¼ˆè§£æžclassæ–‡ä»¶ä¸­çš„å­—èŠ‚ç ï¼‰ Native Interfaceï¼šèžåˆä¸åŒå¼€å‘è¯­è¨€çš„åŽŸç”Ÿåº“ä¸ºJavaæ‰€ç”¨ â€‹ (é€šè¿‡Class.fornameæ–¹æ³•ï¼‰ Runtime Data Areaï¼šJVMå†…å­˜ç©ºé—´ç»“æž„æ¨¡åž‹ï¼Œç¨‹åºåŠ è½½åˆ°è¿™é‡Œè¿è¡Œ ä»€ä¹ˆæ˜¯åå°„Javaåå°„æœºåˆ¶ï¼š åœ¨è¿è¡ŒçŠ¶æ€ä¸­ï¼Œå¯¹äºŽä»»æ„ä¸€ä¸ªç±»ï¼Œéƒ½èƒ½å¤ŸçŸ¥é“è¿™ä¸ªç±»çš„æ‰€æœ‰å±žæ€§å’Œæ–¹æ³•ï¼› å¯¹äºŽä»»æ„ä¸€ä¸ªå¯¹è±¡ï¼Œéƒ½èƒ½å¤Ÿè°ƒç”¨å®ƒçš„ä»»æ„æ–¹æ³•å’Œå±žæ€§ï¼› è¿™ç§åŠ¨æ€èŽ·å–ä¿¡æ¯ä»¥åŠåŠ¨æ€è°ƒç”¨å¯¹è±¡æ–¹æ³•çš„åŠŸèƒ½ç§°ä¸ºjavaè¯­è¨€çš„åå°„æœºåˆ¶ã€‚ åå°„çš„ä¾‹å­ï¼ˆå¾…éªŒè¯ï¼‰ ä¾‹å­å¾…å®š ClassLoader(ç±»åŠ è½½å™¨)ç±»ä»Žç¼–è¯‘åˆ°æ‰§è¡Œçš„è¿‡ç¨‹ï¼š ç¼–è¯‘å™¨å°†Robot.javaæºæ–‡ä»¶ç¼–è¯‘ä¸ºRobot.classå­—èŠ‚ç æ–‡ä»¶ ClassLoaderå°†å­—èŠ‚ç è½¬æ¢ä¸ºJVMä¸­çš„Classå¯¹è±¡ JVMåˆ©ç”¨Classå¯¹è±¡å®žä¾‹åŒ–ä¸ºObjectå¯¹è±¡ ä»€ä¹ˆæ˜¯ClassLoaderï¼š å·¥ä½œåœ¨Classè£…è½½çš„åŠ è½½é˜¶æ®µï¼Œä¸»è¦ä½œç”¨æ˜¯ä»Žç³»ç»Ÿå¤–éƒ¨èŽ·å¾—ClassäºŒè¿›åˆ¶æ•°æ®æµã€‚æ‰€æœ‰çš„Classéƒ½æ˜¯ç”±ClassLoaderè¿›è¡ŒåŠ è½½çš„ã€‚å®ƒå…ˆå°†Classæ–‡ä»¶é‡Œçš„äºŒè¿›åˆ¶æ•°æ®æµè£…è½½è¿›ç³»ç»Ÿï¼Œç„¶åŽäº¤ç»™Javaè™šæ‹Ÿæœºè¿›è¡Œè¿žæŽ¥ã€åˆå§‹åŒ–æ“ä½œã€‚ ClassLoaderçš„ç§ç±»ï¼š BootStrapClassLoaderï¼šC++ç¼–å†™ï¼ŒåŠ è½½æ ¸å¿ƒåº“java.* ExtClassLoaderï¼šJavaç¼–å†™ï¼ŒåŠ è½½æ‰©å±•åº“javax.* AppClassLoaderï¼šjavaç¼–å†™ï¼ŒåŠ è½½ç¨‹åºæ‰€åœ¨ç›®å½•ï¼ˆClass.pathï¼‰ CustomClassLoaderï¼šJavaç¼–å†™ï¼Œå®šåˆ¶åŒ–åŠ è½½ï¼Œè‡ªå®šä¹‰åŠ è½½ ç±»åŠ è½½å™¨çš„åŒäº²å§”æ´¾æœºåˆ¶ï¼š ðŸ‘† æŸ¥çœ‹æ˜¯å¦åŠ è½½è¿‡ å°è¯•Load JRE\lib\rt.jar æˆ–è€… â€‹ Bootstrap ClassLoader Xbootclasspathé€‰é¡¹æŒ‡å®šçš„jaråŒ… ðŸ‘‡ ðŸ‘† æŸ¥çœ‹æ˜¯å¦åŠ è½½è¿‡ å°è¯•Load JRE\lib\ext*.jar æˆ– â€‹ Extension ClassLoader Djava.ext.dirsæŒ‡å®šç›®å½•ä¸‹çš„jaråŒ… ðŸ‘‡ ðŸ‘† æŸ¥çœ‹æ˜¯å¦åŠ è½½è¿‡ å°è¯•load ClassPath æˆ– Djava. â€‹ App ClassLoader class.pathæŒ‡å®šç›®å½•ä¸‹çš„ç±»å’ŒjaråŒ… ðŸ‘‡ ðŸ‘† æŸ¥çœ‹æ˜¯å¦åŠ è½½è¿‡ é€šè¿‡java.lang.ClassLoaderçš„å­ç±» â€‹ Custom ClassLoader è‡ªå®šä¹‰åŠ è½½çš„class â€‹ ðŸ‘‡ â€‹ éƒ½æ²¡æœ‰ç±»æ–‡ä»¶ï¼ŒæŠ›å‡ºClassNotFoundException ä¸ºä»€ä¹ˆè¦ä½¿ç”¨åŒäº²å§”æ´¾æœºåˆ¶åŠ è½½ç±»ï¼š é¿å…å¤šä»½åŒæ ·çš„å­—èŠ‚ç çš„åŠ è½½ã€‚ egï¼šæ¯”å¦‚Aè°ƒç”¨è¿‡zç±»ï¼ŒBä¹Ÿè¦è°ƒç”¨zç±»æ—¶ï¼Œé€å±‚æŸ¥çœ‹loaderæ˜¯å¦åœ¨åŠ è½½è¿‡zç±»ã€‚ LoadClasså’ŒforNameçš„åŒºåˆ«ç±»çš„åŠ è½½æ–¹å¼ï¼š éšå¼åŠ è½½ï¼šnewï¼ˆæ— éœ€è°ƒç”¨new instanceæ–¹æ³•å³å¯åˆ›å»ºå®žä¾‹ï¼Œè¿˜æ”¯æŒå¸¦å‚æ•°çš„æž„é€ å™¨ç”Ÿæˆå¯¹è±¡å®žä¾‹ï¼‰ æ˜¾ç¤ºåŠ è½½ï¼šloadClass,fornameç­‰ ï¼ˆèŽ·å¾—ClassåŽï¼Œéœ€è¦è°ƒç”¨classçš„new instanceæ–¹æ³•ï¼Œåˆ›å»ºå¯¹è±¡çš„å®žä¾‹ï¼Œä¸æ”¯æŒå‚æ•°ï¼Œéœ€é€šè¿‡åå°„æ‰èƒ½è°ƒç”¨å‚æ•°ï¼‰ ç±»çš„è£…è½½è¿‡ç¨‹ï¼š åŠ è½½ï¼šé€šè¿‡ClassLoaderåŠ è½½classæ–‡ä»¶å­—èŠ‚ç ï¼Œç”Ÿæˆclasså¯¹è±¡ã€‚ é“¾æŽ¥ï¼š æ ¡éªŒï¼šæ£€æŸ¥åŠ è½½çš„classçš„æ­£ç¡®æ€§å’Œå®‰å…¨æ€§ å‡†å¤‡ï¼šä¸ºç±»å˜é‡åˆ†é…å­˜å‚¨ç©ºé—´å¹¶è®¾ç½®ç±»å˜é‡åˆå§‹å€¼ï¼ˆstaticï¼‰ è§£æžï¼šJVMä¸ºå¸¸é‡æ± å†…çš„ç¬¦å·å¼•ç”¨è½¬æ¢ä¸ºç›´æŽ¥ï¼ˆå¯é€‰ï¼‰ åˆå§‹åŒ–ï¼šæ‰§è¡Œç±»å˜é‡èµ‹å€¼å’Œé™æ€ä»£ç å— Class.forNameå¾—åˆ°çš„classæ˜¯åˆå§‹åŒ–å®Œæˆçš„ loadClasså¾—åˆ°çš„classæ˜¯è¿˜æ²¡æœ‰é“¾æŽ¥çš„ ä»€ä¹ˆæ—¶å€™ç”¨åˆ°loadClass? eg:åœ¨Spring IOCä¸­ç”¨äº†å¤§é‡çš„å»¶è¿ŸåŠ è½½åŠ å¿«ç¼–è¯‘é€Ÿåº¦ï¼Œè€Œç”¨loadClassè¯»å–Beanæ–‡ä»¶æ—¶ï¼Œä¸éœ€è¦åŠ è½½ç±»çš„ä»£ç ï¼ŒåŠ å¿«äº†é€Ÿåº¦ï¼Œä»£ç ç•™åˆ°ä»¥åŽç”¨åˆ°è¯¥ç±»æ—¶å†ç¼–è¯‘ã€‚]]></content>
      <categories>
        <category>Offer</category>
      </categories>
      <tags>
        <tag>å‰‘æŒ‡Offer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Offer-Net01]]></title>
    <url>%2F2019%2F09%2F02%2FOffer-Net01%2F</url>
    <content type="text"><![CDATA[å‰‘æŒ‡Offer-01 é•¿æœŸæ”¯æŒJDK8å’ŒJDK11 ç½‘ç»œçŸ¥è¯†è€ƒç‚¹ åå‘äºŽç†è®º OSIå¼€æ”¾å¼äº’è”å‚è€ƒæ¨¡åž‹ 1234&gt; å¸‚é¢å­˜åœ¨å››ã€äº”ã€ä¸ƒå±‚åè®®&gt; &gt; å›½é™…ï¼šä¸ƒå±‚åè®®&gt; ç¬¬ä¸€å±‚ï¼šç‰©ç†å±‚ å‘é€7ï¼ŒæŽ¥æ”¶1 é“¾è·¯å±‚ è½¬æ¢ä¸ºæ¯”ç‰¹æµ é¦–å…ˆè§£å†³ä¸¤å°ç‰©ç†æœºä¹‹é—´çš„é€šä¿¡éœ€æ±‚ï¼šå‘é€æ¯”ç‰¹æµ ä¸»è¦å®šä¹‰äº†ç‰©ç†è®¾å¤‡çš„æ ‡å‡†ï¼šç½‘çº¿ç±»åž‹ã€å…‰çº¤çš„æŽ¥å£ç­‰â€¦.. ä¼ è¾“æ¯”ç‰¹æµï¼Œå³0101çš„äºŒè¿›åˆ¶ç è½¬æ¢ä¸ºç”µæµå¼ºå¼±ï¼Œä»¤ä¸€å°æœºå™¨å°†ç”µæµè½¬æ¢ä¸ºäºŒè¿›åˆ¶ã€‚ï¼ˆæ•°æ¨¡è½¬æ¢ä¸Žæ¨¡æ•°è½¬æ¢ï¼‰ ç¬¬äºŒå±‚ï¼šæ•°æ®é“¾è·¯å±‚ é“¾è·¯å±‚ ä¼ è¾“æ¯”ç‰¹æµä¸­ï¼Œå¯èƒ½å‡ºçŽ°ä¼ è¾“ä¸å®Œæ•´çš„å¯èƒ½ã€‚ å®šä¹‰äº†å¦‚ä½•æ ¼å¼åŒ–æ•°æ®ä»¥åŠæŽ§åˆ¶ç‰©ç†æ•°æ®çš„è®¿é—®ã€‚é”™è¯¯æ£€æµ‹å’Œçº æ­£ã€‚ å°†æ¯”ç‰¹æ•°æ®ç»„æˆäº†å¸§ï¼Œäº¤æ¢æœºåœ¨è¿™ä¸€å±‚å¯¹å¸§è§£ç ï¼Œæ ¹æ®ä¿¡æ¯ä¼ é€ç»™æ­£ç¡®çš„æŽ¥æ”¶æ–¹ã€‚ ç¬¬ä¸‰å±‚ï¼šç½‘ç»œå±‚ å‘é€5ï¼ŒæŽ¥æ”¶3 ç½‘ç»œå±‚ åŠ å…¥ï¼ˆè§£é™¤ï¼‰IPé¦–éƒ¨ å¦‚ä½•æ‰¾åˆ°ç›®æ ‡èŠ‚ç‚¹ä»¥åŠæœ€ä½³è·¯å¾„ã€‚ å°†ç½‘ç»œåœ°å€è½¬æ¢æˆå¯¹åº”çš„ç‰©ç†åœ°å€ã€‚é€šè¿‡å µå¡žç¨‹åº¦ã€èŠ‚ç‚¹æ•°é‡ç­‰è°ƒèŠ‚å†³å®šæœ€ä½³è·¯å¾„ã€‚ è·¯ç”±å™¨ä»Žå±žäºŽç½‘ç»œå±‚ã€‚ TCP/IPåè®®ã€‚ ç¬¬å››å±‚ï¼šä¼ è¾“å±‚ å‘é€4ï¼ŒæŽ¥æ”¶4 ä¼ è¾“å±‚ ######æ•°æ®åˆ‡åˆ†ä¸ºä¸ºIPæ•°æ®åŒ…ã€‚ å¯¹å¤§åž‹æ•°æ®è¿›è¡Œåˆ‡åˆ†ï¼Œå¦‚æžœä¸¢å¤±æŸä¸€æ®µæ•°æ®ï¼Œä¼ è¾“å±‚è§£å†³ã€‚ å¯¹æ¯æ®µæ•°æ®å®‰æŽ’åºåˆ—å·ï¼ŒæŽ¥æ”¶ç«¯å¯ä»¥æŒ‰ç…§é¡ºåºé‡ç»„ã€‚ TCP UDPåè®® ç¬¬äº”å±‚ï¼šä¼šè¯å±‚ å‘é€3ï¼ŒæŽ¥æ”¶5 åº”ç”¨å±‚ ä¸èƒ½æ¯ä¸€æ¬¡é€šä¿¡éƒ½è¦è¿›è¡Œä»¥ä¸Šçš„çŽ¯èŠ‚ï¼Œéº»çƒ¦ã€‚ å¹¶ä¸”ä¸åŒæœºå™¨ä¸Šçš„ç”¨æˆ·ä¹‹é—´å»ºç«‹ä¼šè¯ã€‚ æ‰€ä»¥è¦å»ºç«‹å’Œç®¡ç†åº”ç”¨ç¨‹åºä¹‹é—´çš„é€šä¿¡ã€‚ ç¬¬å…­å±‚ï¼šè¡¨ç¤ºå±‚ å‘é€2ï¼ŒæŽ¥æ”¶6 åº”ç”¨å±‚ ä¸åŒç³»ç»Ÿä¹‹é—´å¯èƒ½ä¸èƒ½è¿è¡Œã€‚ å°†æ•°æ®æŒ‰ç…§ç½‘ç»œèƒ½ç†è§£çš„æ–¹æ¡ˆè¿›è¡Œæ ¼å¼åŒ–ã€‚ æ ¼å¼åŒ–æ ¹æ®ç½‘ç»œç±»åž‹ä¸åŒè€Œä¸åŒã€‚ ç¬¬ä¸ƒå±‚ï¼šåº”ç”¨å±‚ å‘é€1ï¼ŒæŽ¥æ”¶7 åº”ç”¨å±‚ åœ¨æ•°æ®ä¸­åŠ å…¥ï¼ˆè§£é™¤ï¼‰TCPé¦–éƒ¨ï¼Œå½¢æˆhttpæŠ¥æ–‡ å‘é€æ–¹çŸ¥é“å‘é€çš„é•¿åº¦ã€æ¶ˆæ¯å¤´ã€‚ æŽ¥æ”¶æ–¹ä¸çŸ¥é“ã€‚ åº”ç”¨å±‚è§„å®šæ•°æ®ç”¨å›ºå®šçš„æ¶ˆæ¯å¤´å‘é€æ¶ˆæ¯ã€‚ 1OSIçš„å®žçŽ°ï¼šTCP/IPï¼ˆå¤šæ•°æƒ…å†µä¸ºåè®®ç¾¤çš„ç»Ÿç§°ï¼ŒåŒ…æ‹¬å¾ˆå¤šè·ŸTCPå’ŒIPåè®®æœ‰å…³çš„åè®®ï¼‰]]></content>
      <categories>
        <category>Offer</category>
      </categories>
      <tags>
        <tag>å‰‘æŒ‡Offer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MySQL_04]]></title>
    <url>%2F2019%2F05%2F19%2FMySQL-04%2F</url>
    <content type="text"><![CDATA[MYSQL[TOC] è§†å›¾(äº†è§£) è™šè¡¨å®žè¡¨ï¼šcreate table åˆ›å»ºå‡ºæ¥çš„è¡¨ ä»Žç”¨æˆ·è§’åº¦æ¥çœ‹ï¼Œä¸€ä¸ªè§†å›¾æ˜¯ä»Žä¸€ä¸ªç‰¹å®šçš„è§’åº¦æ¥æŸ¥çœ‹æ•°æ®åº“ä¸­çš„æ•°æ® ã€‚ä»Žæ•°æ®åº“ç³»ç»Ÿå†…éƒ¨æ¥çœ‹ï¼Œä¸€ä¸ªè§†å›¾æ˜¯ç”±SELECTè¯­å¥ç»„æˆçš„æŸ¥è¯¢å®šä¹‰çš„è™šæ‹Ÿè¡¨ ã€‚ä»Žæ•°æ®åº“ç³»ç»Ÿå†…éƒ¨æ¥çœ‹ï¼Œè§†å›¾æ˜¯ç”±ä¸€å¼ æˆ–å¤šå¼ è¡¨ä¸­çš„æ•°æ®ç»„æˆçš„ï¼Œä»Žæ•°æ®åº“ç³»ç»Ÿå¤–éƒ¨æ¥çœ‹ï¼Œè§†å›¾å°±å¦‚åŒä¸€å¼ è¡¨ ä¸€æ ·ï¼Œå¯¹è¡¨èƒ½å¤Ÿè¿›è¡Œçš„ä¸€èˆ¬æ“ä½œéƒ½å¯ä»¥åº”ç”¨äºŽè§†å›¾ï¼Œä¾‹å¦‚æŸ¥è¯¢ï¼Œæ’å…¥ï¼Œä¿®æ”¹ï¼Œåˆ é™¤æ“ä½œç­‰ã€‚ ä»Žè™šè¡¨ä¸­å¢žåˆ æ”¹æ•°æ®ï¼Œå¯¹å®žè¡¨çš„å½±å“æ˜¯æ— æ³•é¢„çŸ¥çš„ï¼Œæ‰€ä»¥è™šè¡¨ä»…ç”¨æŸ¥è¯¢ï¼Œä¸å…è®¸å¢žåˆ æ”¹ 2ã€è§†å›¾çš„ç”¨é€” ç­›é€‰è¡¨ä¸­çš„è¡Œ(å¯ä»¥å°†æŒ‡å®šçš„åˆ—é€šè¿‡è§†å›¾é‡Šæ”¾å‡ºæ¥ï¼Œä¹Ÿå¯ä»¥éšè—ä¸€äº›æ¯”è¾ƒéšç§çš„åˆ—) é˜²æ­¢æœªç»è®¸å¯çš„ç”¨æˆ·è®¿é—®æ•æ„Ÿæ•°æ®(è§†å›¾æƒé™) é™ä½Žæ•°æ®åº“çš„å¤æ‚ç¨‹åº¦ï¼ˆè§†å›¾ä½“çŽ°çš„æ˜¯é€»è¾‘ï¼Œä¹Ÿæ˜¯ä¸šåŠ¡ï¼‰ å°†å¤šä¸ªç‰©ç†æ•°æ®åº“æŠ½è±¡ä¸ºä¸€ä¸ªé€»è¾‘æ•°æ®åº“ï¼ˆä¸šåŠ¡ï¼‰ ä½¿ç”¨è§†å›¾å¯ä»¥ç»™ç”¨æˆ·å’Œå¼€å‘äººå‘˜å¸¦æ¥å¾ˆå¤šå¥½å¤„ã€‚å…·ä½“ä¸ºï¼š A. å¯¹æœ€ç»ˆç”¨æˆ·çš„å¥½å¤„ ï¼ˆ 1 ï¼‰ç»“æžœæ›´å®¹æ˜“ç†è§£ åˆ›å»ºè§†å›¾æ—¶ï¼Œå¯ä»¥å°†åˆ—åæ”¹ä¸ºæœ‰æ„ä¹‰çš„åç§°ï¼Œä½¿ç”¨æˆ·æ›´å®¹æ˜“ç†è§£åˆ—æ‰€ä»£è¡¨çš„å†…å®¹ã€‚åœ¨è§†å›¾ä¸­ä¿®æ”¹åˆ—åä¸ä¼šå½±å“åŸºè¡¨çš„åˆ—åã€‚ ï¼ˆ 2 ï¼‰èŽ·å¾—æ•°æ®æ›´å®¹æ˜“ å¾ˆå¤šäººå¯¹ SQL ä¸å¤ªäº†è§£ï¼Œå› æ­¤å¯¹ä»–ä»¬æ¥è¯´åˆ›å»ºå¯¹å¤šä¸ªè¡¨çš„å¤æ‚æŸ¥è¯¢å¾ˆå›°éš¾ã€‚å¯ä»¥é€šè¿‡åˆ›å»ºè§†å›¾æ¥æ–¹ä¾¿ç”¨æˆ·è®¿é—®å¤šä¸ªè¡¨ä¸­çš„æ•°æ®ã€‚ B. å¯¹å¼€å‘äººå‘˜çš„å¥½å¤„ ï¼ˆ 1 ï¼‰é™åˆ¶æ•°æ®æ£€ç´¢æ›´å®¹æ˜“ å¼€å‘äººå‘˜æœ‰æ—¶éœ€è¦éšè—æŸäº›è¡Œæˆ–åˆ—ä¸­çš„ä¿¡æ¯ã€‚é€šè¿‡ä½¿ç”¨è§†å›¾ï¼Œç”¨æˆ·å¯ä»¥çµæ´»åœ°è®¿é—®ä»–ä»¬éœ€è¦çš„æ•°æ®ï¼ŒåŒæ—¶ä¿è¯åŒä¸€ä¸ªè¡¨æˆ–å…¶ä»–è¡¨ä¸­çš„å…¶ä»–æ•°æ®çš„å®‰å…¨æ€§ã€‚è¦å®žçŽ°è¿™ä¸€ç›®æ ‡ï¼Œå¯ä»¥åœ¨åˆ›å»ºè§†å›¾æ—¶å°†è¦å¯¹ç”¨æˆ·ä¿å¯†çš„åˆ—æŽ’é™¤åœ¨å¤–ã€‚ ï¼ˆ 2 ï¼‰ç»´æŠ¤åº”ç”¨ç¨‹åºæ›´æ–¹ä¾¿ â€‹ è°ƒè¯•è§†å›¾æ¯”è°ƒè¯•æŸ¥è¯¢æ›´å®¹æ˜“ã€‚è·Ÿè¸ªè§†å›¾ä¸­è¿‡ç¨‹çš„å„ä¸ªæ­¥éª¤ä¸­çš„é”™è¯¯æ›´ä¸ºå®¹æ˜“ï¼Œè¿™æ˜¯å› ä¸ºæ‰€æœ‰çš„æ­¥éª¤éƒ½æ˜¯è§†å›¾çš„ç»„æˆéƒ¨åˆ† ä»Žä¸€ä¸ªæˆ–è€…å¤šä¸ªè¡¨æˆ–è§†å›¾ä¸­å¯¼å‡ºçš„è™šæ‹Ÿè¡¨ï¼Œå…¶ç»“æž„å’Œæ•°æ®æ˜¯å»ºç«‹åœ¨å¯¹è¡¨çš„æŸ¥è¯¢åŸºç¡€ä¸Šçš„ã€‚ ç†è®ºä¸Šå®ƒå¯ä»¥åƒæ™®é€šçš„ç‰©ç†è¡¨ï¼ˆå®žè¡¨ï¼‰ä¸€æ ·ä½¿ç”¨ï¼Œä¾‹å¦‚å¢žã€åˆ ã€æ”¹ã€æŸ¥ç­‰ï¼Œä¿®æ”¹è§†å›¾ä¸­çš„æ•°æ®å®žé™…ä¸Šæ˜¯ä¿®æ”¹åŽŸå§‹æ•°æ®è¡¨ã€‚å› ä¸ºä¿®æ”¹è§†å›¾æœ‰è®¸å¤šé™åˆ¶ï¼Œæ‰€ä»¥åœ¨å®žé™…å¼€å‘ä¸­ä¸€èˆ¬è§†å›¾ä»…åšæŸ¥è¯¢ä½¿ç”¨ã€‚ 123create view v_detail as select * from table å®žè¡¨çš„æ”¹å˜ï¼Œä¼šå®žæ—¶åæ˜ åˆ°è™šè¡¨ä¸Š ç´¢å¼•ï¼ˆäº†è§£ï¼‰ indexç”¨é€”:æˆ‘ä»¬å¯¹æ•°æ®æŸ¥è¯¢åŠå¤„ç†é€Ÿåº¦å·²æˆä¸ºè¡¡é‡åº”ç”¨ç³»ç»Ÿæˆè´¥çš„æ ‡å‡†ï¼Œè€Œé‡‡ç”¨ç´¢å¼•æ¥åŠ å¿«æ•°æ®å¤„ç†é€Ÿåº¦é€šå¸¸æ˜¯æœ€æ™®éé‡‡ç”¨çš„ä¼˜åŒ–æ–¹æ³•ã€‚ ç´¢å¼•æ˜¯ä»€ä¹ˆ:æ•°æ®åº“ä¸­çš„ç´¢å¼•ç±»ä¼¼äºŽä¸€æœ¬ä¹¦çš„ç›®å½•ï¼Œåœ¨ä¸€æœ¬ä¹¦ä¸­ä½¿ç”¨ç›®å½•å¯ä»¥å¿«é€Ÿæ‰¾åˆ°ä½ æƒ³è¦çš„ä¿¡æ¯ï¼Œè€Œä¸éœ€è¦è¯»å®Œå…¨ä¹¦ã€‚åœ¨æ•°æ®åº“ä¸­ï¼Œæ•°æ®åº“ç¨‹åºä½¿ç”¨ç´¢å¼•å¯ä»¥å®šå‘åˆ°è¡¨ä¸­çš„æ•°æ®ï¼Œè€Œä¸å¿…æ‰«ææ•´ä¸ªè¡¨ã€‚ä¹¦ä¸­çš„ç›®å½•æ˜¯ä¸€ä¸ªå­—è¯ä»¥åŠå„å­—è¯æ‰€åœ¨çš„é¡µç åˆ—è¡¨ï¼Œæ•°æ®åº“ä¸­çš„ç´¢å¼•æ˜¯è¡¨ä¸­çš„å€¼ä»¥åŠå„å€¼å­˜å‚¨ä½ç½®çš„åˆ—è¡¨ã€‚ ç´¢å¼•çš„åˆ©å¼Šï¼šæŸ¥è¯¢æ‰§è¡Œçš„å¤§éƒ¨åˆ†å¼€é”€æ˜¯I/Oï¼Œä½¿ç”¨ç´¢å¼•æé«˜æ€§èƒ½çš„ä¸€ä¸ªä¸»è¦ç›®æ ‡æ˜¯é¿å…å…¨è¡¨æ‰«æï¼Œå› ä¸ºå…¨è¡¨æ‰«æéœ€è¦ä»Žç£ç›˜ä¸Šè¯»å–è¡¨çš„æ¯ä¸€ä¸ªæ•°æ®é¡µï¼Œå¦‚æžœæœ‰ç´¢å¼•æŒ‡å‘æ•°æ®å€¼ï¼Œåˆ™æŸ¥è¯¢åªéœ€è¦è¯»å°‘æ•°æ¬¡çš„ç£ç›˜å°±è¡Œå•¦ã€‚æ‰€ä»¥åˆç†çš„ä½¿ç”¨ç´¢å¼•èƒ½åŠ é€Ÿæ•°æ®çš„æŸ¥è¯¢ã€‚ä½†æ˜¯ç´¢å¼•å¹¶ä¸æ€»æ˜¯æé«˜ç³»ç»Ÿçš„æ€§èƒ½ï¼Œå¸¦ç´¢å¼•çš„è¡¨éœ€è¦åœ¨æ•°æ®åº“ä¸­å ç”¨æ›´å¤šçš„å­˜å‚¨ç©ºé—´ï¼ŒåŒæ ·ç”¨æ¥å¢žåˆ æ•°æ®çš„å‘½ä»¤è¿è¡Œæ—¶é—´ä»¥åŠç»´æŠ¤ç´¢å¼•æ‰€éœ€çš„å¤„ç†æ—¶é—´ä¼šæ›´é•¿ã€‚æ‰€ä»¥æˆ‘ä»¬è¦åˆç†ä½¿ç”¨ç´¢å¼•ï¼ŒåŠæ—¶æ›´æ–°åŽ»é™¤æ¬¡ä¼˜ç´¢å¼•ã€‚ ç³»ç»Ÿä¼šä¸ºprimary keyå’Œuniqueè‡ªåŠ¨åˆ›å»ºç´¢å¼• æ˜¯å¦é€‚åˆåˆ›å»ºç´¢å¼•çš„åˆ—ï¼š è¯¥åˆ—æ•°æ®æ˜¯å¦ç»å¸¸å˜åŒ–ï¼Œå¦‚æžœç»å¸¸å˜åŒ–ï¼Œä¸é€‚åˆåˆ›å»ºç´¢å¼• æŸ¥è¯¢ä½¿ç”¨é¢‘ç¹çš„åˆ—ï¼Œé€‚åˆåˆ›å»ºç´¢å¼• æ‹“å±•é˜…è¯» ç´¢å¼•å»ºç«‹åŽŸåˆ™å‚è€ƒ åˆ›å»ºç´¢å¼•è¯­æ³• 123CREATE INDEXå¯å¯¹è¡¨å¢žåŠ æ™®é€šç´¢å¼•æˆ–UNIQUEç´¢å¼•ã€‚CREATE INDEX index_name ON table_name (column_list)CREATE UNIQUE INDEX index_name ON table_name (column_list) 12345# å¯¹courseè¡¨çš„cnameåˆ—åˆ›å»ºç´¢å¼•ï¼Œç´¢å¼•çš„åå­—ä¸ºindex_cnamecreate index index_cname on course(cname);# ä»Žcourseè¡¨ä¸­å°†ç´¢å¼•index_cnameåˆ é™¤drop index index_cname on course; ##æµç¨‹æŽ§åˆ¶å‡½æ•° CASE-WHEN-THEN-ELSE-END CASE WHEN æ¡ä»¶1 THEN ç»“æžœ1 [WHEN æ¡ä»¶2 THEN ç»“æžœ2 â€¦] [ELSE æœ€ç»ˆç»“æžœ] # å¦‚æžœæ²¡æœ‰åŒ¹é…çš„ç»“æžœå€¼ï¼Œåˆ™è¿”å›žç»“æžœä¸ºELSEåŽçš„ç»“æžœï¼Œå¦‚æžœæ²¡æœ‰ELSEéƒ¨åˆ†ï¼Œåˆ™è¿”å›žå€¼ä¸º NULLEND æŸ¥è¯¢å­¦ç”Ÿçš„æˆç»©ä¿¡æ¯ï¼Œå­¦å·ï¼Œå§“åï¼Œè¯¾ç¨‹åï¼Œæˆç»©ï¼Œä»¥åŠæˆç»©çš„ç­‰çº§ 90-100ä¼˜ç§€ 75-89 è‰¯å¥½ 60-75åŠæ ¼ 60åˆ†ä»¥ä¸‹ä¸åŠæ ¼ 12345678910select s.sno as &apos;å­¦å·&apos;,sname as &apos;å§“å&apos;,cname &apos;è¯¾ç¨‹å&apos;,grade &apos;æˆç»©&apos;, case when grade&gt;=90 then &apos;ä¼˜ç§€&apos; when grade&gt;=75 then &apos;è‰¯å¥½&apos; when grade&gt;=60 then &apos;åŠæ ¼&apos; ELSE &apos;ä¸åŠæ ¼&apos; END AS &apos;ç­‰çº§&apos; # END è¡¨ç¤ºcaseè¯­å¥çš„ç»“æŸ &apos;ç­‰çº§&apos;åˆ—çš„åˆ«åfrom student s,sc, course cwhere s.sno=sc.sno and c.cno=sc.cno ç³»åç»ƒä¹  æŸ¥è¯¢å­¦ç”Ÿä¿¡æ¯ï¼Œå¦‚æžœç³»åä¸ºCSï¼Œåˆ™æ˜¾ç¤ºè®¡ç®—æœºç§‘å­¦ï¼Œå¦‚æžœç³»åä¸ºISï¼Œåˆ™æ˜¾ç¤ºä¿¡æ¯ç³»ç»Ÿï¼Œå¦‚æžœç³»åä¸ºMAï¼Œåˆ™æ˜¾ç¤ºæ•°å­¦ 12 IF IF(æ¡ä»¶,æ¡ä»¶ä¸ºçœŸæ—¶æ‰§è¡Œ,æ¡ä»¶ä¸ºå‡æ—¶æ‰§è¡Œ); #ç±»ä¼¼äºŽjavaä¸­çš„ boolean ? A : B ä¸‰ç›®è¿ç®—ç¬¦ è¾“å‡ºå­¦ç”Ÿä¿¡æ¯ï¼Œå¦‚æžœæ€§åˆ«ä¸ºFåˆ™è¾“å‡ºå¥³ï¼Œå¦‚æžœä¸ºMï¼Œåˆ™è¾“å‡ºç”· 12select sno å­¦å·,sname å§“å,if(ssex=&apos;M&apos;,&apos;ç”·&apos;,&apos;å¥³&apos;) as æ€§åˆ«,sdept æ‰€åœ¨ç³»from student æŸ¥è¯¢å­¦ç”Ÿä¿¡æ¯ï¼Œå¦‚æžœç³»åä¸ºCSï¼Œåˆ™æ˜¾ç¤ºè®¡ç®—æœºç§‘å­¦ï¼Œå¦‚æžœç³»åä¸ºISï¼Œåˆ™æ˜¾ç¤ºä¿¡æ¯ç³»ç»Ÿï¼Œå¦‚æžœç³»åä¸ºMAï¼Œåˆ™æ˜¾ç¤ºæ•°å­¦ 123select sno å­¦å·,sname å§“å,if(ssex=&apos;M&apos;,&apos;ç”·&apos;,&apos;å¥³&apos;) as æ€§åˆ«,if(sdept=&apos;CS&apos;,&apos;è®¡ç®—æœºç§‘å­¦&apos;,if(sdept=&apos;MA&apos;,&apos;æ•°å­¦&apos;,&apos;ä¿¡æ¯ç³»ç»Ÿ&apos;)) æ‰€åœ¨ç³»from student IFNULL IFNULL(EXP1,EXP2) EXP1å¦‚æžœä¸ºç©ºï¼Œåˆ™æ˜¾ç¤ºEXP2çš„å†…å®¹ï¼Œå¦‚æžœä¸ä¸ºç©ºï¼Œå°±æ˜¾ç¤ºå…¶æœ¬èº«å†…å®¹ æŸ¥è¯¢è¯¾ç¨‹çš„å…ˆä¿®è¯¾ï¼Œå¦‚æžœå…ˆä¿®è¯¾ä¸ºnullï¼Œåˆ™æ˜¾ç¤ºæ—  12select cno è¯¾ç¨‹å·,cname è¯¾ç¨‹å,IFNULL(CPNO,&apos;æ— &apos;) å…ˆä¿®è¯¾,ccredit å­¦åˆ†from course å­˜å‚¨è¿‡ç¨‹å­˜å‚¨è¿‡ç¨‹ï¼ˆStored Procedureï¼‰æ˜¯ä¸€ç»„ä¸ºäº†å®Œæˆç‰¹å®šåŠŸèƒ½çš„SQLè¯­å¥é›†ï¼Œç»ç¼–è¯‘åŽå­˜å‚¨åœ¨æ•°æ®åº“ä¸­ï¼Œç”¨æˆ·é€šè¿‡æŒ‡å®šå­˜å‚¨è¿‡ç¨‹çš„åå­—å¹¶ç»™å®šå‚æ•°ï¼ˆå¦‚æžœè¯¥å­˜å‚¨è¿‡ç¨‹å¸¦æœ‰å‚æ•°ï¼‰æ¥è°ƒç”¨æ‰§è¡Œå®ƒã€‚ å­˜å‚¨è¿‡ç¨‹æ˜¯å¯ç¼–ç¨‹çš„å‡½æ•°ï¼Œåœ¨æ•°æ®åº“ä¸­åˆ›å»ºå¹¶ä¿å­˜ï¼Œå¯ä»¥ç”±SQLè¯­å¥å’ŒæŽ§åˆ¶ç»“æž„ç»„æˆã€‚å½“æƒ³è¦åœ¨ä¸åŒçš„åº”ç”¨ç¨‹åºæˆ–å¹³å°ä¸Šæ‰§è¡Œç›¸åŒçš„å‡½æ•°ï¼Œæˆ–è€…å°è£…ç‰¹å®šåŠŸèƒ½æ—¶ï¼Œå­˜å‚¨è¿‡ç¨‹æ˜¯éžå¸¸æœ‰ç”¨çš„ã€‚ è¯­æ³•CREATE PROCEDURE å­˜å‚¨è¿‡ç¨‹å (å‚æ•°åˆ—è¡¨) BEGIN â€“ ä»£ç  END å‚æ•° å­˜å‚¨è¿‡ç¨‹æ ¹æ®éœ€è¦å¯èƒ½ä¼šæœ‰è¾“å…¥ã€è¾“å‡ºã€è¾“å…¥è¾“å‡ºå‚æ•°ï¼Œå¤šä¸ªå‚æ•°ç”¨â€,â€åˆ†å‰²å¼€ã€‚å…±æœ‰ä¸‰ç§å‚æ•°ç±»åž‹,IN,OUT,INOUT: INå‚æ•°çš„å€¼å¿…é¡»åœ¨è°ƒç”¨å­˜å‚¨è¿‡ç¨‹æ—¶æŒ‡å®šï¼Œåœ¨å­˜å‚¨è¿‡ç¨‹ä¸­å¯ä»¥ä¿®æ”¹è¯¥å‚æ•°çš„å€¼ï¼Œä½†ä¸èƒ½è¢«è¿”å›ž OUTè¯¥å€¼å¯åœ¨å­˜å‚¨è¿‡ç¨‹å†…éƒ¨è¢«æ”¹å˜ï¼Œå¹¶è¿”å›ž INOUTè°ƒç”¨æ—¶æŒ‡å®šï¼Œå¹¶ä¸”å¯è¢«æ”¹å˜å’Œè¿”å›ž è°ƒç”¨ è°ƒç”¨å­˜å‚¨è¿‡ç¨‹: CALL å­˜å‚¨è¿‡ç¨‹å(å‚æ•°åˆ—è¡¨); åˆ é™¤ åˆ é™¤å­˜å‚¨è¿‡ç¨‹: DROP PROCEDURE å­˜å‚¨è¿‡ç¨‹å; å®žä¾‹1 è¾“å…¥å‚æ•°æœ‰å¤šä¸ª å®šä¹‰ 1234567891011DROP PROCEDURE IF EXISTS p1;# å¦‚æžœå­˜å‚¨è¿‡ç¨‹p1å­˜åœ¨åˆ™åˆ é™¤# åˆ›å»ºå­˜å‚¨è¿‡ç¨‹CREATE PROCEDURE p1(IN a INT, IN b VARCHAR(20))BEGIN select a; select b; set a=20; set b=&apos;hello world&apos;; select a; select b;END; è°ƒç”¨1 1call p1(10,&apos;abcd&apos;) è°ƒç”¨2 123456set @x=12;set @y=&apos;abc&apos;;call p1(@x,@y);select @x;select @y; @@:è¡¨ç¤ºç³»ç»Ÿå˜é‡@:è¡¨ç¤ºè‡ªå®šä¹‰å˜é‡ å®žä¾‹2 å¸¦æœ‰ä¼ å‡ºå‚æ•° 1234567891011DROP PROCEDURE IF EXISTS p2;CREATE PROCEDURE p2(out a INT, out b VARCHAR(20))BEGIN select a; # ä¼šè¾“å‡ºnullï¼Œå‚æ•°å€¼ä¼ ä¸è¿›æ¥ select b; # ä¼šè¾“å‡ºnullï¼Œå‚æ•°å€¼ä¼ ä¸è¿›æ¥ set a=20; set b=&apos;hello world&apos;; select a; select b;END; 12345set @m=12;set @n=&apos;abc&apos;;call p2(@m,@n);select @m; # æ˜¾ç¤ºå­˜å‚¨è¿‡ç¨‹ä¸­è®¾ç½®çš„å€¼ 20select @n; # æ˜¾ç¤ºå­˜å‚¨è¿‡ç¨‹ä¸­è®¾ç½®çš„å€¼ hello world å®žä¾‹3 è¾“å…¥è¾“å‡ºå‚æ•° 1234567891011DROP PROCEDURE IF EXISTS p3;CREATE PROCEDURE p3(INOUT a INT, INOUT b VARCHAR(20))BEGIN select a; select b; set a=20; set b=&apos;hello world&apos;; select a; select b;END; è°ƒç”¨ 123set @m=12;set @n=&apos;abc&apos;;CALL p3(@m,@n); å®žä¾‹4 å˜é‡å£°æ˜Ž 123456789101112131415DROP PROCEDURE IF EXISTS p4;CREATE PROCEDURE p4(INOUT str VARCHAR(50))BEGIN # DECLARE å˜é‡å[,...] å˜é‡ç±»åž‹ [DEFAULT é»˜è®¤å€¼] # å±€éƒ¨å˜é‡å£°æ˜Žå¿…é¡»åœ¨æœ€ä¸Šé¢,å¹¶ä¸”ä¸­é—´è¿˜ä¸èƒ½æœ‰ä»»ä½•å…¶ä»–ä»£ç  DECLARE a VARCHAR(32); DECLARE b VARCHAR(32); DECLARE c VARCHAR(32) DEFAULT &apos;hello&apos;; select sno,sname into a,b from student where sno=&apos;200215121&apos;; set str=CONCAT(a,b,c);END; è°ƒç”¨ 123set @s=&apos;&apos;;CALL p4(@s);select @s; å®žä¾‹5 IF-THENâ€“ELSEIF-THENâ€¦â€“ELSE-END IF 12345678910111213141516DROP PROCEDURE IF EXISTS p5;CREATE PROCEDURE p5(IN stu VARCHAR(10), IN cou INT)BEGIN DECLARE DEG INT; SELECT GRADE INTO DEG FROM sc WHERE SNO=stu and cno=cou; IF DEG&gt;90 THEN SELECT &apos;ä¼˜ç§€&apos;; ELSEIF DEG&gt;85 THEN SELECT &apos;è‰¯å¥½&apos;; ELSEIF DEG&gt;60 THEN SELECT &apos;åŠæ ¼&apos;; ELSE select &apos;ä¸åŠæ ¼&apos;; END IF;END; è°ƒç”¨ 1CALL p5(&apos;200215121&apos;,1) å®žä¾‹6 [å¾ªçŽ¯å:] LOOP è¦å¾ªçŽ¯çš„ä»£ç END LOOP [å¾ªçŽ¯å] LEAVE å¾ªçŽ¯å:è¿™ä¸ªè¯­å¥è¢«ç”¨æ¥é€€å‡ºä»»ä½•è¢«æ ‡æ³¨çš„æµç¨‹æŽ§åˆ¶æž„é€  (è·³å‡ºæŸä¸ªå¾ªçŽ¯)ITERATE å¾ªçŽ¯å:è·³å‡ºæŸä¸ªå¾ªçŽ¯,è¿›å…¥ä¸‹ä¸€æ¬¡å¾ªçŽ¯ åˆ›å»ºè¡¨ï¼Œé€šè¿‡å­˜å‚¨è¿‡ç¨‹å‘è¡¨ä¸­æ’å…¥100æ¡æ•°æ® 123create table t1(id int PRIMARY key auto_increment) å­˜å‚¨è¿‡ç¨‹ 1234567891011121314create PROCEDURE p6()BEGINDECLARE i INT DEFAULT 1; sta:LOOP IF i&gt;100 THEN LEAVE sta; END IF; INSERT into t1 VALUES(null); SET i = i + 1; END LOOP sta;end; è°ƒç”¨ 1call p6(); 1234# æ¸…ç©ºè¡¨ä¸­çš„æ•°æ®ï¼šåˆ é™¤è¡¨ï¼Œé‡å»ºè¡¨ï¼Œå¯çŸ¥idè‡ªå¢žé•¿åºåˆ—ï¼Œä»Žå¼€å¼€å§‹TRUNCATE TABLE t1;# æ¸…ç©ºè¡¨ä¸­çš„æ•°æ®ï¼šå°†æ•°æ®åˆ é™¤ï¼Œå¯çŸ¥idè‡ªå¢žé•¿åºåˆ—ï¼Œä¸€ç›´åœ¨å¢žåŠ delete from t1; æ‹“å±•å­¦ä¹  å­˜å‚¨è¿‡ç¨‹çš„æ¸¸æ ‡cursorï¼ŒéåŽ†è¡¨ä¸­çš„æ¯ä¸€è¡Œæ•°æ®]]></content>
      <categories>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MySQL_03]]></title>
    <url>%2F2019%2F05%2F19%2FMySQL-03%2F</url>
    <content type="text"><![CDATA[MYSQLå¤šè¡¨æŸ¥è¯¢ æŸ¥è¯¢é€‰è¯¾å­¦ç”ŸåŠå…¶é€‰ä¿®è¯¾ç¨‹çš„æƒ…å†µï¼ˆç­‰å€¼è¿žæŽ¥ï¼‰ 123456789101112131415161718192021# æŸ¥è¯¢å‡ºç­‰å€¼è¿žæŽ¥çš„æ‰€æœ‰åˆ—select *from student,scwhere student.sno=sc.sno# æŸ¥è¯¢å‡ºç­‰å€¼è¿žæŽ¥çš„æŒ‡å®šåˆ—select sname,ssex,sdept,cno,grade from student,scwhere student.sno=sc.sno# é‡åˆ°é‡åçš„åˆ—æ—¶ï¼Œä¸€å®šè¦æŒ‡å®šæ‰€å±žçš„è¡¨# å¦åˆ™ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯ # Column &apos;sno&apos; in field list is ambiguousï¼Œè®°ä½è¿™ä¸ªé”™è¯¯select sc.sno,sname,ssex,sdept,cno,grade from student,scwhere student.sno=sc.sno# è¡¨çš„åˆ«åå…¨æƒä»£è¡¨è¡¨,ä¹‹åŽå‡ºçŽ°è¡¨çš„å¼•ç”¨éƒ½è¦ä½¿ç”¨åˆ«åselect sc.sno,s.sname,ssex,sdept,cno,grade from student AS s,scwhere s.sno=sc.sno æŸ¥è¯¢æ¯ä¸€é—¨è¯¾çš„é—´æŽ¥å…ˆä¿®è¯¾ï¼ˆå³å…ˆä¿®è¯¾çš„å…ˆä¿®è¯¾ï¼‰ 1234567891011121314# æŸ¥è¯¢æ¯ä¸€é—¨è¯¾çš„é—´æŽ¥å…ˆä¿®è¯¾ï¼ˆå³å…ˆä¿®è¯¾çš„å…ˆä¿®è¯¾ï¼‰SELECT * from course c1, course c2where c1.cpno=c2.cnoSELECT c1.cno,c2.cpnofrom course c1, course c2where c1.cpno=c2.cno# æŸ¥å‡ºé—´æŽ¥å…ˆä¿®è¯¾ä¸€å®šå­˜åœ¨çš„SELECT c1.cno,c2.cpnofrom course c1, course c2where c1.cpno=c2.cno and c2.cpno is not null å†…è¿žæŽ¥inner joinï¼Œç­‰ä»·äºŽç­‰å€¼è¿žæŽ¥ æŸ¥è¯¢é€‰è¯¾å­¦ç”ŸåŠå…¶é€‰ä¿®è¯¾ç¨‹çš„æƒ…å†µ 12345678910select *from studentinner JOIN scon student.sno=sc.sno# åˆ«åselect s.sno &apos;å­¦å·&apos;,sname &apos;å§“å&apos;from student sinner JOIN sc sson s.sno=ss.sno å¤–è¿žæŽ¥ ä¿ç•™èˆå¼ƒçš„å…ƒç»„ï¼Œåœ¨å¯¹åº”è¢«è¿žæŽ¥è¡¨çš„åˆ†é‡éƒ¨åˆ†ç”¨ç©ºå€¼(NULL)ä»£æ›¿,è¿™ç§è¿žæŽ¥è¢«å«åšå¤–è¿žæŽ¥ å·¦å¤–è¿žæŽ¥ æŸ¥æ‰¾æ¯ä¸ªå­¦ç”Ÿçš„åŸºæœ¬æƒ…å†µåŠé€‰è¯¾æƒ…å†µ 12345select *from student # table1 ä¸»è¡¨LEFT JOIN sc # table2 ä»Žè¡¨ on student.sno=sc.sno# æ˜¾ç¤ºçš„ç»“æžœæ˜¯ä¸»è¡¨ä¸Žä»Žè¡¨è¿›è¡Œç­‰å€¼è¿žæŽ¥çš„ç»“æžœ + ä¸»è¡¨ä¸Žä»Žè¡¨æ²¡æœ‰è¿žæŽ¥çš„è®°å½• å³å¤–è¿žæŽ¥åŒç† å¤åˆæ¡ä»¶è¿žæŽ¥ æŸ¥è¯¢é€‰ä¿®2å·è¯¾ç¨‹ä¸”æˆç»©åœ¨90åˆ†ä»¥ä¸Šçš„æ‰€æœ‰å­¦ç”Ÿ 123SELECT Student.Sno, Sname FROM Student, SC WHERE Student.Sno = SC.Sno AND SC.Cno= 2 AND SC.Grade &gt; 90ï¼› æŸ¥è¯¢é€‰è¯¾å­¦ç”Ÿçš„å­¦å·ã€å§“åã€é€‰ä¿®çš„è¯¾ç¨‹ååŠæˆç»© 1234 SELECT Student.Snoï¼ŒSnameï¼ŒCnameï¼ŒGradeFROM Studentï¼ŒSCï¼ŒCourse WHERE Student.Sno = SC.Sno and SC.Cno = Course.Cnoï¼› åµŒå¥—æŸ¥è¯¢ é€‰ä¿®äº†è¯¾ç¨‹å·ä¸º2çš„å­¦ç”Ÿçš„åå­— 12select sname from studentwhere sno in(select sno from sc where cno=2) åœ¨SELECT â€¦ FROM â€¦ WHERE è¯­å¥ç»“æž„çš„WHERE,FROM,SELECTå­å¥ä¸­éƒ½å¯åµŒå…¥ä¸€ä¸ªSELECTè¯­å¥å— å…¶ä¸Šå±‚æŸ¥è¯¢ç§°ä¸ºå¤–å±‚æŸ¥è¯¢æˆ–çˆ¶æŸ¥è¯¢ å…¶ä¸‹å±‚æŸ¥è¯¢ç§°ä¸ºå†…å±‚æŸ¥è¯¢æˆ–å­æŸ¥è¯¢ SQLè¯­è¨€å…è®¸ä½¿ç”¨å¤šé‡åµŒå¥—æŸ¥è¯¢ åµŒå¥—æŸ¥è¯¢çš„å®žçŽ°ä¸€èˆ¬æ˜¯ä»Žé‡Œåˆ°å¤–ï¼Œå³å…ˆè¿›è¡Œå­æŸ¥è¯¢ï¼Œå†æŠŠå…¶ç»“æžœç”¨äºŽçˆ¶æŸ¥è¯¢ä½œä¸ºæ¡ä»¶ æŸ¥è¯¢ä¸Žâ€œè¯¸è‘›äº®â€åœ¨åŒä¸€ä¸ªç³»å­¦ä¹ çš„å­¦ç”Ÿã€‚ 1234â‘  ç¡®å®šâ€œè¯¸è‘›äº®â€æ‰€åœ¨ç³»å select sdept from student where sname=&apos;è¯¸è‘›äº®&apos; 1234â‘¡ æŸ¥æ‰¾æ‰€æœ‰åœ¨ISç³»å­¦ä¹ çš„å­¦ç”Ÿ SELECT * from studentwhere sdept= &apos;IS&apos;ï¼› 1234567å°†ç¬¬ä¸€æ­¥æŸ¥è¯¢åµŒå…¥åˆ°ç¬¬äºŒæ­¥æŸ¥è¯¢çš„æ¡ä»¶ä¸­SELECT * from studentwhere sdept=(select sdept from student where sname=&apos;è¯¸è‘›äº®&apos;) AND SNAME != &apos;è¯¸è‘›äº®&apos; æŸ¥è¯¢é€‰ä¿®äº†è¯¾ç¨‹åä¸ºâ€œä¿¡æ¯ç³»ç»Ÿâ€çš„å­¦ç”Ÿå­¦å·å’Œå§“å 1234567891011 SELECT Snoï¼ŒSname â‘¢ æœ€åŽåœ¨Studentå…³ç³»ä¸­ FROM Student å–å‡ºSnoå’ŒSnameWHERE Sno IN (SELECT Sno â‘¡ ç„¶åŽåœ¨SCå…³ç³»ä¸­æ‰¾å‡ºé€‰ FROM SC ä¿®äº†3å·è¯¾ç¨‹çš„å­¦ç”Ÿå­¦å· WHERE Cno IN (SELECT Cno â‘  é¦–å…ˆåœ¨Courseå…³ç³»ä¸­æ‰¾å‡º FROM Course â€œä¿¡æ¯ç³»ç»Ÿâ€çš„è¯¾ç¨‹å·ï¼Œä¸º3å· WHERE Cname= â€˜ä¿¡æ¯ç³»ç»Ÿâ€™ ) ); æ‰¾å‡ºæ¯ä¸ªå­¦ç”Ÿè¶…è¿‡ä»–é€‰ä¿®è¯¾ç¨‹å¹³å‡æˆç»©çš„è¯¾ç¨‹å·ã€‚ 1234567select sno,cnofrom sc xwhere grade&gt;( select avg(grade) from sc y where x.sno=y.sno) æŸ¥è¯¢å…¶ä»–ç³»ä¸­æ¯”è®¡ç®—æœºç§‘å­¦æŸä¸€å­¦ç”Ÿå¹´é¾„å°çš„å­¦ç”Ÿå§“åå’Œå¹´é¾„ 1234567SELECT * FROM STUDENT WHERE SAGE&lt; ANY(select sage from student where sdept=&apos;CS&apos;) AND SDEPT !=&apos;CS&apos;# å¦ä¸€ç§å†™æ³•SELECT * FROM STUDENT WHERE SAGE&lt; (select MAX(sage) from student where sdept=&apos;CS&apos;) AND SDEPT !=&apos;CS&apos; &lt;all å°äºŽæœ€å° å°äºŽæ‰€æœ‰ï¼ˆ10,20,5ï¼‰ &gt;all å¤§äºŽæœ€å¤§ &lt;any å°äºŽæœ€å¤§ å°ä¸Žä»»ä½•ä¸€ä¸ª &gt;any å¤§äºŽæœ€å° MYSQLå¸¸ç”¨å‡½æ•°æ•°å­¦å‡½æ•° ABS(VAL)ç»å¯¹å€¼ MOD(V1,V2) å–ä½™ FLOOR(X) å–ä¸‹æ•´ CEIL(X) å–ä¸Šæ•´ ROUND(X) å››èˆäº”å…¥ 12345select ABS(-20);select MOD(9,4);select FLOOR(1.2);SELECT CEIL(1.2);SELECT ROUND(1.4); å­—ç¬¦ä¸²å‡½æ•° CONCAT(str1,str2,â€¦):è¿”å›žæ¥è‡ªäºŽå‚æ•°è¿žç»“çš„å­—ç¬¦ä¸² LENGTH(str):è¿”å›žå­—ç¬¦ä¸²strçš„é•¿åº¦ LEFT(str,len):è¿”å›žå­—ç¬¦ä¸²strçš„æœ€å·¦é¢lenä¸ªå­—ç¬¦ã€‚ RIGHT(str,len):è¿”å›žå­—ç¬¦ä¸²strçš„æœ€å³é¢lenä¸ªå­—ç¬¦ã€‚ SUBSTRING(str,pos):ä»Žå­—ç¬¦ä¸²strçš„èµ·å§‹ä½ç½®posè¿”å›žä¸€ä¸ªå­ä¸² SUBSTRING(str,pos,len):ä»Žå­—ç¬¦ä¸²strçš„èµ·å§‹ä½ç½®posè¿”å›žä¸€ä¸ªlené•¿åº¦çš„å­ä¸² REVERSE(str):è¿”å›žé¢ å€’å­—ç¬¦é¡ºåºçš„å­—ç¬¦ä¸²strã€‚ 1234567SELECT CONCAT(&apos;HELLO&apos;,&apos;WORLD&apos;);SELECT LENGTH(&quot;HELLO&quot;);SELECT LEFT(&apos;HELLO&apos;,3); # 3ä»£è¡¨é•¿åº¦ï¼Œä»Žå·¦è¾¹å¼€å§‹å–3ä¸ªSELECT RIGHT(&apos;HELLO&apos;,3);SELECT SUBSTRING(&quot;HELLO WORLD&quot;,3); # èµ·å§‹ä½ç½®ä»Ž1å¼€å§‹SELECT SUBSTRING(&quot;HELLO WORLD&quot;,3, 5); # LLO W 5ä»£è¡¨é•¿åº¦ï¼ŒSELECT REVERSE(&quot;HELLO&quot;); # OLLEH æ—¥æœŸå‡½æ•° 123select CURTIME(); select CURDATE(); select NOW(); YEAR(date) HOUR(time) MINUTE(time) SECOND(time): DAYNAME(date):è¿”å›ždateçš„æ˜ŸæœŸåå­— DAYOFWEEK(date):è¿”å›žæ—¥æœŸdateçš„æ˜ŸæœŸç´¢å¼•(1=æ˜ŸæœŸå¤©ï¼Œ2=æ˜ŸæœŸä¸€, â€¦7=æ˜ŸæœŸå…­)ã€‚ 1234567891011121314select NOW(); select CURTIME(); select CURDATE();select SYSDATE(); select YEAR(&apos;2012-09-09&apos;)select MONTH(&apos;2012-10-09&apos;)SELECT MINUTE(NOW())select MINUTE(&apos;2012-10-09 12:12:12&apos;)select dayname(&apos;2012-11-17 12:12:12&apos;)select DAYOFWEEK(&apos;2011-11-11 11:11:11&apos;)]]></content>
      <categories>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MySQL_02]]></title>
    <url>%2F2019%2F05%2F19%2FMySQL-02%2F</url>
    <content type="text"><![CDATA[MYSQL[TOC] ä¸€ã€æ•°æ®åº“ç¼–ç¨‹åŸºç¡€###1.1å®žä½“ä¸Žå±žæ€§ â€¢å®žä½“ çŽ°å®žä¸–ç•Œä¸­ä»»ä½•ä¸€ä¸ªå¯ä»¥è¯†åˆ«çš„å¯¹è±¡ æ•°æ®åº“ä¸­çš„ä¸€æ¡è®°å½•å¯¹åº”javaä¸­çš„ä¸€ä¸ªå¯¹è±¡ï¼Œæ•°æ®åº“ä¸­çš„ä¸€å¼ è¡¨å¯¹åº”javaä¸­çš„ä¸€ä¸ªç±» â€¢å±žæ€§ å®žä½“æ‰€å…·æœ‰çš„ç‰¹æ€§ï¼Œä¸€ä¸ªå®žä½“å¯ç”¨è‹¥å¹²å±žæ€§æ¥æè¿° â€¢å…³ç³»æ•°æ®åº“ä¸­çš„è¡¨çŽ° å®žä½“çš„å®žä¾‹æ˜¯å‚¨å­˜åœ¨è¡¨ä¸­çš„è¡Œï¼Œå±žæ€§æ˜¯å‚¨å­˜åœ¨è¡¨ä¸­çš„åˆ—ã€‚ 1.2å®žä½“çš„å…³ç³»â€¢é”®ï¼ˆkeyï¼‰ åœ¨å®žä½“å±žæ€§ä¸­ï¼Œç”¨äºŽåŒºåˆ«å®žä½“é›†åˆä¸­ä¸åŒä¸ªä½“çš„æŸä¸ªå±žæ€§æˆ–æŸå‡ ä¸ªå±žæ€§çš„ç»„åˆï¼Œç§°ä¸ºå…³é”®å­—ï¼ˆé”®ï¼‰ã€‚ â€¢ä¸»é”® ï¼ˆPrimary key éžç©ºå”¯ä¸€ï¼‰ ä¸€ä¸ªå®žä½“çš„å®žä¾‹ä¸Šå¯ä»¥æœ‰å¤šä¸ªä¸åŒçš„é”®å­˜åœ¨ï¼Œæ‰€æœ‰è¿™äº›ç¬¦åˆæ¡ä»¶çš„é”®ç§°ä¸ºå€™é€‰é”®ï¼Œè¢«æŒ‡å®šæŸä¸ªä½œä¸ºä¸»é”®ã€‚ â€¢å¤–é”®ï¼ˆForeign keyï¼‰ éžæœ¬å®žä½“å®žä¾‹çš„é”®ï¼Œä½†å®ƒæ˜¯å…¶ä»–å®žä½“å®žä¾‹çš„é”®ã€‚åˆç§°ä¸ºå¤–å…³é”®å­—æˆ–å¤–éƒ¨ç ã€‚ 1.3å…³ç³»çš„ä¸‰ç±»å®Œæ•´æ€§çº¦æŸâ€¢å®žä½“å®Œæ•´æ€§ â€‹ æ¯ä¸€è¡¨è¦æ±‚æœ‰ä¸€ä¸ªä¸»é”®(primary key)ï¼Œä¸èƒ½å–ç©ºå€¼ï¼Œä¹Ÿä¸èƒ½å–ç›¸åŒçš„å€¼ â€‹ â€¢å¼•ç”¨å®Œæ•´æ€§ å¤–é”®ï¼ˆforeign keyï¼‰çš„å–å€¼è¦ä¹ˆç©ºå€¼ï¼Œè¦ä¹ˆåŽ»å‚è€ƒçš„é‚£ä¸ªåˆ—çš„å–å€¼ â€¢åŸŸå®Œæ•´æ€§å’ŒåŸŸçº¦æŸ é™åˆ¶æŸä¸ªåˆ—çš„å–å€¼ â€‹ check çº¦æŸ äºŒã€å­¦ç”Ÿè¯¾ç¨‹å®žä¾‹2.1è¦åˆ›å»ºçš„è¡¨ å­¦ç”Ÿè¡¨ï¼šStudent(Sno,Sname,Ssex,Sage,Sdept) 1234567CREATE TABLE Student ( Sno VARCHAR(9) PRIMARY KEY, Sname VARCHAR(20) NOT NULL, Ssex VARCHAR(2), Sage INT, Sdept VARCHAR(20) ); è¯¾ç¨‹è¡¨ï¼šCourse(Cno,Cname,Cpno,Ccredit)// cpnoå…ˆä¿®è¯¾ å¤–é”® 12345678CREATE TABLE Course ( Cno INT PRIMARY KEY AUTO_INCREMENT, Cname VARCHAR(40) NOT NULL, Cpno INT , Ccredit INT, FOREIGN KEY (Cpno) REFERENCES Course(Cno) ); å­¦ç”Ÿé€‰è¯¾è¡¨ï¼šSC(Sno,Cno,Grade)//sno cno å¤–é”®ï¼Œä¹Ÿæ˜¯è”åˆä¸»é”® 12345678CREATE TABLE SC (Sno VARCHAR(9), Cno INT, Grade INT, PRIMARY KEY (Sno,Cno), FOREIGN KEY (Sno) REFERENCES Student(Sno), FOREIGN KEY (Cno) REFERENCES Course(Cno) ); 2.2æ’å…¥æ•°æ®å­¦ç”Ÿè¡¨ å­¦ å· Sno å§“ å Sname æ€§ åˆ« Ssex å¹´ é¾„ Sage æ‰€ åœ¨ ç³» Sdept 200215121 å­™ç­– ç”· 20 CS 200215122 å¦²å·± å¥³ 19 CS 200215123 çŽ‹æ˜­å› å¥³ 18 MA 200515125 è¯¸è‘›äº® ç”· 19 IS 200215128 é™ˆå†¬ ç”· 18 IS 12345678INSERT INTO Student (Sno,Sname,Ssex,Sdept,Sage)VALUES (&apos;200215121&apos;,&apos;å­™ç­–&apos;,&apos;M&apos;,&apos;CS&apos;,20);# ä¸€æ¬¡æ’å…¥å¤šæ¡æ•°æ®insert into student(sno,sname,ssex,sage,sdept)values(&apos;200215122&apos;,&apos;å¦²å·±&apos;,&apos;F&apos;,19,&apos;CS&apos;),(&apos;200215123&apos;,&apos;çŽ‹æ˜­å›&apos;,&apos;F&apos;,18,&apos;MA&apos;), (&apos;200215125&apos;,&apos;è¯¸è‘›äº®&apos;,&apos;M&apos;,19,&apos;IS&apos;),(&apos;200215128&apos;,&apos;å¼ é£ž&apos;,&apos;M&apos;,18,&apos;IS&apos;) è¯¾ç¨‹è¡¨ è¯¾ç¨‹å· Cno è¯¾ç¨‹å Cname å…ˆè¡Œè¯¾ Cpno å­¦åˆ† Ccredit 1 æ•°æ®åº“ 5 4 2 æ•°å­¦ 2 3 ä¿¡æ¯ç³»ç»Ÿ 1 4 4 æ“ä½œç³»ç»Ÿ 6 3 5 æ•°æ®ç»“æž„ 7 4 6 æ•°æ®å¤„ç† 2 7 JAVAè¯­è¨€ 6 4 12345678insert into course(cname,ccredit)values( &apos;æ•°æ®åº“&apos;,4 ),( &apos;æ•°å­¦&apos;,2 ),( &apos;ä¿¡æ¯ç³»ç»Ÿ&apos;,4 ),( &apos;æ“ä½œç³»ç»Ÿ&apos;,3 ),( &apos;æ•°æ®ç»“æž„&apos;,4 ),( &apos;æ•°æ®å¤„ç†&apos;,2 ),( &apos;JAVAè¯­è¨€&apos;,4 ) constraint çº¦æŸ æˆç»©è¡¨ å­¦ å· Sno è¯¾ç¨‹å· Cno æˆç»© Grade 200215121 1 92 200215121 2 85 200215121 3 88 200215122 2 90 200215122 3 80 123456insert into scvalues(&apos;200215121&apos;,1,92),(&apos;200215121&apos;,2,85),(&apos;200215121&apos;,3,88),(&apos;2002151student22&apos;,2,90),(&apos;200215122&apos;,3,80) æ­¥éª¤ æ•°æ®åº“sqlæ–‡ä»¶å¯¼å‡º åœ¨å¯¹åº”çš„æ•°æ®åº“ä¸Šå³å‡»-ã€‹è½¬å‚¨SQLæ–‡ä»¶-ã€‹ç»“æž„ä¸Žæ•°æ® å¯¼å‡ºåˆ°æŒ‡å®šçš„ä½ç½® æ•°æ®åº“sqlæ–‡ä»¶å¯¼å…¥ æ–°å»ºæ•°æ®åº“-ã€‹å³å‡»-ã€‹è¿è¡ŒSQLæ–‡ä»¶-ã€‹é€‰æ‹©å¯¹åº”çš„sqlæ–‡ä»¶-ã€‹å¼€å§‹ æ‰§è¡Œå®ŒæˆåŽF5åˆ·æ–°æ•°æ®åº“ï¼Œå³å¯çœ‹åˆ°å¯¼å…¥çš„è¡¨ä¿¡æ¯ 2.3ä¿®æ”¹ä¸Žåˆ é™¤ å°†å­¦ç”Ÿ200215121çš„å¹´é¾„æ”¹ä¸º22å² 1update student set sage=22 where sno=&apos;200215121&apos; æ‰€æœ‰æˆç»©éƒ½å‡å°‘3åˆ† 1update sc set grade=grade-3 åˆ é™¤å­¦å·ä¸º200215128çš„å­¦ç”Ÿè®°å½• 1delete from student where sno=&apos;200215128&apos; ä¸»å¤–é”®å»ºç«‹åŽæ³¨æ„äº‹é¡¹ï¼š å½“ä¸»è¡¨æ²¡æœ‰å¯¹åº”çš„è®°å½•æ—¶ï¼Œä¸èƒ½å°†è®°å½•æ·»åŠ åˆ°å­è¡¨ï¼ˆåŒ…å«å¤–é”®çš„è¡¨ï¼‰ æˆç»©è¡¨ä¸­ä¸èƒ½å‡ºçŽ°å­¦å‘˜ä¿¡æ¯è¡¨ä¸­ä¸å­˜åœ¨çš„å­¦å· ä¸èƒ½æ›´æ”¹ä¸»è¡¨ä¸­çš„å€¼å¯¼è‡´å­è¡¨ä¸­çš„è®°å½•å­¤ç«‹ æŠŠå­¦å‘˜ä¿¡æ¯è¡¨ä¸­çš„å­¦å·æ”¹å˜äº†ï¼Œå­¦å‘˜æˆç»©è¡¨ä¸­çš„å­¦å·ä¹Ÿåº”å½“éšä¹‹æ”¹å˜ ï¼ˆçº§è”æ›´æ–°ï¼‰ å­è¡¨å­˜åœ¨ä¸Žä¸»è¡¨å¯¹åº”çš„è®°å½•ï¼Œä¸èƒ½ä»Žä¸»è¡¨ä¸­åˆ é™¤è¯¥è¡Œ ä¸èƒ½æŠŠæœ‰æˆç»©çš„å­¦å‘˜åˆ é™¤äº† åˆ é™¤ä¸»æ ‡ç­¾ï¼Œå…ˆåˆ å­è¡¨ å…ˆåˆ å­¦å‘˜æˆç»©è¡¨ï¼ŒåŽåˆ é™¤å­¦å‘˜ä¿¡æ¯è¡¨ ï¼ˆçº§è”åˆ é™¤ï¼‰ ###2.4æŸ¥è¯¢ ####2.4.1è¿ç®—ç¬¦ ç®—æœ¯è¿ç®—ç¬¦ + - * / %(å–ä½™) 123# mysqlä¸­å­—ç¬¦ä¸²çš„è¿žæŽ¥select CONCAT(&apos;a&apos;,&apos;b&apos;,&apos;c&apos;,&apos;n&apos;)select CONCAT(&apos;1&apos;,&apos;1&apos;) % 5%3ä½™æ•°ä¸º2 ï¼Œå–ä½™å°±æ˜¯ç»“æžœå°±æ˜¯2 èµ‹å€¼è¿ç®—ç¬¦ =ï¼ˆå¦‚åœ¨ä¿®æ”¹è¡¨è®°å½•æ—¶ï¼Œsetä¹‹åŽï¼‰ æ¯”è¾ƒè¿ç®—ç¬¦ =(æ¡ä»¶ä¸­) &gt; &lt; &lt;&gt;ï¼ˆä¸ç­‰äºŽï¼‰ &gt;= &lt;= !=ï¼ˆä¸ç­‰äºŽï¼‰ !&gt;(ä¸å¤§äºŽ) !&lt; é€»è¾‘è¿ç®—ç¬¦ Andä¸Ž javaä¸­ä½¿ç”¨&amp;&amp; æ»¡è¶³andä¸¤è¾¹çš„æ¡ä»¶ Or æˆ– Javaä¸­ä½¿ç”¨|| æ»¡è¶³orä¸€è¾¹çš„æ¡ä»¶å°±è¡Œ Not éž javaä¸­ä½¿ç”¨ ï¼ éžä»€ä¹ˆ å…¶ä»–è¿ç®—ç¬¦ æ•°æ®èŒƒå›´ Between and Between 80 and 90-&gt;[80,90] Not between and ç¡®å®šé›†åˆ In Not in (80,85,90)åªåœ¨è¿™3ä¸ªæ•°ä¸­é€‰æ‹© å­—ç¬¦åŒ¹é…ï¼ˆæ¨¡ç³ŠæŸ¥æ‰¾ï¼‰ Like Not like _å•ä¸ªå­—ç¬¦ï¼ˆæ±‰å­—ï¼‰ %0ä¸ªæˆ–å¤šä¸ªå­—ç¬¦æˆ–æ±‰å­— ç©ºå€¼ï¼ˆNULLï¼‰ Is Null è¿™é‡Œçš„nullä¸Žç©ºä¸²çš„åŒºåˆ«ï¼Œè¯·çŸ¥æ™“ Is not null ####2.4.2æŸ¥è¯¢è¯­æ³•ï¼ˆè§„å®šäº†ä¹¦å†™çš„é¡ºåºï¼‰ SELECT [ALL|DISTINCT] &lt;ç›®æ ‡åˆ—è¡¨è¾¾å¼&gt; [ï¼Œ&lt;ç›®æ ‡åˆ—è¡¨è¾¾å¼&gt;] â€¦ FROM &lt;è¡¨åæˆ–è§†å›¾å&gt;[ï¼Œ &lt;è¡¨åæˆ–è§†å›¾å&gt; ] â€¦ [ WHERE &lt;æ¡ä»¶è¡¨è¾¾å¼&gt; ] [ GROUP BY &lt;åˆ—å1&gt; [ HAVING &lt;æ¡ä»¶è¡¨è¾¾å¼&gt; ] ] [ ORDER BY &lt;åˆ—å2&gt; [ ASC|DESC ] ]ï¼› ####2.4.3æŸ¥è¯¢ç»ƒä¹  12# æŸ¥è¯¢æ‰€æœ‰å­¦ç”Ÿ, *ä»£è¡¨æ‰€æœ‰åˆ—ï¼Œåˆ—çš„é¡ºåºå³ä¸ºè¡¨ä¸­çš„é¡ºåºselect * from student; 12# æŸ¥è¯¢å­¦å·ä¸Žå§“åã€å¹´é¾„ä¿¡æ¯(æŒ‡å®šåˆ—)select sno,sname,sage from student; 12# å…¨ä½“å­¦ç”Ÿçš„å§“ååŠå…¶å‡ºç”Ÿå¹´ä»½select sno,sname,sage,2018-sage from student; 12345# ä¸ºé€‰å®šçš„åˆ—æŒ‡å®šåˆ«åAlias,æ˜¾ç¤ºè®°å½•æ—¶å°†æ˜¾ç¤ºå‡ºæ¥# åˆ«åï¼Œç”¨æ¥æ˜¾ç¤ºçš„åå­—ï¼Œå°åselect sno &apos;å­¦å·&apos;,sname &apos;å§“å&apos;,sage &apos;å¹´é¾„&apos;,2018-sage &apos;å‡ºç”Ÿå¹´ä»½&apos; from student;# as å¯åŠ å¯ä¸åŠ select sno as &apos;å­¦å·&apos;,sname &apos;å§“å&apos;,sage &apos;å¹´é¾„&apos;,2018-sage &apos;å‡ºç”Ÿå¹´ä»½&apos; from student; 12345# æŸ¥è¯¢å…¨ä½“å­¦ç”Ÿçš„å§“åã€å‡ºç”Ÿå¹´ä»½å’Œæ‰€åœ¨ç³»ï¼Œ --è¦æ±‚ç”¨å°å†™å­—æ¯è¡¨ç¤ºæ‰€æœ‰ç³»åselect sname,2018-sage &apos;å‡ºç”Ÿå¹´ä»½&apos;,sdept from student;# select LOWER(&apos;aBCd&apos;) å…¨éƒ¨å°å†™ select UPPER(&quot;AbcdE&quot;); å…¨éƒ¨å¤§å†™# LOWERè®²æ‰€æœ‰çš„å­—æ¯å˜æˆå°å†™ï¼Œåº”ç”¨è¯¥åˆ—çš„æ‰€æœ‰è¡Œselect sname,2018-sage &apos;å‡ºç”Ÿå¹´ä»½&apos;,LOWER(sdept) from student; 12345# æŸ¥è¯¢é€‰ä¿®äº†è¯¾ç¨‹çš„å­¦å·?æœ‰æˆç»©å°±ä»£è¡¨ä»–é€‰ä¿®äº†è¯¾ç¨‹# å“ªäº›å­¦ç”Ÿé€‰ä¿®äº†è¯¾ç¨‹ï¼Œåˆ—å‡ºä»–ä»¬# åŽ»å“ªå¼ è¡¨ä¸­æŸ¥æ‰¾æ•°æ®select * from sc;select DISTINCT sno from sc; # distinct åŽ»é™¤é‡å¤å†…å®¹ 12-- æŸ¥è¯¢è®¡ç®—æœºç§‘å­¦ç³»(CS)å…¨ä½“å­¦ç”Ÿçš„åå•SELECT * from student where Sdept=&apos;CS&apos; 12-- æŸ¥è¯¢æ‰€æœ‰å¹´é¾„åœ¨20å²ä»¥ä¸‹çš„å­¦ç”Ÿå§“ååŠå…¶å¹´é¾„SELECT * from student WHERE SAGE&lt;20 1234-- æŸ¥è¯¢å¹´é¾„åœ¨20~23å²ä¹‹é—´çš„å­¦ç”Ÿçš„å§“åã€ç³»åˆ«å’Œå¹´é¾„SELECT * FROM student WHERE SAGE BETWEEN 20 AND 23 # [20,23] -- 20-23ä¹‹é—´çš„æ•´æ•° 20 21 22 23select * from student where sage in(20,21,22,23) 1234-- æŸ¥è¯¢ä¿¡æ¯ç³»ï¼ˆISï¼‰ã€æ•°å­¦ç³»ï¼ˆMAï¼‰å’Œè®¡ç®—æœºç§‘å­¦ç³»ï¼ˆCSï¼‰å­¦ç”Ÿçš„å§“åå’Œæ€§åˆ«-- æ¡ä»¶éƒ½æ”¾åœ¨whereçš„åŽé¢-- inåŽé¢è·Ÿæœ‰ç©·ï¼Œæœ‰é™çš„é›†åˆselect sname,ssex from student where sdept in(&apos;IS&apos;,&apos;MA&apos;,&apos;CS&apos;); 12 12345-- likeæŸ¥æ‰¾ç§°ä¸ºæ¨¡ç³ŠæŸ¥æ‰¾-- æŸ¥è¯¢å§“è¯¸è‘›çš„å­¦ç”Ÿä¿¡æ¯ %æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œè¡¨ç¤º0åˆ°å¤šä¸ªä»»æ„å­—ç¬¦select * from student where sname like &apos;è¯¸è‘›%&apos;-- æŸ¥è¯¢å§“è¯¸è‘›çš„å­¦ç”Ÿä¿¡æ¯ï¼Œå¹¶ä¸”åå­—åªæœ‰ä¸‰ä¸ªå­—çš„ _çš„ç‰¹æ®Šå«ä¹‰æ˜¯1ä¸ªä»»æ„å­—ç¬¦select * from student where sname like &apos;è¯¸è‘›_&apos; 112. -- æŸäº›æ²¡æœ‰å…ˆä¿®è¯¾çš„è¯¾ç¨‹å -- æ¡ä»¶åˆ¤æ–­æ˜¯å¦ä¸ºnullï¼Œåªèƒ½ä½¿ç”¨is null æˆ–è€…is not null select cname from course where cpno is null1213. -- æŸ¥è¯¢è®¡ç®—æœºç³»å¹´é¾„åœ¨20å²ä»¥ä¸‹çš„å­¦ç”Ÿå§“å -- java &amp;&amp; =ã€‹MYSQLä¸­ä½¿ç”¨AND select sname from student WHERE Sdept=&apos;CS&apos; AND SAGE&lt;20 1214. # æŸ¥è¯¢å…¨ä½“å­¦ç”Ÿæƒ…å†µï¼ŒæŸ¥è¯¢ç»“æžœæŒ‰æ‰€åœ¨ç³»çš„ç³»åç§°å‡åºæŽ’åˆ— -- ORDER BY sdept asc å­—å…¸é¡ºåº é»˜è®¤æ˜¯å‡åºæŽ’åˆ— select * from student ORDER BY sdept -- é™åºæŽ’åˆ— select * from student ORDER BY sdept desc 1215. -- æŸ¥è¯¢å…¨ä½“å­¦ç”Ÿæƒ…å†µï¼ŒæŸ¥è¯¢ç»“æžœæŒ‰æ‰€åœ¨ç³»çš„ç³»åç§°å‡åºæŽ’åˆ—,åŒä¸€ç³»ä¸­çš„å­¦ç”ŸæŒ‰å¹´é¾„é™åºæŽ’åˆ— select * from student ORDER BY sdept ASC, SAGE DESC 1216. -- æŸ¥è¯¢ä¸€å…±æœ‰å¤šå°‘ä¸ªå­¦ç”Ÿ COUNTï¼Œç»Ÿè®¡æŸ¥è¯¢å‡ºæ¥çš„è¡Œæ•° SELECT COUNT(*) FROM STUDENT; SELECT count(SNO) FROM STUDENT; -- äº†è§£ SELECT count(1) FROM STUDENT; 1217. -- æŸ¥è¯¢æœ‰å…ˆä¿®è¯¾çš„è¯¾ç¨‹ä¸€å…±æœ‰å¤šå°‘é—¨ select count(*) from course; select count(cno) from course; -- count ç»Ÿè®¡ä¸åŒ…æ‹¬nullå€¼ select count(cpno) from course; 1218. -- æŸ¥è¯¢ä¸€å…±æœ‰å¤šå°‘äººé€‰ä¿®äº†è¯¾ç¨‹ # select DISTINCT sno from sc åŽ»é‡ # å…ˆæŸ¥è¯¢ å†ç»Ÿè®¡ select count(DISTINCT sno) as &apos;é€‰è¯¾äººæ•°&apos; from sc; 1219. -- èšé›†å‡½æ•°sum æ±‚å’Œ avg æ±‚å¹³å‡æ•° max æœ€å¤§å€¼ minæœ€å°å€¼ -- è®¡ç®—2å·è¯¾ç¨‹çš„å­¦ç”Ÿå¹³å‡æˆç»© select avg(grade) from sc where cno=2 1220. -- æ˜¾ç¤º2å·è¯¾ç¨‹çš„æœ€é«˜åˆ† select max(grade) from sc where cno=2 -- æ˜¾ç¤º2å·è¯¾ç¨‹çš„æœ€ä½Žåˆ† select min(grade) from sc where cno=2 1221. -- æ±‚2å·è¯¾ç¨‹æ‰€æœ‰æˆç»©çš„æ€»åˆ† select sum(grade) from sc where cno=2 1222. -- æ±‚å„ä¸ªè¯¾ç¨‹å·åŠå…¶ç›¸åº”çš„é€‰è¯¾äººæ•° -- å…ˆåˆ†ç»„ï¼Œåœ¨ç»Ÿè®¡ï¼Œç»Ÿè®¡çš„æ˜¯ç»„å†…çš„æƒ…å†µ -- GROUP BYä¹‹åŽçš„åˆ—æ‰èƒ½å‡ºçŽ°åœ¨selectè¯­å¥çš„é€‰æ‹©ä¸­ï¼Œä½†æ˜¯å¯¹äºŽcountç»Ÿè®¡æ²¡æœ‰è¿™ä¸ªé™åˆ¶ -- COUNTç»Ÿè®¡å†…éƒ¨çš„åˆ—æŽ¨èä¸ºåˆ†ç»„çš„åˆ— select cno,count(cno) from sc GROUP BY cno 1234 â€‹ ![](C:/Users/NiGulas/Desktop/essay/img/mysql02_04.png)23. -- æŒ‰ç³»æŸ¥è¯¢ç”·ç”Ÿå’Œå¥³ç”Ÿåˆ†åˆ«æœ‰å¤šå°‘äºº select sdept, ssex, count(sno) from student GROUP BY sdept,ssex 1224. -- æŸ¥è¯¢é€‰ä¿®äº†3é—¨åŠä»¥ä¸Šè¯¾ç¨‹çš„å­¦ç”Ÿå­¦å· (æˆç»©è¡¨ä¸­æœ‰æˆç»©ï¼Œå³è¡¨ç¤ºé€‰ä¿®äº†è¯¥è¯¾ç¨‹) -- havingæ˜¯å¯¹åˆ†ç»„åŽè¿›ä¸€æ­¥è¿›è¡Œç­›é€‰ -- group byä¹‹åŽè¿›è¡Œè¿›ä¸€æ­¥ç­›é€‰å¿…é¡»ä½¿ç”¨having select sno from sc group by sno having count(sno)&gt;=3; 1225. -- æ¯ä¸ªå­¦ç”Ÿé€‰ä¿®äº†å¤šå°‘é—¨è¯¾ç¨‹ select sno, count(sno) from sc group by sno; 1234 26. # æ‰§è¡Œé¡ºåºæ˜¯ï¼Œå…ˆè¿›è¡Œwhereç­›é€‰ï¼Œå†åˆ†ç»„ï¼Œå†è¿›è¡Œhavingç­›é€‰ select sno from sc where sno=&apos;200215122&apos; group by sno having count(sno)&gt;=3; 12345678910 ![](C:/Users/NiGulas/Desktop/essay/img/mysql02_05.png) HAVINGçŸ­è¯­ä¸ŽWHEREå­å¥çš„åŒºåˆ«ï¼š 1.WHEREä»Žä¸­é€‰æ‹©æ»¡è¶³æ¡ä»¶çš„å…ƒç»„ 2.HAVINGçŸ­è¯­ä½œç”¨äºŽç»„ï¼Œä»Žä¸­é€‰æ‹©æ»¡è¶³æ¡ä»¶çš„ç»„27. limit -- åˆ†é¡µ -- æ¯é¡µæ˜¾ç¤ºä¸‰æ¡è®°å½• -- ç¬¬ä¸€é¡µ n=1 SELECT * FROM student LIMIT 0,3; -- ç¬¬äºŒé¡µ n=2 SELECT * FROM student LIMIT 3,3; -- ç¬¬ä¸‰é¡µ n=3 SELECT * FROM student LIMIT 6,3; -- ç¬¬å››é¡µ n=4 SELECT * FROM student LIMIT 9,3; èµ·å§‹ä½ç½® = (n-1) * æ¯é¡µæ˜¾ç¤ºçš„æ•°é‡; SELECT count(1) FROM student; å¦‚æžœ æ€»è®°å½•æ•° % æ¯é¡µæ˜¾ç¤ºçš„æ•°é‡ == 0 é‚£ä¹ˆ æ€»é¡µæ•° = æ€»è®°å½•æ•° / æ¯é¡µæ˜¾ç¤ºçš„æ•°é‡ å¦‚æžœ æ€»è®°å½•æ•° % æ¯é¡µæ˜¾ç¤ºçš„æ•°é‡ != 0 é‚£ä¹ˆ æ€»é¡µæ•° = æ€»è®°å½•æ•° / æ¯é¡µæ˜¾ç¤ºçš„æ•°é‡ + 1 å‘ä¸Šå–æ•´(12.1) = 13 å‘ä¸Šå–æ•´(12.0) = 12 æ€»é¡µæ•° = ceil(æ€»è®°å½•æ•° / æ¯é¡µæ˜¾ç¤ºçš„æ•°é‡); SELECT CEIL(count(1)/3) FROM student; ```]]></content>
      <categories>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MySQL_01]]></title>
    <url>%2F2019%2F05%2F19%2FMySQL-01%2F</url>
    <content type="text"><![CDATA[MYSQL[TOC] ä¸€ã€æ•°æ®åº“æ¦‚è¿°1.1æ•°æ®ç®¡ç†æŠ€æœ¯çš„å‘å±•é˜¶æ®µ äººå·¥é˜¶æ®µ 50å¹´ä»£ä¸­æœŸä»¥å‰ï¼ˆç£å¸¦ã€çº¸å¸¦ï¼Œæ— ç£ç›˜ ï¼‰ æ–‡ä»¶ 50å¹´ä»£åŽæœŸåˆ°60å¹´ä»£ä¸­æœŸï¼ˆç£ç›˜ ï¼‰ æ•°æ®åº“ç³»ç»Ÿ 60å¹´ä»£åŽæœŸï¼ˆå¤§å®¹é‡ç£ç›˜ï¼Œç¡¬ä»¶ä»·æ ¼ä¸‹é™ ï¼‰ 1.2æ•°æ®åº“æ•°æ®åº“(Database)æ˜¯æŒ‰ç…§æ•°æ®ç»“æž„æ¥ç»„ç»‡ã€å­˜å‚¨å’Œç®¡ç†æ•°æ®çš„ä»“åº“ã€‚ æ•°æ®åº“ä¸­çš„æ•°æ®æŒ‰ä¸€å®šçš„æ•°æ®æ¨¡åž‹ç»„ç»‡ã€æè¿°å’Œå‚¨å­˜ï¼Œå…·æœ‰è¾ƒå°çš„å†—ä½™åº¦ã€è¾ƒé«˜çš„æ•°æ®ç‹¬ç«‹æ€§å’Œæ˜“æ‰©å±•æ€§ï¼Œå¹¶å¯ä¸ºå„ä¸ªç”¨æˆ·å…±äº«ã€‚ æ•°æ®åº“çš„ä½œç”¨ï¼Ÿ å­˜å‚¨å¤§é‡æ•°æ®ï¼Œæ–¹ä¾¿æŸ¥è¯¢ä¸Žæ“ä½œï¼ˆselectï¼‰ ä¿æŒæ•°æ®ä¿¡æ¯çš„ä¸€è‡´,å®Œæ•´ï¼ˆä¸»é”® primary key å¤–é”® foreign key çº¦æŸ checkï¼‰ å…±äº«å’Œå®‰å…¨ï¼ˆä¸åŒçš„ç”¨æˆ·èµ‹äºˆä¸åŒçš„æƒé™ï¼Œå…±äº«å¦‚ç¬¬ä¸‰æ–¹ç™»å½•ï¼‰ é€šè¿‡ç»„åˆåˆ†æž,äº§ç”Ÿæ–°çš„æœ‰ç”¨ä¿¡æ¯ï¼ˆæ ¹æ®å®žé™…çš„ä¸šåŠ¡ä¿¡æ¯æŸ¥æ‰¾æ•°æ®æ˜¾ç¤ºï¼‰ å¦‚ï¼šæ•°æ®åº“ä¸­çš„è®°å½• 1æŽæ˜Žï¼Œç”·ï¼Œ21ï¼Œ1972ï¼Œæ±Ÿè‹ï¼Œè®¡ç®—æœºç³»ï¼Œ1990 å¯ç¿»è¯‘ä¸ºï¼š 1æŽæ˜Žæ˜¯ä¸ªå¤§å­¦ç”Ÿï¼Œ1972å¹´å‡ºç”Ÿï¼Œç”·,æ±Ÿè‹äººï¼Œ1990å¹´è€ƒå…¥è®¡ç®—æœºç³» 1.3æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ Database Management Systemç®€ç§°DBMS æ˜¯ä¸€ç§æ“çºµå’Œç®¡ç†æ•°æ®åº“çš„è½¯ä»¶ï¼Œç”¨äºŽå»ºç«‹ã€ä½¿ç”¨å’Œç»´æŠ¤æ•°æ®åº“ å®ƒå¯¹æ•°æ®åº“è¿›è¡Œç»Ÿä¸€çš„ç®¡ç†å’ŒæŽ§åˆ¶ï¼Œä»¥ä¿è¯æ•°æ®åº“çš„å®‰å…¨æ€§å’Œå®Œæ•´æ€§ã€‚ å¸¸è§æ•°æ®åº“ï¼š Oracleæ˜¯ç›®å‰ä¸–ç•Œä¸Šä½¿ç”¨æœ€ä¸ºå¹¿æ³›çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ, æ˜¯ç”²éª¨æ–‡å…¬å¸çš„ä¸€æ¬¾å…³ç³»æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ SqlServeræ˜¯ç”±Microsoftå¼€å‘å’ŒæŽ¨å¹¿çš„å…³ç³»æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ DB2 æ˜¯ç¾Žå›½IBMå…¬å¸å¼€å‘çš„ä¸€å¥—å…³ç³»åž‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ, ä¸»è¦åº”ç”¨äºŽå¤§åž‹åº”ç”¨ç³»ç»Ÿ MySqlæ˜¯ä¸€ä¸ªå°åž‹çš„å…³ç³»åž‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ, ç›®å‰å±žäºŽ Oracle æ——ä¸‹äº§å“. ä¸Žå…¶ä»–çš„å¤§åž‹æ•°æ®åº“ä¾‹å¦‚ Oracleã€DB2ã€SQL Serverç­‰ç›¸æ¯”ï¼ŒMySQL è‡ªæœ‰å®ƒçš„ä¸è¶³ä¹‹å¤„ï¼Œä½†æ˜¯è¿™ä¸æ¯«ä¹Ÿæ²¡æœ‰å‡å°‘å®ƒå—æ¬¢è¿Žçš„ç¨‹åº¦ã€‚å¯¹äºŽä¸€èˆ¬çš„ä¸ªäººä½¿ç”¨è€…å’Œä¸­å°åž‹ä¼ä¸šæ¥è¯´ï¼ŒMySQLæä¾›çš„åŠŸèƒ½å·²ç»ç»°ç»°æœ‰ä½™ï¼Œè€Œä¸”ç”±äºŽ MySQLæ˜¯å¼€æ”¾æºç è½¯ä»¶ï¼Œå› æ­¤å¯ä»¥å¤§å¤§é™ä½Žæ€»ä½“æ‹¥æœ‰æˆæœ¬ã€‚ é™¤äº†ä»¥ä¸Šçš„å…³ç³»æ•°æ®åº“ç®¡ç†ç³»ç»Ÿä¹‹å¤–ï¼Œè¿˜æœ‰Redisï¼ŒMongoDBç­‰éžå…³ç³»æ•°æ®åº“ï¼ŒåŸºäºŽKey-Valueå­˜å‚¨çš„æ•°æ®åº“ï¼Œç»Ÿç§°ä¸ºNoSQLï¼ˆNot only sqlï¼‰ã€‚ å…³ç³»æ•°æ®åº“ç®¡ç†ç³»ç»ŸRDBMS(Relational Database Management System)ï¼šåŒ…æ‹¬ç›¸äº’è”ç³»çš„æ•°æ®é›†åˆ (æ•°æ®åº“)å’Œå­˜å–è¿™äº›æ•°æ®çš„ä¸€å¥—ç¨‹åº (æ•°æ®åº“ç®¡ç†ç³»ç»Ÿè½¯ä»¶)ã€‚å…³ç³»æ•°æ®åº“ç®¡ç†ç³»ç»Ÿå°±æ˜¯ç®¡ç†å…³ç³»æ•°æ®åº“ï¼Œå¹¶å°†æ•°æ®ç»„ç»‡ä¸ºç›¸å…³çš„è¡Œå’Œåˆ—çš„ç³»ç»Ÿã€‚ äºŒã€Mysqlå®‰è£…å®‰è£…æ•™ç¨‹ MySQLå¸è½½â€‹ 1.åœ¨æŽ§åˆ¶é¢æ¿\æ‰€æœ‰æŽ§åˆ¶é¢æ¿é¡¹\ç¨‹åºå’ŒåŠŸèƒ½ä¸­æ‰¾åˆ°MySQLç›¸å…³çš„åº”ç”¨ç¨‹åº,å°†åº”ç”¨ç¨‹åºå¸è½½â€‹ 2.æŠŠMySQLå®‰è£…ç›®å½•åˆ é™¤â€‹ D:\MySQLâ€‹ 3.æŠŠMySQLçš„æ•°æ®æ–‡ä»¶åˆ é™¤â€‹ C:\ProgramData\MySQLâ€‹ 4.æ¸…é™¤MySQLæ³¨å†Œè¡¨â€‹ æŒ‰win + R è¾“å…¥ regedit è¿›å…¥æ³¨å†Œè¡¨â€‹ åœ¨æ³¨å†Œè¡¨ä¸­æ‰¾åˆ° HKEY_LOCAL_MACHINE é¡¹â€‹ å³é”®ç‚¹å‡» æŸ¥æ‰¾ å‹¾é€‰é¡¹ è¾“å…¥MySQLâ€‹ åˆ é™¤ä»¥MySQLå¼€å¤´çš„æ–‡ä»¶å¤¹ ä¸‰ã€Navicatå®‰è£…Navicatæ˜¯ä¸€å¥—å¿«é€Ÿã€å¯é å¹¶ä»·æ ¼ç›¸å½“ä¾¿å®œçš„æ•°æ®åº“ç®¡ç†å·¥å…·ï¼Œä¸“ä¸ºç®€åŒ–æ•°æ®åº“çš„ç®¡ç†åŠé™ä½Žç³»ç»Ÿç®¡ç†æˆæœ¬è€Œè®¾ã€‚å®ƒçš„è®¾è®¡ç¬¦åˆæ•°æ®åº“ç®¡ç†å‘˜ã€å¼€å‘äººå‘˜åŠä¸­å°ä¼ä¸šçš„éœ€è¦ã€‚Navicat æ˜¯ä»¥ç›´è§‰åŒ–çš„å›¾å½¢ç”¨æˆ·ç•Œé¢è€Œå»ºçš„ï¼Œè®©ä½ å¯ä»¥ä»¥å®‰å…¨å¹¶ä¸”ç®€å•çš„æ–¹å¼åˆ›å»ºã€ç»„ç»‡ã€è®¿é—®å¹¶å…±ç”¨ä¿¡æ¯ã€‚ å®‰è£…æ—¶æŒ‰ç…§å®‰è£…æ­¥éª¤å®‰è£…å³å¯ï¼ŒæŽ¨èä¸è¦å®‰è£…åœ¨Cç›˜ å¦‚æžœæ²¡æœ‰Navicatï¼Œæˆ‘ä»¬è®¿é—®æ•°æ®åº“å¦‚ä¸‹æ–¹å¼ï¼Œå¦‚æžœæƒ³é€šè¿‡æ­¤æ–¹å¼æµ‹è¯•ï¼Œéœ€è¦é…ç½®mysqlçŽ¯å¢ƒå˜é‡ï¼Œè¿™é‡Œä¸åœ¨è®²è§£ï¼Œå®žçŽ°ä»…ä½œä¸ºäº†è§£å‚è€ƒã€‚ 1234567891011121314151617181920212223242526272829303132333435363738C:\Users\ibf&gt;mysql -uroot -pmysql&gt; show databases;+--------------------+| Database |+--------------------+| information_schema || beifeng || mysql || performance_schema || sakila || shclz |+--------------------+10 rows in set (0.55 sec)mysql&gt; use beifengDatabase changedmysql&gt; show tables;+------------------------+| Tables_in_beifeng |+------------------------+| messafe_info || role_anthority_info || role_info || staff_info || staff_salary |+------------------------+23 rows in set (0.06 sec)mysql&gt; select * from role_info -&gt; ;+---------+------------+------------------------+------------+| role_id | role_name | role_desc | role_state |+---------+------------+------------------------+------------+| 1 | è¶…çº§ç®¡ç†å‘˜ | å¤©å¤©ç®¡å­¦ç”Ÿ | 1 || 2 | æ‹›ç”Ÿäººå‘˜ | æ‰¾äººåŸ¹è®­ | 0 || 3 | ç½‘å¤§ç®¡ | å¤©å¤©ä¿®ç”µè„‘ï¼Œå¤©å¤©æŽ¥ç½‘çº¿ | 1 |+---------+------------+------------------------+------------+3 rows in set (0.31 sec) å››ã€SQLæ¦‚è¿°Structured Query Language(ç»“æž„åŒ–æŸ¥è¯¢è¯­è¨€)çš„ç¼©å†™ã€‚SQLæ˜¯ä¸“ä¸ºæ•°æ®åº“è€Œå»ºç«‹çš„æ“ä½œå‘½ä»¤é›†ï¼Œæ˜¯ä¸€ç§åŠŸèƒ½é½å…¨çš„æ•°æ®åº“è¯­è¨€ã€‚åœ¨ä½¿ç”¨å®ƒæ—¶ï¼Œåªéœ€è¦å‘å‡ºâ€œåšä»€ä¹ˆâ€çš„å‘½ä»¤ï¼Œâ€œæ€Žä¹ˆåšâ€æ˜¯ä¸ç”¨ä½¿ç”¨è€…è€ƒè™‘çš„ã€‚SQLåŠŸèƒ½å¼ºå¤§ã€ç®€å•æ˜“å­¦ã€ä½¿ç”¨æ–¹ä¾¿ï¼Œå·²ç»æˆä¸ºäº†æ•°æ®åº“æ“ä½œçš„åŸºç¡€ã€‚ ç‰¹ç‚¹ï¼šä¸€æ¡SQLè¯­å¥ä¸€ä¸ªæ‰§è¡Œç»“æžœ é‡ç‚¹ 1select é€‰æ‹©ï¼Œfrom ä»Ž...ï¼Œinsertæ’å…¥ ï¼ˆinto åˆ°..ï¼‰ï¼Œupdate ä¿®æ”¹ã€æ›´æ–°ï¼Œdelete åˆ é™¤ï¼Œtable è¡¨ï¼Œdatabase æ•°æ®åº“ï¼Œcreateåˆ›å»ºï¼Œdrop ä¸¢å¼ƒï¼Œ values å€¼ï¼ˆå¤æ•°ï¼‰ï¼Œprimary key ä¸»é”®ï¼Œforeign key å¤–é”®ï¼Œreference å¼•ç”¨ï¼Œwhere å“ªé‡Œï¼Œinner å†…éƒ¨çš„ join è¿žæŽ¥ =ã€‹å†…è¿žæŽ¥ï¼Œleft join å·¦è¿žæŽ¥ï¼Œright join å³è¿žæŽ¥ï¼Œgroupï¼ˆç»„ï¼Œåˆ†ç»„ï¼‰ by.. æ ¹æ®..è¿›è¡Œåˆ†ç»„ï¼Œhaving æœ‰...ï¼Œorder by.. æ ¹æ®..è¿›è¡ŒæŽ’åºï¼Œdescï¼ˆdescendingï¼‰ é™åºï¼Œascï¼ˆascendingï¼‰å‡åºï¼Œauto_incrementè‡ªå¢žé•¿ï¼Œdefault é»˜è®¤,null ç©ºï¼Œnot nulléžç©ºï¼Œunique å”¯ä¸€çš„ï¼Œset è®¾ç½®ï¼ˆå€¼ï¼‰ï¼Œdistinct ç¡®å®šçš„ï¼ˆåŽ»é™¤é‡å¤æ•°æ®ï¼‰ï¼Œbetween ... and ... åœ¨..å’Œ..ä¹‹é—´ï¼Œin åœ¨..é‡Œé¢ï¼Œlike åƒ..ä¸€æ ·(%,_)ï¼Œlimit é™åˆ¶ï¼ˆåˆ†é¡µæ—¶ä½¿ç”¨ï¼‰(position,pageSize)ï¼Œshow å±•ç¤º,use ä½¿ç”¨,exists å­˜åœ¨,countç»Ÿè®¡ï¼Œsumæ±‚å’Œï¼Œavgå¹³å‡å€¼ï¼Œmaxæœ€å¤§å€¼ï¼Œminæœ€å°å€¼, describeæè¿° äº”ã€Mysqlæ•°æ®ç±»åž‹###5.1æ•´å½¢ MySQLæ•°æ®ç±»åž‹ å«ä¹‰ï¼ˆæœ‰ç¬¦å·ï¼‰ tinyint 1ä¸ªå­—èŠ‚ èŒƒå›´(-128~127) smallint 2ä¸ªå­—èŠ‚ èŒƒå›´(-32768~32767) mediumint 3ä¸ªå­—èŠ‚ èŒƒå›´(-8388608~8388607) int 4ä¸ªå­—èŠ‚ èŒƒå›´(-2147483648~2147483647) bigint 8ä¸ªå­—èŠ‚ èŒƒå›´(+-9.22*10çš„18æ¬¡æ–¹) æ³¨æ„ï¼šåº”ç”¨intä¸ºä¸» 5.2å°æ•° MySQLæ•°æ®ç±»åž‹ å«ä¹‰ float(m,d) å•ç²¾åº¦æµ®ç‚¹åž‹ 8ä½ç²¾åº¦(4å­—èŠ‚) mæ€»ä¸ªæ•°ï¼Œdå°æ•°ä½ double(m,d) åŒç²¾åº¦æµ®ç‚¹åž‹ 16ä½ç²¾åº¦(8å­—èŠ‚) mæ€»ä¸ªæ•°ï¼Œdå°æ•°ä½ decimal(m,d) å‚æ•°m&lt;65 æ˜¯æ€»ä¸ªæ•°ï¼Œd&lt;30ä¸” d&lt;m æ˜¯å°æ•°ä½ ( å°†æ¥å¯èƒ½ä¼šçœ‹åˆ°numbericï¼Œå…¶ä½™decimalç±»ä¼¼ ) è®¾ä¸€ä¸ªå­—æ®µå®šä¹‰ä¸ºfloat(6,3)ï¼Œå¦‚æžœæ’å…¥ä¸€ä¸ªæ•°123.45678,å®žé™…æ•°æ®åº“é‡Œå­˜çš„æ˜¯123.457ï¼Œä½†æ€»ä¸ªæ•°è¿˜ä»¥å®žé™…ä¸ºå‡†ï¼Œå³6ä½ã€‚æ•´æ•°éƒ¨åˆ†æœ€å¤§æ˜¯3ä½ï¼Œå¦‚æžœæ’å…¥æ•°12.123456ï¼Œå­˜å‚¨çš„æ˜¯12.1234ï¼Œå¦‚æžœæ’å…¥12.12ï¼Œå­˜å‚¨çš„æ˜¯12.1200 decimal(10,2) 123.45678=&gt; 123.45 12.123456=&gt;12.12 5.3å­—ç¬¦ä¸² MySQLæ•°æ®ç±»åž‹ å«ä¹‰ char(n) å›ºå®šé•¿åº¦ï¼Œæœ€å¤š255ä¸ªå­—ç¬¦ varchar(n) å›ºå®šé•¿åº¦ï¼Œæœ€å¤š65535ä¸ªå­—ç¬¦ tinytext å¯å˜é•¿åº¦ï¼Œæœ€å¤š255ä¸ªå­—ç¬¦ text å¯å˜é•¿åº¦ï¼Œæœ€å¤š65535ä¸ªå­—ç¬¦ mediumtext å¯å˜é•¿åº¦ï¼Œæœ€å¤š2çš„24æ¬¡æ–¹-1ä¸ªå­—ç¬¦ longtext å¯å˜é•¿åº¦ï¼Œæœ€å¤š2çš„32æ¬¡æ–¹-1ä¸ªå­—ç¬¦ æ³¨æ„ï¼šåº”ç”¨ä»¥varcharä¸ºä¸» 5.4æ—¥æœŸ MySQLæ•°æ®ç±»åž‹ å«ä¹‰ date æ—¥æœŸ â€˜2008-12-2â€™ time æ—¶é—´ â€˜12:25:36â€™ datetime æ—¥æœŸæ—¶é—´ â€˜2008-12-2 22:06:44â€™ timestamp è‡ªåŠ¨å­˜å‚¨è®°å½•ä¿®æ”¹æ—¶é—´å…­ç•™ å…­ã€æ•°æ®åº“åˆ›å»ºåˆ é™¤æŸ¥çœ‹æ‰€æœ‰çš„æ•°æ®åº“ 1show databases; # sqlè¯­å¥ ï¼›è¡¨ç¤ºä¸€æ¡sqlè¯­å¥ç»“æŸäº† CREATE DATABASE [IF NOT EXISTS] æ•°æ®åº“å; 12create database myschool;create database if not exists myschool; DROP DATABASE [IF EXISTS] æ•°æ®åº“å; 12drop database abcd;drop database if exists abcd; ä½¿ç”¨(åˆ‡æ¢)æ•°æ®åº“ USE æ•°æ®åº“å; 1use beifengï¼› æŸ¥çœ‹æŸä¸ªåº“ä¸­çš„æ‰€æœ‰çš„è¡¨(æ³¨æ„:åœ¨æ“ä½œè¡¨ä¹‹å‰å¿…é¡»å…ˆä½¿ç”¨æ•°æ®åº“) 1show tables; ä¸ƒã€åˆ›å»ºè¡¨CREATE TABLE è¡¨å( å­—æ®µ1 å­—æ®µç±»åž‹1, å­—æ®µ2 å­—æ®µç±»åž‹2, â€¦. å­—æ®µn å­—æ®µç±»åž‹n ); 1234567CREATE TABLE Student ( Sno varchar(9) ï¼Œ Sname varchar(20) ï¼Œ Ssex varchar(2)ï¼Œ Sage INTï¼Œ Sdept varchar(20) )ï¼› ##å…«ã€æ’å…¥æ•°æ® INSERT INTO &lt;è¡¨å&gt; [(&lt;å±žæ€§åˆ—1&gt;[ï¼Œ&lt;å±žæ€§åˆ—2 &gt;â€¦)] VALUES (&lt;å¸¸é‡1&gt; [ï¼Œ&lt;å¸¸é‡2&gt;] â€¦ ) å­¦ å· Sno å§“ å Sname æ€§ åˆ« Ssex å¹´ é¾„ Sage æ‰€ åœ¨ ç³» Sdept 200215121 æŽå‹‡ ç”· 20 CS 200215122 åˆ˜æ™¨ å¥³ 19 CS 200215123 çŽ‹æ• å¥³ 18 MA 200515125 å¼ ç«‹ ç”· 19 IS å‘è¡¨ä¸­æŒ‡å®šåˆ—æ’å…¥æ•°æ® 123# å‘è¡¨ä¸­çš„æŒ‡å®šåˆ—æ’å…¥æ•°æ® å‡ºçŽ°ä¸»é”®é‡å¤æ—¶ï¼Œä¼šæŠ¥é”™ï¼ŒDuplicate é‡å¤ Duplicate entry insert into student(sno,sname,sdept)values(&apos;08070203&apos;,&apos;è¯¸è‘›äº®&apos;,&apos;CS&apos;); å‘è¡¨ä¸­æ‰€æœ‰åˆ—æ’å…¥æ•°æ® å†™æ³•1ï¼š 123# æŒ‰ç…§åˆ—å‡ºçŽ°çš„é¡ºåºå‘è¡¨ä¸­æ’å…¥æ•°æ®æ—¶ï¼Œ(sno,sname,sage,ssex,sdept)å¯ä»¥çœç•¥ä¸å†™ï¼Œå¦‚ä¸Šé¢çš„æ ¼å¼insert into student(sno,sname,sage,ssex,sdept)values(&apos;08070202&apos;,&apos;å¼ é£ž&apos;,30,&apos;å¥³&apos;,&quot;IS&quot;); å†™æ³•2ï¼š 123# æ’å…¥æ•°æ®ï¼ŒæŒ‰ç…§åˆ—çš„é¡ºåºæ’å…¥æ•°æ®insert into studentvalues(&apos;08070202&apos;,&apos;å¼ é£ž&apos;,30,&apos;å¥³&apos;,&quot;IS&quot;); ä¹ã€åˆ›å»ºè¡¨å…¶ä»–###9.1è‡ªå¢žé•¿ è‡ªåŠ¨å¢žé•¿çš„ï¼Œæ¯æ·»åŠ ä¸€æ¡æ•°æ®ï¼Œè‡ªåŠ¨åœ¨ä¸Šä¸€ä¸ªè®°å½•æ•°ä¸ŠåŠ 1 123456# auto_increment è‡ªå¢žé•¿ æ¯æ¬¡å¢žåŠ 1create table role(id int PRIMARY key auto_increment,role_name varchar(20),note varchar(100)); 12345678# è‡ªå¢žé•¿ ä¸éœ€è¦æˆ‘ä»¬åŽ»æ‰‹åŠ¨ç»´æŠ¤ä»–ï¼Œå°±æ˜¯æ’å…¥æ•°æ®çš„æ—¶å€™ï¼Œä¸éœ€è¦å…³æ³¨ä»–æ˜¯ä»€ä¹ˆå€¼# è‡ªå¢žé•¿ä»Ž1å¼€å§‹ï¼Œåªä¼šå¢žé•¿ï¼Œä¸ä¼šå‡ºçŽ°å‡å°‘çš„æƒ…å†µINSERT into rolevalues(null, &apos;å¯¼æ¼”&apos;,&apos;å¯¼æ¼”éƒ½çˆ±æ½œè§„åˆ™&apos;);INSERT into rolevalues(null, &apos;ä¸»æ¼”&apos;,&apos;ä¸»æ¼”éƒ½çˆ±é’±&apos;); æ³¨æ„:è‡ªåŠ¨å¢žé•¿çš„åˆ—å¿…é¡»æ˜¯ä¸€ä¸ªé”®(ä¸€èˆ¬ä¸ºä¸»é”®) ###9.2ç©ºä¸Žç©ºä¸² NULL å’Œ NOT NULL NULL:è¡¨ç¤ºè¯¥åˆ—å¯ä»¥æœ‰ç©ºå€¼æ•°æ® NOT NULL:è¡¨ç¤ºè¯¥åˆ—ä¸èƒ½æœ‰ç©ºå€¼æ•°æ® ç©ºä¸² â€˜â€™ ç©ºä¸²ä¸Žç©ºä¸€æ ·å—ï¼Ÿ ä¸ä¸€æ · ###9.3é»˜è®¤å€¼ 12345create table a6( a1 int, a2 int default 66, a3 varchar(32) default &apos;å“ˆå“ˆ&apos;); ##åã€æ›´æ–°æ•°æ® 123456# update SET where # æ›´æ–°æ¡ä»¶ï¼Œå¦‚æ›´æ–°è‡ªå·±çš„ä¸ªäººä¿¡æ¯ï¼Œæ ¹æ®ä»€ä¹ˆæ¡ä»¶å¯ä»¥ç¡®å®šæ˜¯è‡ªå·±# å°†tttè¡¨ä¸­idåˆ—çš„å€¼ç­‰äºŽ2çš„é‚£ä¸ªäººçš„tnoteåˆ—æ”¹ä¸º&apos;joy&apos;UPDATE ttt set tnote=&apos;joy&apos; where id=2 1234# è¯¸è‘›äº® å¹´é¾„æ”¹ä¸º35å²ï¼Œæ€§åˆ«æ”¹ä¸ºç”·ï¼Œç³»æ”¹ä¸ºISUPDATE studentSET SAGE=35, SSEX=&apos;ç”·&apos;,sdept=&apos;IS&apos;WHERE SNO=&apos;08070203&apos; 123# å°†æ‰€æœ‰äººçš„å¹´é¾„å…¨éƒ¨å¢žåŠ 2å²UPDATE studentSET sage=sage+2; 123# æ²¡æœ‰åŠ whereæ¡ä»¶ï¼Œæ„å‘³ç€ä¿®æ”¹è¡¨ä¸­çš„æ‰€æœ‰è¡Œï¼Œå¯¹äºŽä¿®æ”¹è¯­å¥ï¼Œå†™çš„æ—¶å€™è¦æ…Žé‡update studentset ssex=&apos;M&apos; ##åä¸€ã€åˆ é™¤ 1234# drop database/table æ•°æ®åº“å/è¡¨å# åˆ é™¤è¡¨ä¸­çš„æ•°æ®ï¼Œdelete# ä»Žtttè¡¨ä¸­åˆ é™¤idä¸º2çš„è®°å½•delete from ttt where id=2 123DELETE from student where sno=&apos;08070202&apos;# ä¸åŠ ä»»ä½•æ¡ä»¶ï¼Œè¡¨ç¤ºåˆ é™¤è¡¨ä¸­çš„æ‰€æœ‰æ•°æ®delete from student; ä½œä¸š åˆ—å æ•°æ®ç±»åž‹ æ˜¯å¦å¯ä¸ºç©º é»˜è®¤å€¼ æè¿° ID INT å¦ ä¸»é”®ï¼Œè‡ªå¢žé•¿ SNO Varchar(10) å¦ å­¦å·ï¼Œå”¯ä¸€ä¸”éžç©º SNAME varchar(20) å¦ å§“å SSEX varchar(1) å¦ â€˜ç”·â€™ æ€§åˆ« SBIRTHDAY DATE æ˜¯ å‡ºç”Ÿæ—¥æœŸ SAGE INT æ˜¯ å¹´é¾„ åˆ›å»ºå¦‚å›¾æ‰€ç¤ºçš„heroè¡¨ å‘è¡¨ä¸­æ’å…¥å¦‚ä¸‹çš„æ•°æ® ID Sno Sname Ssex Sage SBIRTHDAY è‡ªå¢žé•¿çš„å€¼ 200215121 èµµäº‘ ç”· 20 2000-09-15 è‡ªå¢žé•¿çš„å€¼ 200215122 ä¸çŸ¥ç«èˆž å¥³ 19 1999-01-05 è‡ªå¢žé•¿çš„å€¼ 200215123 å¦²å·± å¥³ 18 1990-08-07 æ‰€æœ‰äººçš„å¹´é¾„å¢žåŠ 2å² å°†èµµäº‘çš„å§“åæ”¹æˆèµµå­é¾™ åˆ é™¤ä¸çŸ¥ç«èˆž]]></content>
      <categories>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[NIO]]></title>
    <url>%2F2018%2F08%2F19%2FNIO%2F</url>
    <content type="text"><![CDATA[NIOæ¦‚è¿°ä½¿ç”¨IOæµä¸Žå­˜æ”¾åœ¨ç£ç›˜ä¸Šçš„æ–‡ä»¶èƒ½å¤Ÿå¾ˆæ–¹ä¾¿çš„è¿›è¡Œäº¤äº’ï¼Œä½†æ˜¯å®ƒä¹Ÿå­˜åœ¨ä¸€å®šçš„é—®é¢˜ï¼Œé—®é¢˜çš„æ ¹æºåœ¨äºŽé€Ÿåº¦ï¼Œç”±äºŽç£ç›˜IOé€Ÿåº¦è¿œè¿œå°äºŽCPUå¤„ç†é€Ÿåº¦ï¼Œè¿™å¯¼è‡´ç¨‹åºåœ¨è¿›è¡ŒIOæ“ä½œçš„æ—¶å€™ï¼Œä¸å¾—ä¸è¿›è¡Œé˜»å¡žçº¿ç¨‹ï¼Œç­‰å¾…IOæ“ä½œå®Œæˆï¼Œæ‰èƒ½ç»§ç»­å‘ä¸‹æ‰§è¡Œã€‚ è‹¥æŸçº¿ç¨‹é™¤äº†è¿›è¡ŒIOæ“ä½œä¹‹å¤–ï¼Œè¿˜æœ‰å…¶ä»–é‡è¦çš„äº‹æƒ…éœ€è¦å¤„ç†ï¼ˆç»™ç”¨æˆ·å“åº”ï¼Œå¹¶ä¸”ä¸æ˜¯IOçš„å†…å®¹ï¼‰ï¼Œä½†æ˜¯çŽ°åœ¨é‡åˆ°äº†IOï¼Œå°±å¿…é¡»åœä¸‹æ¥ç­‰IOï¼Œå®Œäº†ä¹‹åŽæ‰è¿›è¡Œä¸‹ä¸€æ­¥çš„æ“ä½œï¼Œè¿™æœ‰æ—¶å€™ä¼šä½¿å¾—ç”¨æˆ·è§‰å¾—è¿™ä¸ªç¨‹åºçš„å¤„ç†é€Ÿåº¦å¤ªæ…¢äº†ï¼Œä¸èƒ½æŽ¥å—ã€‚ å¦‚ä¸Šæ‰€è¿°ï¼ŒJava IOå¯ä»¥è¯´ä¸€ç§é˜»å¡žIOï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦è®¾è®¡ä¸€ç§éžé˜»å¡žIOï¼ŒäºŽæ˜¯æå‡ºäº†Java NIOï¼Œå¯ä»¥ç§°ä¹‹ä¸ºæ–°IOï¼Œä¹Ÿå¯ä»¥ç§°ä¹‹ä¸ºéžé˜»å¡žIOã€‚ Java NIOåœ¨è¿›è¡Œreadå’Œwriteæ“ä½œçš„æ—¶å€™ï¼Œå¹¶ä¸é˜»å¡žï¼Œä¼šç«‹å³è¿”å›žã€‚ Java BIOï¼Œå…¶å…¨ç§°æ˜¯java blocking IOï¼Œç›¸å¯¹çš„Java NIO å…¨ç§°ä¸ºjava non-blocking IOã€‚é¡¾åæ€ä¹‰ï¼Œjava nio æ˜¯ä¸€ç§éžé˜»å¡žIO Java NIOä¸­æœ‰ä¸‰ä¸ªéžå¸¸é‡è¦çš„å¯¹è±¡ï¼šBufferã€Channelå’ŒSelector é«˜å¹¶å‘åœºæ™¯ï¼Œå¹¶ä¸”è¯·æ±‚å¤„ç†çš„æ•°æ®é‡åå° Netty Channelchannelæ˜¯ä¸€ä¸ªé€šé“ï¼Œå®ƒå’ŒJava IOä¸­çš„æµå¯¹è±¡ï¼Œç”¨äºŽè¿žæŽ¥æ–‡ä»¶å®žä½“ã€‚Javaé€šè¿‡NIOæ¥ä»Žæ–‡ä»¶ä¸­è¯»å†™æ•°æ®çš„æ—¶å€™ï¼Œå¿…é¡»å»ºç«‹ä¸€ä¸ªé€šé“ï¼Œé€šè¿‡è¿™ä¸ªé€šé“å°†æ•°æ®å†™å…¥åˆ°æ–‡ä»¶ä¸­ï¼Œæˆ–è€…ä»Žæ–‡ä»¶ä¸­è¯»å–æ•°æ®ã€‚ Channelä¸èƒ½å¤Ÿç›´æŽ¥è¢«ç¨‹åºæ“ä½œï¼Œchannelä¸­è¦ä¹ˆå’Œæ–‡ä»¶æ‰“äº¤é“ï¼ˆç½‘ç»œä¸Šçš„èµ„æºä¹Ÿçœ‹åšæ–‡ä»¶ï¼‰ï¼Œè¦ä¹ˆå’Œç¼“å†²åŒºæ‰“äº¤é“ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œå…¶ä»–å¯¹è±¡ä¸èƒ½å–Channeläº¤äº’ã€‚ é€šé“å¯ä»¥æ˜¯å•å‘æˆ–è€…åŒå‘çš„ã€‚ä¸€ä¸ª channel ç±»å¯èƒ½å®žçŽ°å®šä¹‰read( )æ–¹æ³•çš„ ReadableByteChannel æŽ¥å£,è€Œå¦ä¸€ä¸ª channel ç±»ä¹Ÿè®¸å®žçŽ° WritableByteChannel æŽ¥å£ä»¥æä¾› write( )æ–¹æ³•ã€‚å®žçŽ°è¿™ä¸¤ç§æŽ¥å£å…¶ä¸­ä¹‹ä¸€çš„ç±»éƒ½æ˜¯å•å‘çš„,åªèƒ½åœ¨ä¸€ä¸ªæ–¹å‘ä¸Šä¼ è¾“æ•°æ®ã€‚å¦‚æžœä¸€ä¸ªç±»åŒæ—¶å®žçŽ°è¿™ä¸¤ä¸ªæŽ¥å£,é‚£ä¹ˆå®ƒæ˜¯åŒå‘çš„,å¯ä»¥åŒå‘ä¼ è¾“æ•°æ®ã€‚ 1234FileChannel // å¯ä»¥ä»Žæ–‡ä»¶ä¸­è¯»å†™æ•°æ®DatagramChannel //å¯ä»¥ä»ŽUDPè¿žæŽ¥ä¸­è¯»å†™æ•°æ®SocketChannel //å¯ä»¥ä»ŽTCPè¿žæŽ¥ä¸­è¯»å†™æ•°æ®ServerSocketChannel //ç”¨äºŽç›‘å¬TCPè¿žæŽ¥ï¼Œä¸€æ—¦æœ‰è¿žæŽ¥æ¥äº†ä¹‹åŽï¼ŒæŽ¥å—è¿žæŽ¥ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªSocketChannel Bufferç¼“å†²åŒºæ˜¯ç¨‹åºå’Œé€šé“ä¹‹é—´çš„æ¡¥æ¢ï¼Œç¨‹åºæœ‰æ•°æ®è¦å†™å…¥æ–‡ä»¶çš„æ—¶å€™ï¼Œä¼šé¦–å…ˆå°†æ•°æ®å†™å…¥åˆ°ç¼“å†²åŒºä¸­ï¼Œä¹‹åŽåœ¨ç”±ç¼“å†²åŒºä¸ŽChanneläº¤äº’ï¼Œå°†è¿™äº›æ•°æ®å†™å…¥åˆ°æ–‡ä»¶ä¸­ï¼Œåè¿‡æ¥å°±æ˜¯å°†Channelä»Žæ–‡ä»¶ä¸­è¯»å–çš„æ•°æ®å…ˆæ”¾åˆ°ç¼“å†²åŒºä¸­ï¼Œä¹‹åŽç¨‹åºä»Žç¼“å†²åŒºä¸­æ‹¿æ•°æ®ã€‚ Bufferæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒç”¨æ¥å­˜æ”¾å³å°†å‘é€çš„æ•°æ®å’Œå³å°†åˆ°æ¥çš„æ•°æ®ã€‚Bufferæ˜¯NIOæ ¸å¿ƒæ€æƒ³ï¼Œå®ƒä¸Žæ™®é€šæµIOçš„åŒºåˆ«æ˜¯ï¼Œæ™®é€šæµIOç›´æŽ¥æŠŠæ•°æ®å†™å…¥æˆ–è¯»å–åˆ°Streamå¯¹è±¡ä¸­ï¼Œè€ŒNIOæ˜¯å…ˆæŠŠè¯»å†™æ•°æ®äº¤ç»™Bufferï¼ŒåŽåœ¨ç”¨æµå¤„ç†çš„ã€‚Bufferå®žé™…ä¸Šå°±æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œé€šå¸¸æ˜¯å­—èŠ‚æ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„æä¾›äº†è®¿é—®æ•°æ®çš„è¯»å†™ç­‰æ“ä½œå±žæ€§ï¼Œå¦‚ä½ç½®ï¼Œå®¹é‡ï¼Œä¸Šé™ç­‰æ¦‚å¿µã€‚ ç¼“å†²åŒºç±»åž‹,åŸºæœ¬ä¸Šå°±æ˜¯æŒ‰ç…§Javaç±»åž‹æ¥åˆ†çš„ 12345678ByteBufferMappedByteBufferCharBufferDoubleBufferFloatBufferIntBufferLongBufferShortBuffer èŽ·å–ç¼“å†²åŒºå¯¹è±¡çš„æ–¹æ³• 12//èŽ·å–ä»¥å­—èŠ‚ç¼“å†²åŒºå¯¹è±¡ByteBuffer byteBuffer = ByteBuffer.allocate(48); capacitycapacityè¡¨ç¤ºçš„æ˜¯ä¸€å—ç¼“å†²åŒºçš„æ€»å®¹é‡ï¼Œå®ƒä¸€æ—¦è¢«è®¾å®šå¥½ä¹‹åŽå°±ä¸åœ¨å˜åŒ–ã€‚ positionè¡¨ç¤ºå½“å‰æŒ‡é’ˆä½ç½®ï¼Œç¼“å†²åŒºç›®å‰æ‰€å¤„çš„çŠ¶æ€ä¸åŒï¼Œå®ƒæ‰€è¡¨ç¤ºçš„å«ä¹‰ä¹Ÿä¸åŒï¼Œå½“åœ¨å¾€ç¼“å†²åŒºä¸­å†™å…¥æ•°æ®çš„æ—¶å€™ï¼Œpositionåªæƒ³æœ€åŽå†™å…¥çš„ä½ç½®ï¼›å½“ä»Žç¼“å†²åŒºä¸­è¯»å–æ•°æ®çš„æ—¶å€™ï¼Œpositionè¡¨ç¤ºç›®å‰å·²ç»è¯»åˆ°å“ªä¸ªä½ç½®äº†ã€‚ limitå†²åŒºç›®å‰æ‰€å¤„çš„çŠ¶æ€ä¸åŒï¼Œå®ƒæ‰€è¡¨ç¤ºçš„å«ä¹‰ä¹Ÿä¸åŒï¼Œå½“åœ¨å¾€ç¼“å†²åŒºä¸­å†™å…¥æ•°æ®çš„æ—¶å€™ï¼Œlimitè¡¨ç¤ºç¼“å†²åŒºè¿˜æœ‰å¤šå°‘æœªç”¨ç©ºé—´ï¼›å½“ä»Žç¼“å†²åŒºä¸­è¯»å–æ•°æ®çš„æ—¶å€™ï¼Œlimitè¡¨ç¤ºçš„æ˜¯åœ¨è¯»æ•°æ®ä¹‹å‰ï¼Œæœ€åŽå†™å…¥æ•°æ®çš„ä½ç½®ã€‚ mark()/reset() markåœ¨å¯¹ç¼“å†²åŒºè¿›è¡Œæ“ä½œè¿‡ç¨‹ä¸­ï¼Œå¯¹ç¼“å†²åŒºæ‰“ä¸ªæ ‡è®°ç‚¹ï¼Œåœ¨ç»§ç»­å¯¹ç¼“å†²åŒºæ“ä½œä¸€ä¼šï¼Œè°ƒç”¨reset()æ–¹æ³•ï¼Œå°±ä¼šä½¿å¾—positionæŒ‡å‘åˆ°åˆšåˆšæ‰“æ ‡è®°ç‚¹çš„é‚£ä¸ªä½ç½®ã€‚ ç¼“å†²åŒºæœ‰ä¸¤ç§çŠ¶æ€ï¼Œå†™çŠ¶æ€å’Œè¯»çŠ¶æ€ï¼Œå½“ä¹‹å‰ä¸€ç›´åœ¨å¾€ç¼“å†²åŒºä¸­å†™å…¥æ•°æ®ï¼Œæ­¤æ—¶æƒ³ä»Žç¼“å†²åŒºä¸­è¯»å–æ•°æ®ï¼Œæ­¤æ—¶ä¸èƒ½å¤Ÿç›´æŽ¥è°ƒç”¨get()æ–¹æ³•ï¼Œå¿…é¡»é¦–å…ˆè°ƒç”¨flipï¼ˆï¼‰è¿›è¡Œç¼“å†²åŒºç¿»è½¬ï¼Œä¹‹åŽæ‰èƒ½å¤Ÿè¯»å–ã€‚ 1234//é¦–å…ˆç¿»è½¬buffer.flip();//è¯»å–æ•°æ®buffer.get() åŽŸå› ï¼šä»Žç¼“å†²åŒºä¸­è¯»å–æ•°æ®æ˜¯æ ¹æ®positionæ¥è¯»å–çš„ã€‚å½“ä¸€ç›´å†™æ•°æ®çš„æ—¶å€™ï¼Œpositionä¼šä¸æ–­å˜åŒ–ï¼Œä¸€ç›´æŒ‡å‘å½“å‰æ­£åœ¨æ“ä½œçš„ä½ç½®ï¼Œæ­¤æ—¶æƒ³ä»Žç¼“å†²åŒºä¸­è¯»å–æ•°æ®çš„è¯ï¼Œä¸ç¿»è½¬ç›´æŽ¥è¯»ï¼Œé‚£ä¹ˆè¯»å–positionçš„ä¸‹ä¸€ä½ï¼Œè¦ä¹ˆæ˜¯è„æ•°æ®è¦ä¹ˆå°±æ²¡æœ‰æ•°æ®ï¼Œä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼ŒNIOè®¾è®¡å¸ˆä»¬è®¾è®¡ä¸ç¿»è½¬ç›´æŽ¥è¯»çš„æ—¶å€™ä¼šæŠ¥é”™ã€‚ è°ƒç”¨flip()ä¹‹åŽ,limitçš„å€¼å°†ä¼šç½®ä¸ºpositionï¼Œpositionå°†ä¼šç½®ä¸º0ã€‚ç„¶åŽåœ¨å°†ç¼“å†²åŒºæ¸…ç©ºæˆ–è€…æ¸…ç©ºå·²ç»è¯»å–çš„æ•°æ®ä½ç½®ï¼Œä¸ºä¸‹ä¸€æ¬¡å¾€ç¼“å†²åŒºä¸­å†™å…¥æ•°æ®è…¾å‡ºä½ç½®ã€‚ å› æ­¤æ“ä½œç¼“å†²åŒºçš„æ­¥éª¤ï¼š1.å¾€ç¼“å†²åŒºä¸­å†™æ•°æ®2.buffer.flip()3.ä»Žç¼“å†²åŒºä¸­è¯»å–æ•°æ®2.æ¸…ç©ºç¼“å†²åŒºï¼ˆclear()/compact()ï¼‰ SelectorSelectorä¼šä¸æ–­è½®è¯¢æ³¨å†Œåœ¨Selectorä¸Šçš„é€šé“(Channel)ï¼Œå¦‚æžœè¿™ä¸ªé€šé“å‘ç”Ÿäº†è¯»å†™æ“ä½œï¼Œè¿™ä¸ªé€šé“å°±ä¼šå¤„äºŽå°±ç»ªçŠ¶æ€ï¼Œä¼šè¢«Selectorå¯Ÿè§‰åˆ°ï¼Œç„¶åŽé€šè¿‡SelectionKeyå¯ä»¥å–å‡ºå°±ç»ªçš„Channelé›†åˆï¼Œä»Žè€Œè¿›è¡ŒIOæ“ä½œã€‚ Selectorå¯ä»¥ç”¨äºŽç®¡ç†Channelï¼Œæ­¤æ—¶Channeléœ€è¦å‘Selectorè¿›è¡Œæ³¨å†Œï¼Œåªæœ‰æ³¨å†Œä¹‹åŽï¼ŒSelectoræ‰ä¼šçœŸæ­£çš„åŽ»ç®¡ç†Channelã€‚ä¸€ä¸ªSelectorå¯ä»¥ç®¡ç†å¤šä¸ªé€šé“ï¼ŒSelectoré€šè¿‡select()æ–¹æ³•ä¸æ–­çš„è½®ä¼‘è¿™äº›Channelï¼Œå½“æ‰€æœ‰çš„Channelä¸Šéƒ½æ²¡æœ‰IOæ“ä½œçš„æ—¶å€™ï¼Œselect()ä¼šé˜»å¡žï¼Œå½“æ³¨å†Œåœ¨Selectorä¸Šçš„Channelè‡³å°‘æœ‰ä¸€ä¸ªéœ€è¦è¿›è¡ŒIOæ“ä½œçš„æ—¶å€™ï¼Œæ­£åœ¨æ‰§è¡Œselect()æ–¹æ³•çš„çº¿ç¨‹å°†ä¼šè¢«å”¤é†’ï¼Œå¹¶ä¸”è¿”å›žä¸€ä¸ªæ•´æ•°ï¼Œä»£è¡¨æœ‰å‡ ä¸ªChanneléœ€è¦è¿›è¡ŒIOæ“ä½œã€‚ æ¯å½“æœ‰ç”¨æˆ·è¿žæŽ¥æ—¶ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªSocketChannelï¼Œå¹¶å°†å…¶æ³¨å†Œåˆ°Selectorä¸Šã€‚æœåŠ¡å™¨åªéœ€è¦å¼€å¯ä¸€ä¸ªçº¿ç¨‹å°±å¯ä»¥å¤„ç†å¤šä¸ªç”¨æˆ·è¿žæŽ¥ï¼šè¿™æ¡çº¿ç¨‹æ‰§è¡ŒSelectorï¼Œå¦‚æžœæ²¡æœ‰è¿žæŽ¥ï¼Œé˜»å¡žï¼Œæœ‰è¿žæŽ¥çš„è¯ï¼Œå»ºç«‹é€šé“å¹¶æ³¨å†Œåˆ°Selectorä¸Šï¼Œäº¤ç”±Selectorç®¡ç†ï¼ŒSelectorä¸ç®¡è½®è¯¢æ³¨å†Œåœ¨å…¶ä¸Šçš„Channelï¼Œæœ‰IOæ“ä½œçš„è¯ï¼Œå°±è¿›è¡Œå¤„ç†ï¼Œå½“æ•°æ®æ²¡æœ‰å®Œå…¨åˆ°æ¥çš„æ—¶å€™ä¹Ÿå¯ä»¥å¤„ç†ï¼Œæ­¤æ—¶readæ“ä½œéžé˜»å¡žä¸éœ€è¦ç­‰å¾…ï¼Œç«‹å³è¿”å›žï¼Œè¿™æ ·å°±å¯ä»¥ä½¿å¾—ä¸€æ¡çº¿ç¨‹å¤„ç†å¤šä¸ªç”¨æˆ·ï¼Œå¤§å¤§æé«˜äº†çº¿ç¨‹çš„æ•°æ®å¤„ç†èƒ½åŠ›ï¼Œä¹Ÿå‡è½»äº†æœåŠ¡å™¨ç«¯çš„åŽ‹åŠ›ã€‚ï¼ˆnettyæ¡†æž¶æ®è¯´å¯ä»¥ä¸€æ¡çº¿ç¨‹å¤„ç†æˆåƒä¸Šä¸‡ä¸ªç”¨æˆ·è¿žæŽ¥ï¼‰ 1234SelectionKey.OP_CONNECT //å…³æ³¨è¿žæŽ¥SelectionKey.OP_ACCEPT SelectionKey.OP_READ //å…³æ³¨è¯»IOSelectionKey.OP_WRITE //å…³æ³¨å†™IO]]></content>
      <categories>
        <category>JAVA</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŒºåˆ«($ä¸Ž#)]]></title>
    <url>%2F2018%2F06%2F22%2F%E5%8C%BA%E5%88%AB-%E4%B8%8E%2F</url>
    <content type="text"><![CDATA[${ } å’Œ #{ }çš„åŒºåˆ«åŠ¨æ€ SQL æ˜¯ mybatis çš„å¼ºå¤§ç‰¹æ€§ä¹‹ä¸€ï¼Œä¹Ÿæ˜¯å®ƒä¼˜äºŽå…¶ä»– ORM æ¡†æž¶çš„ä¸€ä¸ªé‡è¦åŽŸå› ã€‚mybatis åœ¨å¯¹ sql è¯­å¥è¿›è¡Œé¢„ç¼–è¯‘ä¹‹å‰ï¼Œä¼šå¯¹ sql è¿›è¡ŒåŠ¨æ€è§£æžï¼Œè§£æžä¸ºä¸€ä¸ª BoundSql å¯¹è±¡ï¼Œä¹Ÿæ˜¯åœ¨æ­¤å¤„å¯¹åŠ¨æ€ SQL è¿›è¡Œå¤„ç†çš„ã€‚åœ¨åŠ¨æ€ SQL è§£æžé˜¶æ®µï¼Œ #{ } å’Œ ${ } ä¼šæœ‰ä¸åŒçš„è¡¨çŽ°ã€‚ ${} åœ¨åŠ¨æ€è§£æžçš„æ—¶å€™ï¼Œä¼šå°†æˆ‘ä»¬ä¼ å…¥çš„å‚æ•°å½“åšStringå­—ç¬¦ä¸²å¡«å……åˆ°æˆ‘ä»¬çš„è¯­å¥ä¸­ 123&lt;update id=&quot;updateRole&quot; parameterType=&quot;role&quot;&gt; update t_role set role_name=$&#123;roleName&#125;,note=$&#123;note&#125; where id=$&#123;id&#125;&lt;/update&gt; ç”Ÿæˆçš„sqlè¯­å¥1update t_role set role_name=abc,note=æè¿° where id=4 æŠ¥é”™1Unknown column &apos;abc&apos; in &apos;field list&apos; #{} åœ¨åŠ¨æ€è§£æžçš„æ—¶å€™ï¼Œ ä¼šè§£æžæˆä¸€ä¸ªå‚æ•°æ ‡è®°ç¬¦ 12Preparing: update t_role set role_name=?,note=? where id=? Parameters: abc(String), æè¿°(String), 4(Integer) é¢„ç¼–è¯‘ä¹‹å‰çš„ SQL è¯­å¥å·²ç»ä¸åŒ…å«å˜é‡äº†ï¼Œå®Œå…¨å·²ç»æ˜¯å¸¸é‡æ•°æ®äº†ã€‚ç›¸å½“äºŽæˆ‘ä»¬æ™®é€šæ²¡æœ‰å˜é‡çš„sqlã€‚ ç»¼ä¸Šæ‰€å¾—ï¼Œ ${ } å˜é‡çš„æ›¿æ¢é˜¶æ®µæ˜¯åœ¨åŠ¨æ€ SQL è§£æžé˜¶æ®µï¼Œè€Œ #{ }å˜é‡çš„æ›¿æ¢æ˜¯åœ¨ DBMS ä¸­ã€‚ è¿™æ˜¯ #{} å’Œ ${} æˆ‘ä»¬èƒ½çœ‹åˆ°çš„ä¸»è¦çš„åŒºåˆ«ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰ä»¥ä¸‹åŒºåˆ«ï¼š #æ–¹å¼èƒ½å¤Ÿå¾ˆå¤§ç¨‹åº¦é˜²æ­¢sqlæ³¨å…¥ã€‚ $æ–¹å¼æ— æ³•é˜²æ­¢Sqlæ³¨å…¥ã€‚ $æ–¹å¼ä¸€èˆ¬ç”¨äºŽä¼ å…¥æ•°æ®åº“å¯¹è±¡ï¼Œä¾‹å¦‚ä¼ å…¥è¡¨åï¼Œåˆ—æ˜Ž. ä¸€èˆ¬èƒ½ç”¨#çš„å°±åˆ«ç”¨$.]]></content>
      <categories>
        <category>JAVA</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Servlet_01]]></title>
    <url>%2F2018%2F06%2F20%2FServlet_01%2F</url>
    <content type="text"><![CDATA[SERVLET[TOC] ##å¼•å…¥ WEBï¼Œåœ¨è‹±è¯­ä¸­webå³è¡¨ç¤ºç½‘é¡µçš„æ„æ€ï¼Œå®ƒç”¨äºŽè¡¨ç¤ºInternetä¸»æœºä¸Šä¾›å¤–ç•Œè®¿é—®çš„èµ„æºã€‚ Internetä¸Šä¾›å¤–ç•Œè®¿é—®çš„Webèµ„æºåˆ†ä¸ºï¼š é™æ€webèµ„æºï¼ˆå¦‚html é¡µé¢ï¼‰ï¼šæŒ‡webé¡µé¢ä¸­ä¾›äººä»¬æµè§ˆçš„æ•°æ®å§‹ç»ˆæ˜¯ä¸å˜ã€‚ åŠ¨æ€webèµ„æºï¼šæŒ‡webé¡µé¢ä¸­ä¾›äººä»¬æµè§ˆçš„æ•°æ®æ˜¯ç”±ç¨‹åºäº§ç”Ÿçš„ï¼Œä¸åŒæ—¶é—´ç‚¹è®¿é—®webé¡µé¢çœ‹åˆ°çš„å†…å®¹å„ä¸ç›¸åŒã€‚ å¸¸ç”¨åŠ¨æ€webèµ„æºå¼€å‘æŠ€æœ¯ï¼š JSP/Servletã€ASPã€PHPç­‰ åœ¨Javaä¸­ï¼ŒåŠ¨æ€webèµ„æºå¼€å‘æŠ€æœ¯ç»Ÿç§°ä¸ºJavaWebï¼Œæˆ‘ä»¬è¯¾ç¨‹çš„é‡ç‚¹ä¹Ÿæ˜¯æ•™å¤§å®¶å¦‚ä½•ä½¿ç”¨JavaæŠ€æœ¯å¼€å‘åŠ¨æ€çš„webèµ„æºï¼Œå³åŠ¨æ€webé¡µé¢ã€‚ åœ¨äº’è”ç½‘ä¸Šå¦‚ä½•å®žçŽ°èµ„æºè®¿é—®ï¼Ÿ è®¡ç®—æœºé€šè¿‡ç»Ÿä¸€èµ„æºå®šä½ç¬¦å®žçŽ°èµ„æºè®¿é—® URLï¼šUniform Resource Locatorçš„ç¼©å†™ å”¯ä¸€èƒ½è¯†åˆ«Internetä¸Šå…·ä½“çš„è®¡ç®—æœºã€ç›®å½•æˆ–æ–‡ä»¶å¤¹ä½ç½®çš„å‘½åçº¦å®š ç¨‹åºæž¶æž„B/Sä¸ŽC/S B/Sæž¶æž„å·¥ä½œåŽŸç† è¯·æ±‚ä¸Žå“åº”æ¨¡å¼è¿›è¡Œäº¤äº’ â€‹ æœåŠ¡å¤„ç†è¯·æ±‚ä¸Žå‘å‘é€è¯·æ±‚æ–¹å“åº” WebæœåŠ¡å™¨å­¦ä¹ webå¼€å‘ï¼Œéœ€è¦å…ˆå®‰è£…ä¸€å°webæœåŠ¡å™¨ï¼Œç„¶åŽå†åœ¨webæœåŠ¡å™¨ä¸­å¼€å‘ç›¸åº”çš„webèµ„æºï¼ˆjspï¼Œhtmlï¼Œcssï¼Œjsï¼‰ï¼Œä¾›ç”¨æˆ·ä½¿ç”¨æµè§ˆå™¨è®¿é—®ã€‚ æœåŠ¡å™¨å¯ä»¥å‘å‘å‡ºè¯·æ±‚çš„æµè§ˆå™¨æä¾›æ–‡æ¡£ï¼ˆå“åº”æ•°æ®ï¼‰çš„ç¨‹åºï¼Œæä¾›ç½‘ä¸Šçš„ä¿¡æ¯æµè§ˆæœåŠ¡ã€‚ å¸¸ç”¨çš„WebæœåŠ¡å™¨ Microsoftï¼šIIS Apacheï¼šTomcat Oracleï¼šWebLogic IBMï¼šWebSphere Nginx TomcatæœåŠ¡å™¨ Apache Jakartaçš„å¼€æºé¡¹ç›® è½»é‡çº§åº”ç”¨æœåŠ¡å™¨ å¼€æºã€ç¨³å®šã€èµ„æºå ç”¨å° Tomcatå®˜ç½‘ tar.gzæ–‡ä»¶æ˜¯Linuxæ“ä½œç³»ç»Ÿä¸‹çš„å®‰è£…ç‰ˆæœ¬ exeæ–‡ä»¶æ˜¯Windowsç³»ç»Ÿä¸‹çš„å®‰è£…ç‰ˆæœ¬(ä¸Šçº¿) zipæ–‡ä»¶æ˜¯Windowsç³»ç»Ÿä¸‹çš„åŽ‹ç¼©ç‰ˆæœ¬(å¼€å‘)ç»¿è‰² Tomcatç›®å½•ç»“æž„ é…ç½®ä¸Žå¯åŠ¨Tomcat é»˜è®¤ç«¯å£å·ï¼š8080 é€šè¿‡é…ç½®æ–‡ä»¶server.xmlä¿®æ”¹Tomcatç«¯å£å· å¯åŠ¨Tomcat bin\startup.bat è®¿é—®http://localhost:8080æŸ¥çœ‹Tomcatä¸»é¡µ åœæ­¢Tomcat bin\shutdown.bat Eclipseä¸­é…ç½®Tomcat Window -ã€‹ preferences -ã€‹Server-ã€‹Runtime Environments -ã€‹Add é€‰æ‹©tomcatçš„ï¼ˆè§£åŽ‹ï¼‰å®‰è£…ç›®å½• Window -ã€‹show view -ã€‹other -ã€‹æœç´¢serverï¼Œç‚¹å‡»æœç´¢åˆ°çš„server-ã€‹open ç‚¹è§£serveré¢æ¿çš„é“¾æŽ¥-ã€‹é€‰æ‹©æ·»åŠ çš„tomcat-ã€‹next-ã€‹finish å®ŒæˆTomcatä¸ŽEclipseçš„é›†æˆ åˆè¯†Servletåˆ›å»ºWebé¡¹ç›® File - &gt; new -&gt; other -&gt;æœç´¢dynamic-ã€‹Dynamic Web Project-ã€‹next-ã€‹å¡«å†™é¡¹ç›®å-ã€‹next-ã€‹next-ã€‹å‹¾ä¸ŠGenerate web.xmlâ€¦â€¦-&gt;finish åœ¨WebContentç›®å½•ä¸‹åˆ›å»ºindex.htmlï¼Œåœ¨HTMLä¸­éšä¾¿å†™äº›ä¸œè¥¿ï¼Œä¿å­˜ Servelt Servlet æ˜¯ä¸€ä¸ª Javaç¨‹åºï¼Œæ˜¯åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œä»¥å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚å¹¶åšå‡ºå“åº”çš„ç¨‹åº Servletè¿è¡ŒåŽŸç† ç›®å½•ç»“æž„ ç¬¬ä¸€ä¸ªServlet web.xmlé…ç½® 12345678910&lt;!-- æ³¨å†Œservlet --&gt; &lt;servlet&gt; &lt;servlet-name&gt;HelloServlet&lt;/servlet-name&gt; &lt;!-- åå­—ä»»æ„ --&gt; &lt;servlet-class&gt;com.dsj.controller.HelloServlet&lt;/servlet-class&gt; &lt;/servlet&gt; &lt;!-- mappingæ˜ å°„ï¼Œurlåˆ°servletçš„æ˜ å°„ --&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;HelloServlet&lt;/servlet-name&gt; &lt;!-- æ­¤å¤„çš„nameå¿…é¡»è¦ä¸Žä¸Šé¢çš„ä¸€è‡´ --&gt; &lt;url-pattern&gt;/hello.abc&lt;/url-pattern&gt; &lt;!-- pattern åŒ¹é…ï¼ŒurlåŒ¹é… --&gt; &lt;/servlet-mapping&gt; é—®é¢˜ å•è¯æ‹¼é”™ 123456789101112131415163. è‡ªåŠ¨æž„å»ºï¼Œå¯ä»¥å°†å˜åŒ–çš„ä»£ç è‡ªåŠ¨ç”Ÿæˆåˆ°æ–°çš„classæ–‡ä»¶ä¸­ï¼Œä¹‹åŽåŠ è½½è¿è¡Œä¾¿å¯ä»¥çœ‹åˆ°æ”¹åŠ¨çš„å˜åŒ–ï¼Œå¦‚æžœè¿˜ä¸è¡Œï¼Œåœ¨å°è¯•ä½¿ç”¨cleanï¼Œå»ºè®®åªæ¸…ç†ï¼ˆcleanï¼‰è‡ªå·±å½“å‰æ­£åœ¨ç”¨çš„çš„å·¥ç¨‹4. HTML,CSS,JSå¯¹è¿™äº›æ–‡ä»¶çš„ä¿®æ”¹ä¸éœ€è¦é‡å¯å·¥ç¨‹ï¼Œåªè¦åœ¨ä¿®æ”¹ä¹‹åŽï¼Œåˆ·æ–°é¡µé¢å³å¯æ˜¾ç¤ºä¿®æ”¹åŽçš„å˜åŒ–ï¼Œå¯¹äºŽå°†æ¥è¦è®²çš„jspä¸Žjavaä»£ç ç±»ä¼¼ï¼Œè¦ç­‰jspæ–‡ä»¶æž„å»ºä»¥ä¸‹ï¼Œæ‰èƒ½é‡æ–°æ‰§è¡Œï¼Œä¹Ÿä¸éœ€è¦é‡å¯å·¥ç¨‹ï¼Œå¯¹**web.xml**é…ç½®æ–‡ä»¶çš„æ”¹å˜ï¼Œéœ€è¦é‡å¯å·¥ç¨‹ã€‚5. WEB-INFç›®å½•æ˜¯ä¸å¯ä»¥è¢«å¤–ç•Œé€šè¿‡urlåœ°å€ç›´æŽ¥è®¿é—®çš„ï¼Œæ‰€ä»¥ç›®å‰åˆ›å»ºhtmlæ–‡ä»¶ä¸è¦åˆ›å»ºåˆ°WEB-INFç›®å½•ä¸‹ï¼Œåˆ›å»ºåœ¨Web-Contentç›®å½•ä¸‹6. JDKä¸è¦ç”¨10.xä¸€ç³»åˆ—ç‰ˆæœ¬ï¼Œä½¿ç”¨1.8.xå°±è¡Œï¼Œä¸ç”¨å¸è½½ï¼Œåªéœ€è¦å†è£…ä¸€ä¸ª1.8.xç‰ˆæœ¬ï¼Œåªè¦æ”¹JAVA_HOMEçŽ¯å¢ƒå˜é‡å³å¯7. é¡¹ç›®è¿è¡Œï¼Œåœ¨æŒ‡å®šçš„èµ„æºï¼ˆhtmlï¼Œjspï¼Œservletï¼‰ä¸Šï¼Œå³å‡»run on serveræ‰§è¡Œï¼Œå¯åŠ¨ä¹‹åŽï¼Œä¼šåœ¨eclipseåœ°å€æ ç›´æŽ¥è®¿é—®åˆ°è¢«å³å‡»çš„èµ„æºã€‚ **æµç¨‹**è¯·æ±‚åœ°å€ï¼š```http://localhost:8080/HelloWeb/hello.abc localhost:8080-ã€‹Tomcat HelloWeb-ã€‹åˆ°å¯¹åº”çš„é¡¹ç›®åç§°ä¸ºHelloWebçš„é¡¹ç›® hello.abc-ã€‹ä¸€å¼€å§‹åœ¨é¡¹ç›®å‘å¸ƒçš„æ—¶å€™ä¼šåŠ è½½web.xmlé…ç½®æ–‡ä»¶ 12map1: HelloServlet com.dsj.controller.HelloServletmap2: hello.abc HelloServlet å½“è¯·æ±‚æ¥çš„æ—¶å€™ï¼Œå°±å¯ä»¥æ ¹æ®hello.abcåˆ°map2ä¸­åŽ»æ‰¾åŒ¹é…çš„keyå€¼ï¼Œ123456789101112**æ€Žæ ·æŸ¥çœ‹Servletæºç **ç‚¹å‡»å¯¹åº”çš„ç±»ï¼Œçœ‹ä¸åˆ°å…¶ä¸­çš„æºç ï¼Œç‚¹å‡»```Attach Source```,é€‰æ‹©External Location-ã€‹External File-ã€‹é€‰æ‹©è¿™ä¸ªsrcservlet.zip-ã€‹æ‰“å¼€å°±è¡Œäº†**åå°„**ï¼ˆäº†è§£ï¼‰é€šè¿‡ç´¯çš„å…¨é™å®šåï¼ˆ```com.dsj.controller.HelloServlet```ï¼‰ï¼Œå¯ä»¥åˆ›å»ºå¯¹è±¡ï¼Œå¯ä»¥è®¾ç½®å¯¹è±¡çš„å±žæ€§å€¼ï¼Œå¯ä»¥è°ƒç”¨å…¶æ–¹æ³•ï¼Œä¸ç®¡æ˜¯ç§æœ‰çš„è¿˜æ˜¯å…¬æœ‰çš„ã€‚ public class Student { private String name; public String address; public String getName() { return name; } public void setName(String name) { this.name = name; } public String getAddress() { return address; } public void setAddress(String address) { this.address = address; } public String sleep() { return â€œåˆç¡è§‰äº†â€; } @Override public String toString() { return â€œStudent [name=â€ + name + â€œ, address=â€ + address + â€œ]â€; }} 12åå°„main public static void main(String[] args) { String clzName = &quot;com.dsj.Student&quot;; try { // ç±»çš„ç±» Class clz = Class.forName(clzName); // ä½¿ç”¨æ— å‚æ•°çš„æž„é€ å™¨åˆ›å»ºå®žä¾‹ Object obj = clz.newInstance(); //newåˆ›å»º Instance å®žä¾‹ï¼Œå¯¹è±¡// Student stu = (Student) clz.newInstance();// stu.setName(â€œlisiâ€); Field[] field = clz.getDeclaredFields(); for(Field f:field) { if(f.getName().equals(&quot;name&quot;)) { f.setAccessible(true); f.set(obj, &quot;å¼ ä¸‰&quot;); } if(f.getName().equals(&quot;address&quot;)) { f.set(obj, &quot;è‹å·žå¸‚&quot;); } } System.out.println(obj.toString()); Method[] ms = clz.getDeclaredMethods(); for(Method m:ms) { if(m.getName().equals(&quot;sleep&quot;)) { // args æ–¹æ³•éœ€è¦ä¼ é€’å“ªäº›å‚æ•° Object... å¯å˜é•¿åº¦çš„å‚æ•°ï¼ˆ0-nä¸ªå‚æ•°ï¼‰ // ooæŽ¥å—æ–¹æ³•è°ƒç”¨çš„è¿”å›žå€¼ Object oo = m.invoke(obj);// è°ƒç”¨sleepæ–¹æ³• System.out.println(oo); } } } catch (ClassNotFoundException e) { // TODO Auto-generated catch block e.printStackTrace(); } catch (InstantiationException e) { // TODO Auto-generated catch block e.printStackTrace(); } catch (IllegalAccessException e) { // TODO Auto-generated catch block e.printStackTrace(); } catch (IllegalArgumentException e) { // TODO Auto-generated catch block e.printStackTrace(); } catch (InvocationTargetException e) { // TODO Auto-generated catch block e.printStackTrace(); } }1234**å¯å˜é•¿åº¦çš„å‚æ•°** public static void main(String[] args) {// flex1(); System.out.println(â€œ==========â€); flex1(â€œaâ€); System.out.println(â€œ==========â€); flex1(â€œbâ€,â€câ€); System.out.println(â€œ==========â€); flex1(â€œdâ€,â€eâ€,â€fâ€); } // å¯å˜é•¿åº¦çš„å‚æ•°å¿…é¡»æ”¾åœ¨æœ€åŽä¸€ä¸ªä½ç½® public static void flex1(String dd, Stringâ€¦ strs) { System.out.println(strs.length); for(String s:strs) { System.out.println(s); } } **404:**è¯·æ±‚çš„ç½‘é¡µä¸å­˜åœ¨ï¼Œæ£€æŸ¥ç¼©å†™urlåœ°å€æ˜¯å¦æœ‰é—®é¢˜ **500:**æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼Œæ£€æŸ¥æœåŠ¡å™¨ä»£ç é—®é¢˜]]></content>
      <categories>
        <category>JAVA</category>
      </categories>
      <tags>
        <tag>Java-Servlet</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åå°„]]></title>
    <url>%2F2018%2F06%2F15%2F%E5%8F%8D%E5%B0%84%2F</url>
    <content type="text"><![CDATA[åå°„Javaç¨‹åºå¯¹è±¡ç±»åž‹: ç¼–è¯‘æ—¶ç±»åž‹ è¿è¡Œæ—¶ç±»åž‹ 1Person p=new Student(); pè¯‘æ—¶æ˜¯Personç±»åž‹ï¼Œè€Œè¿è¡Œæ—¶æ˜¯Studentç±»åž‹ å¦‚ä½•è§£å†³è¿™ä¸ªç¼–è¯‘æ—¶ä¸Žè¿è¡Œæ—¶çš„ç±»åž‹ä¸åŒå‘¢? å‡è®¾åœ¨ç¼–è¯‘æ—¶å’Œè¿è¡Œæ—¶éƒ½å®Œå…¨çŸ¥é“ç±»åž‹çš„å…·ä½“ä¿¡æ¯ï¼Œè¿™ç§æƒ…å†µä¸‹ç”¨instanceofåˆ¤æ–­ï¼Œå†è¿›è¡Œå¼ºåˆ¶è½¬æ¢å®žçŽ° ç¬¬äºŒç§åšæ³•:ç¼–è¯‘æ—¶æ ¹æœ¬æ— æ³•é¢„çŸ¥è¯¥å¯¹è±¡å’Œç±»å¯èƒ½å±žäºŽå“ªäº›ç±»ï¼Œç¨‹åºåªèƒ½ä¾é è¿è¡Œæ—¶ä¿¡æ¯æ¥å‘çŽ°è¯¥å¯¹è±¡å’Œç±»çš„çœŸå®žä¿¡æ¯ï¼Œè¿™å°±å¿…é¡»ä½¿ç”¨åå°„ èŽ·å¾—Classå¯¹è±¡ æˆ‘ä»¬çŸ¥é“ç±»åŠ è½½åŽï¼Œç³»ç»Ÿä¼šç”Ÿæˆæ­¤ç±»çš„java.lang.Classå¯¹è±¡ï¼Œé€šè¿‡è¯¥Classå¯¹è±¡å°±å¯è®¿é—®JVMä¸­çš„è¿™ä¸ªç±»ã€‚Javaç¨‹åºä¸­èŽ·å¾—Classå¯¹è±¡é€šå¸¸ç”¨å¦‚ä¸‹3ç§æ–¹å¼: ä½¿ç”¨Classç±»çš„forName(String className)é™æ€æ–¹æ³•ã€‚classNameåŒ…å«å®Œæ•´åŒ…åä¸Žç±»å è°ƒç”¨æŸä¸ªç±»çš„classå±žæ€§æ¥èŽ·å–è¯¥ç±»å¯¹åº”çš„Classå¯¹è±¡ï¼Œå¦‚ Person.classå°†ä¼šè¿”å›žPersonç±»å¯¹åº”çš„Classå¯¹è±¡ è°ƒç”¨æŸä¸ªå¯¹è±¡çš„getClass()æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•æ˜¯Objectç±»ä¸­çš„ä¸€ä¸ªæ–¹æ³•,å®ƒä¼šè¿”å›žè¯¥å¯¹è±¡æ‰€å±žç±»å¯¹åº”çš„Classå¯¹è±¡ åœ¨èŽ·å¾—äº†æŸä¸ªç±»æ‰€å¯¹åº”çš„Classå¯¹è±¡åŽï¼Œç¨‹åºå°±å¯ä»¥è°ƒç”¨Classå¯¹è±¡çš„æ–¹æ³•æ¥èŽ·å¾—è¯¥å¯¹è±¡å’Œè¯¥ç±»çš„çœŸå®žä¿¡æ¯äº†ã€‚ èŽ·å–Classå¯¹è±¡å¯¹åº”ç±»çš„æ‰€åŒ…å«çš„æž„é€ å™¨ èŽ·å–Classå¯¹è±¡å¯¹åº”ç±»æ‰€åŒ…å«çš„æ–¹æ³• èŽ·å–Classå¯¹åº”ç±»æ‰€åŒ…å«çš„Field èŽ·å–Classå¯¹è±¡å¯¹åº”ç±»çš„ç›¸å…³ç±»ã€æŽ¥å£ç­‰ èŽ·å–Classå¯¹è±¡å¯¹åº”ç±»çš„ä¿®é¥°ç¬¦ã€æ‰€åœ¨åŒ…ã€ç±»åç­‰åŸºæœ¬ä¿¡æ¯ åˆ¤æ–­è¯¥ç±»æ˜¯å¦ä¸ºæŽ¥å£ã€æžšä¸¾ç±»åž‹ç­‰ ä½¿ç”¨åå°„ç”Ÿæˆå¹¶æ“ä½œå¯¹è±¡ é€šè¿‡åå°„æ¥ç”Ÿæˆå¯¹è±¡æœ‰å¦‚ä¸‹ä¸¤ç§æ–¹å¼ 1.ä½¿ç”¨Classå¯¹è±¡çš„newInstance()æ–¹æ³•æ¥åˆ›å»ºè¯¥Classå¯¹è±¡å¯¹åº”ç±»çš„å®žä¾‹ï¼Œè¿™ç§æ–¹å¼è¦æ±‚è¯¥Classå¯¹è±¡çš„å¯¹åº”ç±»æœ‰é»˜è®¤æž„é€ å™¨ï¼Œæ‰§è¡ŒnewInstance()æ–¹æ³•æ—¶å®žé™…ä¸Šå°±æ˜¯åˆ©ç”¨é»˜è®¤æž„é€ å™¨åˆ›å»ºè¯¥ç±»çš„å®žä¾‹ 2.å…ˆä½¿ç”¨Classå¯¹è±¡èŽ·å–æŒ‡å®šçš„Constructorå¯¹è±¡ï¼Œå†è°ƒç”¨Constructorå¯¹è±¡çš„newInstance()æ–¹æ³•æ¥åˆ›å»ºè¯¥Classå¯¹è±¡å¯¹åº”çš„å®žä¾‹ã€‚é€šè¿‡è¿™ç§æ–¹å¼å¯ä»¥é€‰æ‹©ä½¿ç”¨æŒ‡å®šçš„æž„é€ å™¨æ¥åˆ›å»ºå®žä¾‹ å‰ä¸€ç§æ–¹æ³•è¾ƒå¸¸è§ï¼Œå¾ˆå¤šJavaEEæ¡†æž¶ä¸­éƒ½éœ€è¦æ ¹æ®é…ç½®æ–‡ä»¶ä¿¡æ¯æ¥åˆ›å»ºJavaå¯¹è±¡ï¼Œä»Žé…ç½®æ–‡ä»¶ä¸­è¯»å–çš„åªæ˜¯æŸä¸ªç±»çš„å­—ç¬¦ä¸²ç±»åï¼Œç¨‹åºéœ€è¦æ ¹æ®è¯¥å­—ç¬¦ä¸²æ¥åˆ›å»ºå¯¹åº”çš„å®žä¾‹ï¼Œå°±å¿…é¡»ä½¿ç”¨åå°„ è°ƒç”¨æ–¹æ³• èŽ·å¾—æŸä¸ªç±»å¯¹åº”çš„Classå¯¹è±¡åŽï¼Œå°±å¯ä»¥é€šè¿‡è¯¥Classå¯¹è±¡çš„getMethods()æ–¹æ³•æˆ–getMethod()æ–¹æ³•æ¥èŽ·å–å…¨éƒ¨æ–¹æ³•æˆ–æŒ‡å®šæ–¹æ³•ï¼Œå‰ä¸€ä¸ªæ–¹æ³•æ˜¯è¿”å›žä¸€ä¸ªMethodæ•°ç»„ï¼ŒåŽè€…æ˜¯Methodå¯¹è±¡ Methodå¯¹è±¡å¯¹åº”ä¸€ä¸ªæ–¹æ³•ï¼ŒèŽ·å¾—Methodå¯¹è±¡åŽï¼Œç¨‹åºå°±å¯ä»¥é€šè¿‡è¯¥Methodæ¥è°ƒç”¨å®ƒå¯¹åº”çš„æ–¹æ³•ã€‚åœ¨Methodé‡ŒåŒ…å«ä¸€ä¸ªinvoke()æ–¹æ³•ï¼Œæ–¹æ³•çš„ç­¾åå¦‚ä¸‹: Object invoke(Object obj,Objectâ€¦args):objæ˜¯æ‰§è¡Œè¯¥æ–¹æ³•çš„ä¸»è°ƒï¼ŒåŽé¢çš„argsæ˜¯å‚æ•°ã€‚ æ“ä½œæ•°ç»„ java.lang.reflectåŒ…ä¸‹æä¾›äº†ä¸€ä¸ªArrayç±»ï¼ŒArrayå¯¹è±¡å¯ä»¥ä»£è¡¨æ‰€æœ‰çš„æ•°ç»„ï¼Œç¨‹åºå¯ä»¥é€šè¿‡ä½¿ç”¨Arrayæ¥åŠ¨æ€åœ°åˆ›å»ºæ•°ç»„ï¼Œæ“ä½œæ•°ç»„å…ƒç´ ç­‰ Arrayæä¾›äº†å¦‚ä¸‹å‡ ä¸ªæ–¹æ³•: static Object newInstance(Class&lt;?&gt;componentType,intâ€¦ length):åˆ›å»ºä¸€ä¸ªå…·æœ‰æŒ‡å®šå…ƒç´ ç±»åž‹ã€æŒ‡å®šç»´åº¦çš„æ–°æ•°ç»„ static xxx getXxx(Object **array,int index):è¿”å›žarrayæ•°ç»„ä¸­ç¬¬indexå…ƒç´ ï¼Œå¦‚æžœæ•°ç»„å…ƒç´ æ˜¯å¼•ç”¨ç±»åž‹ï¼Œåˆ™è¯¥æ–¹æ³•å˜ä¸º**get(Object array,int index); static void setXxx(Object array,int index,xxx val):å°†arrayæ•°ç»„ä¸­ç¬¬indexå…ƒç´ å€¼è®¾å®šä¸ºval å¦‚æžœæ•°ç»„å…ƒç´ æ˜¯å¼•ç”¨ç±»åž‹ï¼Œåˆ™è¯¥æ–¹æ³•å˜ä¸ºset(Object array,int index,Object);]]></content>
      <categories>
        <category>JAVA</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[çº¿ç¨‹æ± ]]></title>
    <url>%2F2018%2F06%2F07%2F%E7%BA%BF%E7%A8%8B%E6%B1%A0%2F</url>
    <content type="text"><![CDATA[çº¿ç¨‹æ± çº¿ç¨‹æ± å°±æ˜¯é¦–å…ˆåˆ›å»ºä¸€äº›çº¿ç¨‹ï¼Œå®ƒä»¬çš„é›†åˆç§°ä¸ºçº¿ç¨‹æ± ã€‚ä½¿ç”¨çº¿ç¨‹æ± å¯ä»¥å¾ˆå¥½åœ°æé«˜æ€§èƒ½ï¼Œçº¿ç¨‹æ± åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶å³åˆ›å»ºä¸€äº›ç©ºé—²çš„çº¿ç¨‹ï¼Œç¨‹åºå°†ä¸€ä¸ªä»»åŠ¡ä¼ ç»™çº¿ç¨‹æ± ï¼Œçº¿ç¨‹æ± å°±ä¼šå¯åŠ¨ä¸€æ¡çº¿ç¨‹æ¥æ‰§è¡Œè¿™ä¸ªä»»åŠ¡ï¼Œæ‰§è¡Œç»“æŸä»¥åŽï¼Œè¯¥çº¿ç¨‹å¹¶ä¸ä¼šæ­»äº¡ï¼Œè€Œæ˜¯å†æ¬¡è¿”å›žçº¿ç¨‹æ± ä¸­æˆä¸ºç©ºé—²çŠ¶æ€ï¼Œç­‰å¾…æ‰§è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡ï¼ˆæé«˜çº¿ç¨‹å¤ç”¨ï¼Œå‡å°‘æ€§èƒ½å¼€é”€ï¼‰ã€‚è¿™é¿å…äº†åœ¨å¤„ç†çŸ­æ—¶é—´ä»»åŠ¡æ—¶åˆ›å»ºä¸Žé”€æ¯çº¿ç¨‹çš„ä»£ä»·ã€‚çº¿ç¨‹æ± ä¸ä»…èƒ½å¤Ÿä¿è¯å†…æ ¸çš„å……åˆ†åˆ©ç”¨ï¼Œè¿˜èƒ½é˜²æ­¢è¿‡åˆ†è°ƒåº¦ã€‚å¯ç”¨çº¿ç¨‹æ•°é‡åº”è¯¥å–å†³äºŽå¯ç”¨çš„å¹¶å‘å¤„ç†å™¨ã€å¤„ç†å™¨å†…æ ¸ã€å†…å­˜ã€ç½‘ç»œsocketsç­‰çš„æ•°é‡ã€‚ä¾‹å¦‚ï¼Œçº¿ç¨‹æ•°ä¸€èˆ¬å–cpuæ•°é‡+2æ¯”è¾ƒåˆé€‚ï¼Œçº¿ç¨‹æ•°è¿‡å¤šä¼šå¯¼è‡´é¢å¤–çš„çº¿ç¨‹åˆ‡æ¢å¼€é”€ã€‚ å·¥ä½œæœºåˆ¶ åœ¨çº¿ç¨‹æ± çš„ç¼–ç¨‹æ¨¡å¼ä¸‹ï¼Œä»»åŠ¡æ˜¯æäº¤ç»™æ•´ä¸ªçº¿ç¨‹æ± ï¼Œè€Œä¸æ˜¯ç›´æŽ¥æäº¤ç»™æŸä¸ªçº¿ç¨‹ï¼Œçº¿ç¨‹æ± åœ¨æ‹¿åˆ°ä»»åŠ¡åŽï¼Œå°±åœ¨å†…éƒ¨å¯»æ‰¾æ˜¯å¦æœ‰ç©ºé—²çš„çº¿ç¨‹ï¼Œå¦‚æžœæœ‰ï¼Œåˆ™å°†ä»»åŠ¡äº¤ç»™æŸä¸ªç©ºé—²çš„çº¿ç¨‹ã€‚ä¸€ä¸ªçº¿ç¨‹åŒæ—¶åªèƒ½æ‰§è¡Œä¸€ä¸ªä»»åŠ¡ï¼Œä½†å¯ä»¥åŒæ—¶å‘ä¸€ä¸ªçº¿ç¨‹æ± æäº¤å¤šä¸ªä»»åŠ¡ã€‚ ä½¿ç”¨çº¿ç¨‹æ± çš„åŽŸå›  å¤šçº¿ç¨‹è¿è¡Œæ—¶é—´ï¼Œç³»ç»Ÿä¸æ–­çš„å¯åŠ¨å’Œå…³é—­æ–°çº¿ç¨‹ï¼Œæˆæœ¬éžå¸¸é«˜ï¼Œä¼šè¿‡æ¸¡æ¶ˆè€—ç³»ç»Ÿèµ„æºï¼Œä»¥åŠè¿‡æ¸¡åˆ‡æ¢çº¿ç¨‹çš„å±é™©ï¼Œä»Žè€Œå¯èƒ½å¯¼è‡´ç³»ç»Ÿèµ„æºçš„å´©æºƒã€‚è¿™æ—¶ï¼Œçº¿ç¨‹æ± å°±æ˜¯æœ€å¥½çš„é€‰æ‹©äº†ã€‚ å½“çº¿ç¨‹åˆ°è¾¾ä¸€å®šæ•°é‡ï¼Œç¨‹åºåè€Œå› çº¿ç¨‹åœ¨cpuåˆ‡æ¢å¼€é”€çš„åŽŸå› å¤„ç†æ•ˆçŽ‡é™ä½Žã€‚æ— è®ºçš„ä½ çš„æœåŠ¡å™¨cpuæ˜¯å¤šå°‘æ ¸å¿ƒï¼Œè¿™ä¸ªçŽ°è±¡éƒ½æœ‰å‘ç”Ÿçš„å¯èƒ½ã€‚ çº¿ç¨‹æ± 1234Executors.newCachedThreadPool()ï¼šæ— é™çº¿ç¨‹æ± Executors.newFixedThreadPool(nThreads)ï¼šåˆ›å»ºå›ºå®šå¤§å°çš„çº¿ç¨‹æ± Executors.newScheduledThreadPool(...)ï¼šå®šé•¿å‘¨æœŸæ€§æ‰§è¡Œçº¿ç¨‹æ± Executors.newSingleThreadExecutor()ï¼šåˆ›å»ºå•ä¸ªçº¿ç¨‹çš„çº¿ç¨‹æ± è‡ªå®šä¹‰çº¿ç¨‹æ±  newCachedThreadPoolå¯ç¼“å­˜çº¿ç¨‹æ± ï¼Œå…ˆæŸ¥çœ‹æ± ä¸­æœ‰æ²¡æœ‰ä»¥å‰å»ºç«‹çš„çº¿ç¨‹ï¼Œå¦‚æžœæœ‰ï¼Œå°±ç›´æŽ¥ä½¿ç”¨ã€‚å¦‚æžœæ²¡æœ‰ï¼Œå°±å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹åŠ å…¥æ± ä¸­ï¼Œç¼“å­˜åž‹æ± å­é€šå¸¸ç”¨äºŽæ‰§è¡Œä¸€äº›ç”Ÿå­˜æœŸå¾ˆçŸ­çš„å¼‚æ­¥åž‹ä»»åŠ¡.çº¿ç¨‹æ± ä¸ºæ— é™å¤§ï¼Œå½“æ‰§è¡Œå½“å‰ä»»åŠ¡æ—¶ä¸Šä¸€ä¸ªä»»åŠ¡å·²ç»å®Œæˆï¼Œä¼šå¤ç”¨æ‰§è¡Œä¸Šä¸€ä¸ªä»»åŠ¡çš„çº¿ç¨‹ï¼Œè€Œä¸ç”¨æ¯æ¬¡æ–°å»ºçº¿ç¨‹ 1234567891011121314151617181920public static void main(String[] args) &#123; // åˆ›å»ºä¸€ä¸ªå¯ç¼“å­˜çº¿ç¨‹æ±  // ExecutorServiceæ˜¯Javaæä¾›çš„ç”¨äºŽç®¡ç†çº¿ç¨‹æ± çš„ç±»ã€‚è¯¥ç±»çš„ä¸¤ä¸ªä½œç”¨ï¼šæŽ§åˆ¶çº¿ç¨‹æ•°é‡å’Œé‡ç”¨çº¿ç¨‹ ExecutorService cachedThreadPool = Executors.newCachedThreadPool(); for (int i = 0; i &lt; 10; i++) &#123; try &#123; //sleepå¯æ˜Žæ˜¾çœ‹åˆ°ä½¿ç”¨çš„æ˜¯çº¿ç¨‹æ± é‡Œé¢ä»¥å‰çš„çº¿ç¨‹ï¼Œæ²¡æœ‰åˆ›å»ºæ–°çš„çº¿ç¨‹ Thread.sleep(1000); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; cachedThreadPool.execute(new Runnable() &#123; public void run() &#123; //æ‰“å°æ­£åœ¨æ‰§è¡Œçš„ç¼“å­˜çº¿ç¨‹ä¿¡æ¯ System.out.println(Thread.currentThread().getName() + &quot;æ­£åœ¨è¢«æ‰§è¡Œ&quot;); &#125; &#125;); &#125; &#125; è¾“å‡º 12345pool-1-thread-1æ­£åœ¨è¢«æ‰§è¡Œpool-1-thread-1æ­£åœ¨è¢«æ‰§è¡Œpool-1-thread-1æ­£åœ¨è¢«æ‰§è¡Œpool-1-thread-1æ­£åœ¨è¢«æ‰§è¡Œ.... newFixedThreadPoolåˆ›å»ºä¸€ä¸ªå¯é‡ç”¨å›ºå®šä¸ªæ•°çš„çº¿ç¨‹æ± ï¼Œä»¥å…±äº«çš„æ— ç•Œé˜Ÿåˆ—æ–¹å¼æ¥è¿è¡Œè¿™äº›çº¿ç¨‹ã€‚ 1234567891011121314151617public static void main(String[] args) &#123; //åˆ›å»ºä¸€ä¸ªå¯é‡ç”¨å›ºå®šä¸ªæ•°çš„çº¿ç¨‹æ±  ExecutorService fixedThreadPool = Executors.newFixedThreadPool(3); for (int i = 0; i &lt; 10; i++) &#123; fixedThreadPool.execute(new Runnable() &#123; public void run() &#123; try &#123; //æ‰“å°æ­£åœ¨æ‰§è¡Œçš„ç¼“å­˜çº¿ç¨‹ä¿¡æ¯ System.out.println(Thread.currentThread().getName() + &quot;æ­£åœ¨è¢«æ‰§è¡Œ&quot;); Thread.sleep(2000); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; &#125;); &#125; &#125; è¾“å‡º-é¡ºåºä¸ä¸€å®šä¸€è‡´ 1234567pool-1-thread-3æ­£åœ¨è¢«æ‰§è¡Œpool-1-thread-1æ­£åœ¨è¢«æ‰§è¡Œpool-1-thread-2æ­£åœ¨è¢«æ‰§è¡Œpool-1-thread-1æ­£åœ¨è¢«æ‰§è¡Œpool-1-thread-3æ­£åœ¨è¢«æ‰§è¡Œpool-1-thread-2æ­£åœ¨è¢«æ‰§è¡Œ.... newScheduledThreadPoolåˆ›å»ºä¸€ä¸ªå®šé•¿çº¿ç¨‹æ± ï¼Œæ”¯æŒå®šæ—¶åŠå‘¨æœŸæ€§ä»»åŠ¡æ‰§è¡Œ 12345678910111213141516public static void main(String[] args) &#123; //åˆ›å»ºä¸€ä¸ªå®šé•¿çº¿ç¨‹æ± ï¼Œæ”¯æŒå®šæ—¶åŠå‘¨æœŸæ€§ä»»åŠ¡æ‰§è¡Œâ€”â€”å®šæœŸæ‰§è¡Œ ScheduledExecutorService scheduledThreadPool = Executors.newScheduledThreadPool(5); //å»¶è¿Ÿ1ç§’åŽæ¯3ç§’æ‰§è¡Œä¸€æ¬¡ /** * command â€“ the task to execute * initialDelay â€“ the time to delay first execution * period â€“ the period between successive executions * unit â€“ the time unit of the initialDelay and period parameters */ scheduledThreadPool.scheduleAtFixedRate(new Runnable() &#123; public void run() &#123; System.out.println(&quot;å»¶è¿Ÿ1ç§’åŽæ¯3ç§’æ‰§è¡Œä¸€æ¬¡&quot;); &#125; &#125;, 1, 3, TimeUnit.SECONDS); &#125; è¾“å‡º 123å»¶è¿Ÿ1ç§’åŽæ¯3ç§’æ‰§è¡Œä¸€æ¬¡å»¶è¿Ÿ1ç§’åŽæ¯3ç§’æ‰§è¡Œä¸€æ¬¡... newSingleThreadExecutor()åˆ›å»ºä¸€ä¸ªå•çº¿ç¨‹åŒ–çš„çº¿ç¨‹æ± ï¼Œå®ƒåªä¼šç”¨å”¯ä¸€çš„å·¥ä½œçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ï¼Œä¿è¯æ‰€æœ‰ä»»åŠ¡æŒ‰ç…§æŒ‡å®šé¡ºåºæ‰§è¡Œã€‚ 1234567891011121314151617public static void main(String[] args) &#123; //åˆ›å»ºä¸€ä¸ªå•çº¿ç¨‹åŒ–çš„çº¿ç¨‹æ±  ExecutorService singleThreadExecutor = Executors.newSingleThreadExecutor(); for (int i = 0; i &lt; 10; i++) &#123; final int index = i; singleThreadExecutor.execute(new Runnable() &#123; public void run() &#123; try &#123; //ç»“æžœä¾æ¬¡è¾“å‡ºï¼Œç›¸å½“äºŽé¡ºåºæ‰§è¡Œå„ä¸ªä»»åŠ¡ System.out.println(Thread.currentThread().getName() + &quot;æ­£åœ¨è¢«æ‰§è¡Œ,æ‰“å°çš„å€¼æ˜¯:&quot; + index); Thread.sleep(1000); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; &#125;); &#125; &#125; è¾“å‡º 12345pool-1-thread-1æ­£åœ¨è¢«æ‰§è¡Œ,æ‰“å°çš„å€¼æ˜¯:0pool-1-thread-1æ­£åœ¨è¢«æ‰§è¡Œ,æ‰“å°çš„å€¼æ˜¯:1pool-1-thread-1æ­£åœ¨è¢«æ‰§è¡Œ,æ‰“å°çš„å€¼æ˜¯:2pool-1-thread-1æ­£åœ¨è¢«æ‰§è¡Œ,æ‰“å°çš„å€¼æ˜¯:3..é¡ºåºæ‰§è¡Œ çº¿ç¨‹æ± çš„åˆ›å»º12345678910111213141516171819202122232425262728293031323334/** * Creates a new &#123;@code ThreadPoolExecutor&#125; with the given initial * parameters. * * @param corePoolSize the number of threads to keep in the pool, even * if they are idle, unless &#123;@code allowCoreThreadTimeOut&#125; is set * @param maximumPoolSize the maximum number of threads to allow in the * pool * @param keepAliveTime when the number of threads is greater than * the core, this is the maximum time that excess idle threads * will wait for new tasks before terminating. * @param unit the time unit for the &#123;@code keepAliveTime&#125; argument * @param workQueue the queue to use for holding tasks before they are * executed. This queue will hold only the &#123;@code Runnable&#125; * tasks submitted by the &#123;@code execute&#125; method. * @param threadFactory the factory to use when the executor * creates a new thread * @param handler the handler to use when execution is blocked * because the thread bounds and queue capacities are reached * @throws IllegalArgumentException if one of the following holds:&lt;br&gt; * &#123;@code corePoolSize &lt; 0&#125;&lt;br&gt; * &#123;@code keepAliveTime &lt; 0&#125;&lt;br&gt; * &#123;@code maximumPoolSize &lt;= 0&#125;&lt;br&gt; * &#123;@code maximumPoolSize &lt; corePoolSize&#125; * @throws NullPointerException if &#123;@code workQueue&#125; * or &#123;@code threadFactory&#125; or &#123;@code handler&#125; is null */ public ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue&lt;Runnable&gt; workQueue, ThreadFactory threadFactory, RejectedExecutionHandler handler) 1234567corePoolSize :çº¿ç¨‹æ± çš„æ ¸å¿ƒæ± å¤§å°ï¼Œåœ¨åˆ›å»ºçº¿ç¨‹æ± ä¹‹åŽï¼Œçº¿ç¨‹æ± é»˜è®¤æ²¡æœ‰ä»»ä½•çº¿ç¨‹ã€‚å½“æœ‰ä»»åŠ¡è¿‡æ¥çš„æ—¶å€™æ‰ä¼šåŽ»åˆ›å»ºåˆ›å»ºçº¿ç¨‹æ‰§è¡Œä»»åŠ¡ã€‚æ¢ä¸ªè¯´æ³•ï¼Œçº¿ç¨‹æ± åˆ›å»ºä¹‹åŽï¼Œçº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°ä¸º0ï¼Œå½“ä»»åŠ¡è¿‡æ¥å°±ä¼šåˆ›å»ºä¸€ä¸ªçº¿ç¨‹åŽ»æ‰§è¡Œï¼Œç›´åˆ°çº¿ç¨‹æ•°è¾¾åˆ°corePoolSize ä¹‹åŽï¼Œå°±ä¼šè¢«åˆ°è¾¾çš„ä»»åŠ¡æ”¾åœ¨é˜Ÿåˆ—ä¸­ã€‚ï¼ˆæ³¨æ„æ˜¯åˆ°è¾¾çš„ä»»åŠ¡ï¼‰ã€‚æ¢å¥æ›´ç²¾ç‚¼çš„è¯ï¼šcorePoolSize è¡¨ç¤ºå…è®¸çº¿ç¨‹æ± ä¸­å…è®¸åŒæ—¶è¿è¡Œçš„æœ€å¤§çº¿ç¨‹æ•°ã€‚å¦‚æžœæ‰§è¡Œäº†çº¿ç¨‹æ± çš„prestartAllCoreThreads()æ–¹æ³•ï¼Œçº¿ç¨‹æ± ä¼šæå‰åˆ›å»ºå¹¶å¯åŠ¨æ‰€æœ‰æ ¸å¿ƒçº¿ç¨‹ã€‚maximumPoolSize :çº¿ç¨‹æ± å…è®¸çš„æœ€å¤§çº¿ç¨‹æ•°ï¼Œä»–è¡¨ç¤ºæœ€å¤§èƒ½åˆ›å»ºå¤šå°‘ä¸ªçº¿ç¨‹ã€‚maximumPoolSizeè‚¯å®šæ˜¯å¤§äºŽç­‰äºŽcorePoolSizeã€‚keepAliveTime :è¡¨ç¤ºçº¿ç¨‹æ²¡æœ‰ä»»åŠ¡æ—¶æœ€å¤šä¿æŒå¤šä¹…ç„¶åŽåœæ­¢ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œåªæœ‰çº¿ç¨‹æ± ä¸­çº¿ç¨‹æ•°å¤§äºŽcorePoolSize æ—¶ï¼ŒkeepAliveTime æ‰ä¼šèµ·ä½œç”¨ã€‚æ¢å¥è¯è¯´ï¼Œå½“çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°å¤§äºŽcorePoolSizeï¼Œå¹¶ä¸”ä¸€ä¸ªçº¿ç¨‹ç©ºé—²æ—¶é—´è¾¾åˆ°äº†keepAliveTimeï¼Œé‚£ä¹ˆå°±æ˜¯shutdownã€‚Unit:keepAliveTime çš„å•ä½ã€‚workQueue ï¼šä¸€ä¸ªé˜»å¡žé˜Ÿåˆ—ï¼Œç”¨æ¥å­˜å‚¨ç­‰å¾…æ‰§è¡Œçš„ä»»åŠ¡ï¼Œå½“çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°è¶…è¿‡å®ƒçš„corePoolSizeçš„æ—¶å€™ï¼Œçº¿ç¨‹ä¼šè¿›å…¥é˜»å¡žé˜Ÿåˆ—è¿›è¡Œé˜»å¡žç­‰å¾…ã€‚é€šè¿‡workQueueï¼Œçº¿ç¨‹æ± å®žçŽ°äº†é˜»å¡žåŠŸèƒ½threadFactory ï¼šçº¿ç¨‹å·¥åŽ‚ï¼Œç”¨æ¥åˆ›å»ºçº¿ç¨‹ã€‚handler :è¡¨ç¤ºå½“æ‹’ç»å¤„ç†ä»»åŠ¡æ—¶çš„ç­–ç•¥ã€‚]]></content>
      <categories>
        <category>JAVA</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŠ¨æ€ä»£ç†]]></title>
    <url>%2F2018%2F06%2F03%2F%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%2F</url>
    <content type="text"><![CDATA[åŠ¨æ€ä»£ç†æ¦‚è¿°åŠ¨æ€ä»£ç†çš„æ„ä¹‰åœ¨äºŽç”Ÿæˆä¸€ä¸ªå ä½ï¼ˆåˆç§°ä»£ç†å¯¹è±¡ï¼‰ï¼Œæ¥ä»£ç†çœŸå®žå¯¹è±¡ï¼Œä»Žè€ŒæŽ§åˆ¶çœŸå®žå¯¹è±¡çš„è®¿é—®ã€‚ åœºæ™¯ï¼šå‡å¦‚ä½ æ˜¯ä¸€å®¶è½¯ä»¶å…¬å¸çš„è½¯ä»¶å·¥ç¨‹å¸ˆï¼Œå®¢æˆ·å¸¦ç€éœ€æ±‚åŽ»æ‰¾å…¬å¸æ˜¾ç„¶ä¸ä¼šç›´æŽ¥å’Œä½ è°ˆï¼Œè€Œæ˜¯åŽ»æ‰¾å•†åŠ¡è°ˆï¼Œæ­¤æ—¶å®¢æˆ·ä¼šè®¤ä¸ºå•†åŠ¡ä»£è¡¨å…¬å¸ã€‚ å®¢æˆ·é€šè¿‡å•†åŠ¡åŽ»è®¿é—®è½¯ä»¶å·¥ç¨‹å¸ˆï¼Œé‚£ä¹ˆå•†åŠ¡å¯¹è±¡çš„æ„ä¹‰åœ¨ä»€ä¹ˆåœ°æ–¹å‘¢ï¼Ÿ å®¢æˆ·å¯ä»¥è¿›è¡Œè°ˆåˆ¤ï¼Œå¦‚é¡¹ç›®å¯åŠ¨å‰çš„å•†åŠ¡è°ˆåˆ¤ï¼Œè½¯ä»¶çš„ä»·æ ¼ï¼Œäº¤ä»˜ï¼Œè¿›åº¦çš„æ—¶é—´èŠ‚ç‚¹ç­‰ï¼Œæˆ–è€…é¡¹ç›®å®ŒæˆåŽçš„å•†åŠ¡è¿½è®¨ï¼Œåº”æ”¶è´¦æ¬¾ç­‰ã€‚å•†åŠ¡ä¹Ÿæœ‰å¯èƒ½åœ¨å¼€å‘ä¹‹å‰è°ˆåˆ¤å¤±è´¥ï¼Œæ­¤æ—¶å•†åŠ¡å°±ä¼šæ ¹æ®å…¬å¸è§„åˆ™åŽ»ç»“æŸå’Œå®¢æˆ·ä¹‹é—´çš„åˆä½œå…³ç³»ï¼Œè¿™äº›éƒ½ä¸ç”¨è½¯ä»¶å·¥ç¨‹å¸ˆæ¥å¤„ç†ã€‚ å› æ­¤ï¼Œä»£ç†çš„ä½œç”¨å°±æ˜¯ï¼Œåœ¨çœŸå®žå¯¹è±¡è®¿é—®ä¹‹å‰æˆ–è€…ä¹‹åŽåŠ å…¥å¯¹åº”çš„é€»è¾‘ï¼Œæˆ–è€…æ ¹æ®å…¶ä»–è§„åˆ™æŽ§åˆ¶æ˜¯å¦ä½¿ç”¨çœŸå®žå¯¹è±¡ï¼Œæ­£å¦‚ä¸Šä¾‹ä¸­å•†åŠ¡æŽ§åˆ¶äº†å®¢æˆ·å¯¹è½¯ä»¶å·¥ç¨‹å¸ˆçš„è®¿é—®ã€‚ ç»è¿‡ä¸Šé¢çš„è®ºè¿°ï¼Œæˆ‘ä»¬çŸ¥é“å•†åŠ¡å’Œè½¯ä»¶å·¥ç¨‹å¸ˆæ˜¯ä»£ç†å’Œè¢«ä»£ç†çš„å…³ç³»ï¼Œå®¢æˆ·æ˜¯ç»è¿‡å•†åŠ¡åŽ»è®¿é—®è½¯ä»¶å·¥ç¨‹å¸ˆçš„ã€‚æ­¤æ—¶å®¢æˆ·å°±æ˜¯ç¨‹åºä¸­çš„è°ƒç”¨è€…ï¼Œå•†åŠ¡å°±æ˜¯ä»£ç†å¯¹è±¡ï¼Œè½¯ä»¶å·¥ç¨‹å¸ˆå°±æ˜¯çœŸå®žå¯¹è±¡ã€‚ æˆ‘ä»¬éœ€è¦è°ƒç”¨è€…è°ƒç”¨çœŸå®žå¯¹è±¡ä¹‹å‰äº§ç”Ÿä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œè€Œè¿™ä¸ªä»£ç†å¯¹è±¡éœ€è¦å’ŒçœŸå®žå¯¹è±¡å»ºç«‹ä»£ç†å…³ç³»ï¼Œæ‰€ä»¥ä»£ç†å¿…é¡»åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ ä»£ç†å¯¹è±¡å’ŒçœŸå®žå¯¹è±¡å»ºç«‹ä»£ç†å…³ç³» å®žçŽ°ä»£ç†å¯¹è±¡çš„ä»£ç†é€»è¾‘æ–¹æ³• Javaä¸­æœ‰å¤šç§åŠ¨æ€ä»£ç†æŠ€æœ¯ï¼Œå¦‚JDKï¼ŒCGLIBï¼ŒJavassistï¼ŒASMã€‚å¸¸ç”¨çš„æœ‰ä¸¤ç§ï¼Œä¸€æ˜¯JDKåŠ¨æ€ä»£ç†ï¼ŒJDKè‡ªå¸¦çš„åŠŸèƒ½ï¼ŒäºŒæ˜¯CGLIBï¼Œç¬¬ä¸‰æ–¹æä¾›çš„æŠ€æœ¯ï¼ˆéœ€è¦jaråŒ…ï¼‰ã€‚Springå¸¸ç”¨JDKå’ŒCGLIBï¼Œè€Œmybatisè¿˜æ˜¯ç”¨äº†Javassistï¼Œæ— è®ºå“ªç§ä»£ç†æŠ€æœ¯ï¼Œç†å¿µéƒ½æ˜¯ç›¸ä¼¼çš„ã€‚ JDK åŠ¨æ€ä»£ç†Javaçš„java.lang.reflectåŒ…ä¸‹æä¾›äº†ä¸€ä¸ªProxyç±»å’Œä¸€ä¸ªInvocationHandleræŽ¥å£ï¼Œé€šè¿‡ä½¿ç”¨è¿™ä¸ªç±»ä¸ŽæŽ¥å£ï¼Œå¯ä»¥ç”ŸæˆJDKåŠ¨æ€ä»£ç†ç±»æˆ–åŠ¨æ€ä»£ç†å¯¹è±¡ å®žçŽ°æ­¥éª¤ 1.å…ˆå»ºç«‹çœŸå®žå¯¹è±¡(è¢«ä»£ç†å¯¹è±¡)ï¼Œç„¶åŽå®žçŽ°ä»£ç†é€»è¾‘ã€‚ 12345678910public interface IHelloWorld &#123; public void sayHello();&#125;public class HelloWorldImpl implements IHelloWorld&#123; @Override public void sayHello() &#123; System.out.println(HelloWorldImpl.class.getSimpleName() + &quot;: sayHello&quot;);&#125;&#125; 2.JDKåŠ¨æ€ä»£ç†ä¸­è¦å®žçŽ°ä»£ç†é€»è¾‘ç±»ï¼Œå¿…é¡»å®žçŽ°æŽ¥å£java.lang.reflect.InvocationHandlerï¼Œå…¶ä¸­å®šä¹‰äº†ä¸€ä¸ªinvokeæ–¹æ³•ï¼Œç”¨äºŽä»£ç†æ–¹æ³•é€»è¾‘çš„å®žçŽ°ã€‚ 12345678910111213141516171819202122232425262728293031import java.lang.reflect.InvocationHandler;import java.lang.reflect.Method;import java.lang.reflect.Proxy;public class JdkProxyExample implements InvocationHandler &#123;/** * çœŸå®žå¯¹è±¡ */private Object target;// è½¯ä»¶å·¥ç¨‹å¸ˆå¯¹è±¡/** * å»ºç«‹çœŸå®žå¯¹è±¡å’Œä»£ç†å¯¹è±¡çš„å…³ç³» * å»ºç«‹å•†åŠ¡å’Œè½¯ä»¶å·¥ç¨‹å¸ˆçš„å…³ç³» * @param target * @return ä»£ç†å¯¹è±¡ -ã€‹å•†åŠ¡å¯¹è±¡ */public Object bind(Object target) &#123; this.target = target; // target.getClass().getInterfaces()è¡¨ç¤ºç”Ÿæˆçš„ä»£ç†å¯¹è±¡ä¸‹æŒ‚åœ¨é‚£äº›æŽ¥å£ä¸‹ return Proxy.newProxyInstance(target.getClass().getClassLoader(), target.getClass().getInterfaces(), this);&#125;// proxy å°±æ˜¯bindæ–¹æ³•ç”Ÿæˆçš„å¯¹è±¡@Overridepublic Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123; System.out.println(&quot;å‰&quot;); Object obj = method.invoke(target, args);// çœŸå®žå¯¹è±¡æ–¹æ³•è°ƒç”¨ï¼Œå•†åŠ¡é€»è¾‘æŽ§åˆ¶è½¯ä»¶å·¥ç¨‹å¸ˆçš„è®¿é—® System.out.println(&quot;åŽ&quot;); return obj;&#125;&#125; 3.ä¸»ç±»è¿è¡Œ 12345678910public static void main(String[] args) &#123; JdkProxyExample jpe = new JdkProxyExample(); // è¢«ä»£ç†å¯¹è±¡-çœŸå®žå¯¹è±¡ ç¨‹åºå‘˜ HelloWorldImpl hwi = new HelloWorldImpl(); // ç»‘å®šå…³ç³»ï¼Œå­˜åœ¨ä¸‹æŒ‚æŽ¥å£IHelloWorld // ä»£ç†å¯¹è±¡- å•†åŠ¡å¯¹è±¡ IHelloWorld proxy = (IHelloWorld) jpe.bind(hwi); // é€šè¿‡ä»£ç†å¯¹è±¡è°ƒç”¨ï¼Œè¿›å…¥ä»£ç†é€»è¾‘æ–¹æ³•invokeä¸­ proxy.sayHello();&#125; åŠ¨æ€ä»£ç†è®¾è®¡ç”±äºŽåŠ¨æ€ä»£ç†ä¸€èˆ¬éƒ½æ¯”è¾ƒéš¾ç†è§£ï¼Œç¨‹åºè®¾è®¡è€…ä¼šè®¾è®¡ä¸€ä¸ªæ‹¦æˆªå™¨æŽ¥å£ä¾›å¼€å‘è€…ä½¿ç”¨ï¼Œå¼€å‘è€…åªéœ€è¦çŸ¥é“æ‹¦æˆªå™¨æŽ¥å£çš„æ–¹æ³•ã€å«ä¹‰å’Œä½œç”¨å³å¯ï¼Œæ— éœ€çŸ¥é“åŠ¨æ€ä»£ç†æ˜¯æ€Žä¹ˆå®žçŽ°ã€‚ JDKåŠ¨æ€ä»£ç†æ¥å®žçŽ°ä¸€ä¸ªæ‹¦æˆªå™¨çš„æ­¥éª¤å¦‚ä¸‹ï¼š 1ã€å®šä¹‰æ‹¦æˆªå™¨æŽ¥å£ 1234Before åœ¨æ–¹æ³•è¢«è°ƒç”¨ä¹‹å‰è°ƒç”¨é€šçŸ¥After åœ¨æ–¹æ³•å®Œæˆä¹‹åŽè°ƒç”¨é€šçŸ¥ï¼Œæ— è®ºæ–¹æ³•æ‰§è¡Œæ˜¯å¦æˆåŠŸAfter-returning åœ¨æ–¹æ³•æˆåŠŸæ‰§è¡Œä¹‹åŽè°ƒç”¨é€šçŸ¥After-throwing åœ¨æ–¹æ³•æŠ›å‡ºå¼‚å¸¸åŽè°ƒç”¨é€šçŸ¥ 2.å®šä¹‰æŽ¥å£ 1234567891011public interface IInterceptor &#123;/** * @param proxy ä»£ç†å¯¹è±¡ * @param target çœŸå®žå¯¹è±¡ * @param method æ–¹æ³• * @param args è¿è¡Œæ–¹æ³•å‚æ•°*/ public boolean before(Object proxy, Object target, Method method,Object[] args); public void around(Object proxy, Object target, Method method,Object[] args); public void after(Object proxy, Object target, Method method,Object[] args);&#125; 3.å®šä¹‰æŽ¥å£å®žçŽ°ç±» 123456789101112131415public class MyInterceptor implements IInterceptor&#123;@Overridepublic boolean before(Object proxy, Object target, Method method, Object[] args) &#123; System.out.println(&quot;åå°„æ–¹æ³•å‰é€»è¾‘&quot;); return false;&#125;@Overridepublic void around(Object proxy, Object target, Method method, Object[] args) &#123; System.out.println(&quot;å–ä»£äº†è¢«ä»£ç†å¯¹è±¡çš„æ–¹æ³•&quot;);&#125;@Overridepublic void after(Object proxy, Object target, Method method, Object[] args) &#123; System.out.println(&quot;åå°„æ–¹æ³•åŽé€»è¾‘&quot;);&#125;&#125; 4.å»ºç«‹JDKåŠ¨æ€ä»£ç†ç±» 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950public class JdkProxyInterceptor implements InvocationHandler &#123; // çœŸå®žå¯¹è±¡ private Object target; // æ‹¦æˆªå™¨å…¨é™å®šå private String interceptorClass = null;public JdkProxyInterceptor(Object target, String interceptorClass) &#123; this.target = target; this.interceptorClass = interceptorClass;&#125;/** * ç»‘å®šå§”æ‰˜å¯¹è±¡å¹¶è¿”å›žä¸€ä¸ªï¼ˆä»£ç†å ä½ï¼‰ * @param target çœŸå®žå¯¹è±¡ * @param interceptorClass ä»£ç†å¯¹è±¡ï¼ˆå ä½ï¼‰ * @return */public static Object bind(Object target, String interceptorClass)&#123;// å–å¾—ä»£ç†å¯¹è±¡ return Proxy.newProxyInstance(target.getClass().getClassLoader(), target.getClass().getInterfaces(), this);&#125;// new JdkProxyInterceptor(target, interceptorClass)/** * */@Overridepublic Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123; if (null == interceptorClass) &#123; // æ²¡æœ‰è®¾ç½®æ‹¦æˆªå™¨åˆ™ç›´æŽ¥åå°„åŽŸæœ‰æ–¹æ³• return method.invoke(target, args); &#125; Object result = null; // é€šè¿‡åå°„ç”Ÿæˆæ‹¦æˆªå™¨ IInterceptor interceptor = (IInterceptor) Class.forName(interceptorClass).newInstance(); // è°ƒç”¨å‰ç½®æ–¹æ³• if(interceptor.before(proxy, args, method, args)) &#123; // åå°„åŽŸæœ‰å¯¹è±¡æ–¹æ³• result = method.invoke(target, args); &#125; else &#123;// è¿”å›žfalseæ‰§è¡Œaroundæ–¹æ³• interceptor.around(proxy, args, method, args); &#125; // è°ƒç”¨åŽç½®æ–¹æ³• interceptor.after(proxy, args, method, args); return result; &#125;&#125; 5.mainæ³•è°ƒç”¨ 12 ç»¼ä¸Šå¯çŸ¥ï¼š å¼€å‘è€…åªè¦çŸ¥é“æ‹¦æˆªå™¨çš„ä½œç”¨å°±å¯ä»¥ç¼–å†™æ‹¦æˆªå™¨äº†ï¼Œç¼–å†™å®ŒåŽå¯ä»¥è®¾ç½®æ‹¦æˆªå™¨ï¼Œè¿™æ ·å°±å®Œæˆäº†ä»»åŠ¡ï¼Œæ‰€ä»¥å¯¹äºŽå¼€å‘è€…è€Œè¨€ç›¸å¯¹ç®€å•äº† è®¾è®¡è€…å¯èƒ½æ˜¯ç²¾é€šJavaçš„å¼€å‘äººå‘˜ï¼Œä»–æ¥å®ŒæˆåŠ¨æ€ä»£ç†çš„é€»è¾‘ è®¾è®¡è€…åªä¼šæŠŠæ‹¦æˆªå™¨æŽ¥å£æš´éœ²ç»™å¼€å‘è€…ä½¿ç”¨ï¼Œè®©åŠ¨æ€ä»£ç†çš„é€»è¾‘åœ¨å¼€å‘è€…çš„è§†é‡Žä¸­â€œæ¶ˆå¤±â€]]></content>
      <categories>
        <category>JAVA</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Junit]]></title>
    <url>%2F2018%2F05%2F23%2FJunit%2F</url>
    <content type="text"><![CDATA[å•å…ƒæµ‹è¯•å•å…ƒæµ‹è¯•æ˜¯ç¼–å†™æµ‹è¯•ä»£ç ï¼Œåº”è¯¥å‡†ç¡®ã€å¿«é€Ÿåœ°ä¿è¯ç¨‹åºåŸºæœ¬æ¨¡å—çš„æ­£ç¡®æ€§ã€‚å¼ºè°ƒå»ºç«‹æµ‹è¯•æ•°æ®çš„ä¸€æ®µä»£ç ï¼Œå¯ä»¥å…ˆæµ‹è¯•ï¼Œç„¶åŽå†åº”ç”¨ã€‚è¿™ä¸ªæ–¹æ³•å°±å¥½æ¯”â€œæµ‹è¯•ä¸€ç‚¹ï¼Œç¼–ç ä¸€ç‚¹ï¼Œæµ‹è¯•ä¸€ç‚¹ï¼Œç¼–ç ä¸€ç‚¹â€¦â€¦â€ï¼Œå¢žåŠ äº†ç¨‹åºå‘˜çš„äº§é‡å’Œç¨‹åºçš„ç¨³å®šæ€§ï¼Œå¯ä»¥å‡å°‘ç¨‹åºå‘˜çš„åŽ‹åŠ›å’ŒèŠ±è´¹åœ¨æŽ’é”™ä¸Šçš„æ—¶é—´ã€‚ åœ¨IDEAä¸­å®‰è£…å•å…ƒæµ‹è¯•æ’ä»¶ï¼š 1File-&gt;Settings-&gt;Plugins(å·¦ä¾§èœå•)-&gt;JUnitGenerator 2.0(è¾“å…¥æ¡†ä¸­)-&gt;Restart é…ç½®æ’ä»¶ Settings-&gt;Other Settings-&gt;JUnit Generator(ç‚¹å‡»å·¦ä¾§)â€“&gt;Propertiesâ€“&gt;ä¿®æ”¹Output Pathä¸º${SOURCEPATH}/test/java/${PACKAGE}/${FILENAME} â€“&gt;ä¿®æ”¹Default Templateä¸ºJUnit4 â€“&gt;ç‚¹å‡»JUnit4é¡µç­¾ â€“&gt;å°†package test.$entry.packageName;ä¿®æ”¹æˆpackage $entry.packageName; â€“&gt;ç‚¹å‡»OK[ç¡®å®š]ä¿å­˜å¹¶é€€å‡ºè®¾ç½® åˆ›å»ºå¹¶é…ç½®æµ‹è¯•ç›®å½• åˆ›å»ºä¸€ä¸ªå’ŒsrcåŒçº§åˆ«çš„æ–‡ä»¶å¤¹å«test(é€»è¾‘ä»£ç æ”¾srcé‡Œï¼Œæµ‹è¯•ä»£ç æ”¾testé‡Œï¼Œé¡¹ç›®-å³å‡»-New-&gt;Directory-&gt;test)ã€‚æŽ¥ç€åœ¨IntelliJ IDEAé‡Œè¿˜è¦æŠŠè¿™ä¸ªtestæ–‡ä»¶å¤¹è¦è®¾ç½®æˆæµ‹è¯•æ–‡ä»¶çš„æ ¹ç›®å½•ï¼Œtestä¸Šå³å‡»Mark Directory As - Test Sources Rootã€‚ åˆ›å»ºæµ‹è¯•ç±» è¿›å…¥éœ€è¦è¿›è¡Œå•å…ƒæµ‹è¯•çš„ç±»ï¼Œé€šè¿‡Cmd + Shift + Tåˆ›å»ºæµ‹è¯•ç±»ï¼Œå‹¾é€‰éœ€è¦æµ‹è¯•çš„æ–¹æ³•ï¼Œç‚¹å‡»ç¡®è®¤ã€‚Create New Test 1234567891011public class MathTest &#123; public int testAdd(int x, int y)&#123; System.out.println(x + y); return x + y; &#125; public int testSub(int x, int y)&#123; System.out.println(x - y); return x - y; &#125;&#125; è‹¥æ˜¾ç¤ºå¦‚ä¸Šlibrary not foundçš„é—®é¢˜ï¼Œè¯·å‚ç…§å¦‚ä¸‹é—®é¢˜è§£å†³ é—®é¢˜ java: ç¨‹åºåŒ…org.junitä¸å­˜åœ¨ File -&gt; Project Structâ€¦ -&gt; Libraies -&gt; ç‚¹å‡»ç»¿è‰²çš„åŠ å· -&gt; Java -&gt; æ‰¾åˆ° IDEA å®‰è£…è·¯å¾„ä¸‹çš„ Lib ä¸­çš„junit-4.12 -&gt; ç¡®å®šå®Œå°±è¡Œäº† å¦‚ä¸Šä¸€æ¬¡æ·»åŠ å¦‚ä¸‹ç±»åº“ï¼š 1234567891011121314151617public class MathTestTest &#123; @Before public void setUp() throws Exception &#123; System.out.println(11); &#125; @After public void tearDown() throws Exception &#123; &#125; @Test public void testAdd() &#123; assertEquals(30,new MathTest().testAdd(10,20)); &#125; @Test public void testSub() &#123; new MathTest().testSub(10,20); &#125;&#125; è¯­æ³• @BeforeClass å…¨å±€åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œè€Œä¸”æ˜¯ç¬¬ä¸€ä¸ªè¿è¡Œ @Before åœ¨æµ‹è¯•æ–¹æ³•è¿è¡Œä¹‹å‰è¿è¡Œ @Test æµ‹è¯•æ–¹æ³• @After åœ¨æµ‹è¯•æ–¹æ³•è¿è¡Œä¹‹åŽå…è®¸ @AfterClass å…¨å±€åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œè€Œä¸”æ˜¯æœ€åŽä¸€ä¸ªè¿è¡Œ 1234567891011121314151617181920212223242526272829public class MathTestTest &#123; @Before public void setUp() throws Exception &#123; System.out.println(&quot;setUp&quot;); &#125; @After public void tearDown() throws Exception &#123; System.out.println(&quot;tearDown&quot;); &#125; @Test public void testAdd() &#123; System.out.println(&quot;add&quot;); &#125; @Test public void testSub() &#123; System.out.println(&quot;sub&quot;); &#125; @BeforeClass public static void beforeOne()&#123; System.out.println(&quot;beforeOne&quot;); &#125; @AfterClass public static void afterOne()&#123; System.out.println(&quot;afterOne&quot;); &#125;&#125; è¾“å‡º 12345678beforeOnesetUpaddtearDownsetUpsubtearDownafterOne]]></content>
      <categories>
        <category>JAVA</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å­˜å‚¨åŒºåŸŸ]]></title>
    <url>%2F2018%2F05%2F18%2F%E5%AD%98%E5%82%A8%E5%8C%BA%E5%9F%9F%2F</url>
    <content type="text"><![CDATA[Javaç¨‹åºç”±JVMæ‰§è¡Œï¼Œæ‰€ä»¥å…¶å†…å­˜åŒºåŸŸåˆ’åˆ†çš„æ—¶å€™å°±æ˜¯æŒ‡JVMåŒºåŸŸåˆ’åˆ†ã€‚ Javaæºç æ–‡ä»¶(.java)ç¼–è¯‘ç”Ÿæˆå­—èŠ‚ç æ–‡ä»¶ï¼ˆ.classï¼‰ï¼Œç„¶åŽç”±JVMä¸­çš„ç±»åŠ è½½å™¨åŠ è½½å„ä¸ªç±»çš„å­—èŠ‚ç æ–‡ä»¶ï¼ŒåŠ è½½å®Œæ¯•ä¹‹åŽï¼Œäº¤ç”±JVMæ‰§è¡Œå¼•æ“Žæ‰§è¡Œã€‚æ•´ä¸ªç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­ï¼ŒJVMä¼šç”¨ä¸€æ®µç©ºé—´æ¥å­˜å‚¨ç¨‹åºæ‰§è¡ŒæœŸé—´éœ€è¦ç”¨åˆ°çš„æ•°æ®å’Œç›¸å…³ä¿¡æ¯ï¼Œè¿™æ®µç©ºé—´ä¸€èˆ¬è¢«ç§°ä½œRuntime Data Areaï¼ˆè¿è¡Œæ—¶æ•°æ®åŒºï¼‰ï¼Œä¹Ÿå°±æ˜¯JVMå†…å­˜ã€‚å› æ­¤ï¼Œåœ¨Javaä¸­è¯´åˆ°çš„å†…å­˜ç®¡ç†å°±æ˜¯é’ˆå¯¹è¿™æ®µç©ºé—´è¿›è¡Œç®¡ç†ã€‚ å­˜å‚¨åŒºåŸŸå¯„å­˜å™¨æœ€å¿«çš„å­˜å‚¨åŒºï¼Œä¿å­˜çš„æ˜¯ç¨‹åºå½“å‰æ‰§è¡Œçš„æŒ‡ä»¤åœ°å€ï¼Œæ‰§è¡Œç»“æŸåŽï¼Œè‡ªåŠ¨èŽ·å–ä¸‹ä¸€å¤©æŒ‡ä»¤ï¼Œä½äºŽCPUå¤„ç†å™¨å†…éƒ¨ã€‚æ•°é‡æžå…¶æœ‰é™ï¼Œç”±ç¼–è¯‘å™¨æ ¹æ®éœ€æ±‚è¿›è¡Œåˆ†é…ã€‚javaä¸­ï¼Œä¸èƒ½ç›´æŽ¥æŽ§åˆ¶ï¼Œä¹Ÿä¸èƒ½åœ¨ç¨‹åºä¸­æ„Ÿè§‰åˆ°å¯„å­˜å™¨å­˜åœ¨çš„ä»»ä½•è¿¹è±¡ã€‚ äº†è§£ï¼šCPU 1.80GHzï¼ˆHzæ˜¯å•ä½ï¼‰å³CPUè¿ç®—æ—¶çš„å·¥ä½œé¢‘çŽ‡ï¼ˆ1ç§’å†…å‘ç”Ÿçš„åŒæ­¥è„‰å†²æ•°ï¼‰çš„ç®€ç§°ã€‚ä»Žç†è®ºä¸Šè®²CPUçš„ä¸»é¢‘è¶Šé«˜ï¼Œå®ƒçš„é€Ÿåº¦ä¹Ÿå°±è¶Šå¿«ï¼Œå› ä¸ºé¢‘çŽ‡è¶Šé«˜ï¼Œå•ä½æ—¶é’Ÿå‘¨æœŸå†…å®Œæˆçš„æŒ‡ä»¤å°±è¶Šå¤šï¼Œä»Žè€Œé€Ÿåº¦ä¹Ÿå°±è¶Šå¿«äº†. æ ˆå­˜æ”¾åŸºæœ¬ç±»åž‹çš„å˜é‡æ•°æ®å’Œå¯¹è±¡çš„å¼•ç”¨ã€‚é€Ÿåº¦ä»…æ¬¡äºŽå¯„å­˜å™¨ã€‚åˆ›å»ºç¨‹åºæ—¶å€™ï¼ŒJAVAç¼–è¯‘å™¨å¿…é¡»çŸ¥é“å­˜å‚¨åœ¨æ ˆå†…æ‰€æœ‰æ•°æ®çš„ç¡®åˆ‡å¤§å°å’Œç”Ÿå‘½å‘¨æœŸã€‚å½“çº¿ç¨‹æ‰§è¡Œä¸€ä¸ªæ–¹æ³•æ—¶ï¼Œå°±ä¼šéšä¹‹åˆ›å»ºä¸€ä¸ªå¯¹åº”çš„æ ˆå¸§ï¼Œå³æ¯ä¸ªæ–¹æ³•åœ¨æ‰§è¡Œçš„åŒæ—¶éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ ˆå¸§ï¼Œå¹¶å°†å»ºç«‹çš„æ ˆå¸§åŽ‹æ ˆã€‚å½“æ–¹æ³•æ‰§è¡Œå®Œæ¯•ä¹‹åŽï¼Œä¾¿ä¼šå°†æ ˆå¸§å‡ºæ ˆã€‚æ ˆå¸§ï¼šå±€éƒ¨å˜é‡è¡¨ï¼Œæ–¹æ³•è¿”å›žåœ°å€ç­‰ å †ç”¨æ¥å­˜å‚¨æ‰€æœ‰newå‡ºæ¥çš„å¯¹è±¡ã€‚å…³äºŽç©ºé—´é‡Šæ”¾ï¼ŒJavaçš„åžƒåœ¾å›žæ”¶æœºåˆ¶ä¼šè‡ªåŠ¨è¿›è¡Œå¤„ç†ï¼Œå› æ­¤è¿™éƒ¨åˆ†ç©ºé—´ä¹Ÿæ˜¯Javaåžƒåœ¾æ”¶é›†å™¨ç®¡ç†çš„ä¸»è¦åŒºåŸŸã€‚åœ¨å †é‡Œåˆ†é…å­˜å‚¨æœ‰å¾ˆå¤§çš„çµæ´»æ€§ã€‚å½“ä½ éœ€è¦åˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œåªéœ€è¦newï¼Œä¸€è¡Œç®€å•çš„ä»£ç ï¼Œå½“æ‰§è¡Œè¿™è¡Œä»£ç æ—¶ï¼Œä¼šè‡ªåŠ¨åœ¨å †é‡Œè¿›è¡Œå­˜å‚¨åˆ†é…ã€‚å½“ç„¶ï¼Œä¸ºè¿™ç§çµæ´»æ€§å¿…é¡»è¦ä»˜å‡ºç›¸åº”çš„ä»£ä»·ã€‚ç”¨å †è¿›è¡Œå­˜å‚¨åˆ†é…æ¯”ç”¨æ ˆè¿›è¡Œå­˜å‚¨éœ€è¦æ›´å¤šçš„æ—¶é—´ã€‚å¦å¤–å †æ˜¯è¢«æ‰€æœ‰çº¿ç¨‹æ± å…±äº«çš„ï¼Œåœ¨JVMä¸­åªæœ‰ä¸€ä¸ªå †ã€‚å½“ç”³è¯·ä¸åˆ°ç©ºé—´æ—¶ä¼šæŠ›å‡º OutOfMemoryErrorï¼ˆå†…å­˜æº¢å‡ºï¼‰ï¼Œå¯ä½¿ç”¨æ— é™å¾ªçŽ¯ä¸æ–­æ–°å»ºå¯¹è±¡ï¼Œæ·»åŠ åˆ°é›†åˆä¸­ï¼Œæœ€ç»ˆä¼šå¯¼è‡´å†…å­˜æº¢å‡º. æ‹“å±•ï¼šå†…å­˜æ³„æ¼ä¸»è¦æ˜¯ä¸€ä¸ªå¯¹è±¡å·²ç»ä¸å†éœ€è¦ä½¿ç”¨ï¼Œä½†å´è¢«å¦ä¸€ä¸ªå¯¹è±¡æŒæœ‰æ—¶ï¼Œå°±æœ‰å¯èƒ½å‘ç”Ÿå†…å­˜æ³„æ¼ã€‚æ¯”å¦‚åœ¨æ–¹æ³•å†…ä¸€ä¸ªå¯¹è±¡è¢«å…¨å±€çš„HashMapæŒæœ‰ï¼Œæ–¹æ³•æ‰§è¡Œç»“æŸæ²¡æœ‰é‡Šæ”¾å°±ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ã€‚ æ³¨æ„ï¼šåœ¨JDK1.6ä¹‹å‰ï¼Œå­—ç¬¦ä¸²å¸¸é‡æ± ä¸€ç›´æ”¾åœ¨æ–¹æ³•åŒºä¸­ï¼Œä½†æ˜¯åˆ°jdk1.7çš„æ—¶å€™ï¼Œå¸¸é‡æ± ä¾¿è¢«ç§»å‡ºæ–¹æ³•åŒºï¼Œè½¬åˆ°Javaå †ä¸­äº† æ ˆä¸Žå †çš„æ¯”è¾ƒ æ ˆ(stack)ä¸Žå †(heap)éƒ½æ˜¯Javaç”¨æ¥åœ¨Ramï¼ˆrandom-access memoryï¼‰ä¸­å­˜æ”¾æ•°æ®çš„åœ°æ–¹ã€‚ æ ˆçš„ä¼˜åŠ¿æ˜¯ï¼Œå­˜å–é€Ÿåº¦æ¯”å †è¦å¿«ï¼Œä»…æ¬¡äºŽç›´æŽ¥ä½äºŽCPUä¸­çš„å¯„å­˜å™¨ã€‚ä½†ç¼ºç‚¹æ˜¯ï¼Œå­˜åœ¨æ ˆä¸­çš„æ•°æ®å¤§å°ä¸Žç”Ÿå­˜æœŸå¿…é¡»æ˜¯ç¡®å®šçš„ï¼Œç¼ºä¹çµæ´»æ€§ã€‚å †çš„ä¼˜åŠ¿æ˜¯å¯ä»¥åŠ¨æ€åœ°åˆ†é…å†…å­˜å¤§å°ï¼Œç”Ÿå­˜æœŸä¹Ÿä¸å¿…äº‹å…ˆå‘Šè¯‰ç¼–è¯‘å™¨ï¼ŒJavaçš„åžƒåœ¾æ”¶é›†å™¨ä¼šè‡ªåŠ¨æ”¶èµ°è¿™äº›ä¸å†ä½¿ç”¨çš„æ•°æ®ã€‚ä½†ç¼ºç‚¹æ˜¯ï¼Œç”±äºŽè¦åœ¨è¿è¡Œæ—¶åŠ¨æ€åˆ†é…å†…å­˜ï¼Œå­˜å–é€Ÿåº¦è¾ƒæ…¢ ã€‚ æ–¹æ³•åŒº/é™æ€å­˜å‚¨åŒºå„ä¸ªçº¿ç¨‹å…±äº«çš„åŒºåŸŸï¼Œå­˜æ”¾ç¨‹åºè¿è¡Œæ—¶ä¸€ç›´å­˜åœ¨çš„æ•°æ®ï¼Œå­˜å‚¨å·²è¢«è™šæ‹ŸæœºåŠ è½½çš„æ¯ä¸ªç±»çš„ä¿¡æ¯ï¼ˆåŒ…æ‹¬ç±»çš„åç§°ã€æ–¹æ³•ä¿¡æ¯ã€å­—æ®µä¿¡æ¯ï¼‰é™æ€å˜é‡ï¼ˆstaticä¿®é¥°çš„æˆå‘˜å˜é‡ï¼‰ã€å¸¸é‡ã€ç¼–è¯‘å™¨ç¼–è¯‘åŽçš„ä»£ç ï¼ˆclassæ–‡ä»¶ï¼‰ç­‰ã€‚ å¸¸é‡å­˜å‚¨åŒºå£°æ˜Žä¸ºfinalçš„ä¸ºå¸¸é‡ï¼Œä¿å­˜åœ¨å¸¸é‡å‚¨å­˜åŒºï¼Œè¿˜æœ‰Stringç±»åž‹çš„å¯¹è±¡éƒ½æ˜¯å¸¸é‡ï¼Œç³»ç»Ÿç»´æŠ¤äº†ä¸€ä¸ªStringå¸¸é‡æ± ï¼Œå¸¸é‡æ± å­˜å‚¨åœ¨æ–¹æ³•åŒºä¸­ã€‚]]></content>
      <categories>
        <category>JAVA</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç±»åŠ è½½]]></title>
    <url>%2F2018%2F05%2F12%2F%E7%B1%BB%E5%8A%A0%E8%BD%BD%2F</url>
    <content type="text"><![CDATA[ç±»åŠ è½½æ¦‚è¿°ç±»åŠ è½½æ—¶æœº ç¬¬ä¸€æ¬¡ä½¿ç”¨æŸä¸ªç±»æ—¶åŠ è½½ é¢„åŠ è½½æœºåˆ¶æ¥åŠ è½½ JVMä¸Žç¨‹åºï¼šç”¨Javaå‘½ä»¤è¿è¡ŒæŸä¸ªJavaç¨‹åºæ—¶ï¼Œè¿™ä¸ªå‘½ä»¤ä¼šå¯åŠ¨ä¸€ä¸ªJavaè™šæ‹Ÿæœºè¿›ç¨‹ï¼Œè¿™ä¸ªè¿›ç¨‹ä¸­å¯èƒ½ä¼šæœ‰å¾ˆå¤šçš„çº¿ç¨‹ï¼Œä½†è¿™äº›çº¿ç¨‹éƒ½å¤„äºŽè¯¥Javaè™šæ‹Ÿæœºè¿›ç¨‹ä¸­ã€‚ JVMè¿›ç¨‹å¯èƒ½è¢«ç»ˆæ­¢çš„æƒ…å†µï¼š ç¨‹åºæ­£å¸¸ç»“æŸ ç¨‹åºè¿è¡Œåˆ°ä½¿ç”¨System.exit()æˆ–Runtime.getRuntime().exit()ä»£ç å¤„ç»“ ç¨‹åºè¿è¡Œä¸­æœ‰æœªå¤„ç†çš„å¼‚å¸¸æˆ–é”™è¯¯ ç¨‹åºæ‰€åœ¨å¹³å°å¼ºè¡Œç»“æŸJVMè¿›ç¨‹ 123public class Demo &#123; public static int a = 10;&#125; 123456public class Test1 &#123; public static void main(String[] args) &#123; Demo.a ++; System.out.println(Demo.a); //ç»“æžœï¼Ÿ 11 &#125;&#125; 12345public class Test2 &#123; public static void main(String[] args) &#123; System.out.println(Demo.a); //ç»“æžœï¼Ÿ 10 &#125;&#125; å¯åŠ¨è¿è¡Œæ˜¯ä¸¤ä¸ªJVMè¿›ç¨‹ ç¨‹åºä½¿ç”¨è¦ä½¿ç”¨æŸä¸ªç±»æ—¶ï¼Œå¦‚æžœè¯¥ç±»è¿˜æ²¡æœ‰è¢«åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œåˆ™ç³»ç»Ÿä¼šé€šè¿‡ä¸‹é¢3ä¸ªæ­¥éª¤ï¼ˆJVMè¿žç»­å®Œæˆï¼‰å®Œæˆç±»åŠ è½½æˆ–ç±»åˆå§‹åŒ–: åŠ è½½ è¿žæŽ¥ åˆå§‹åŒ– ç±»çš„åŠ è½½ç±»åŠ è½½ï¼šå°±æ˜¯æŠŠç±»çš„classæ–‡ä»¶è¯»å…¥å†…å­˜ï¼ŒåŒæ—¶ä¸ºè¿™ä¸ªclassåˆ›å»ºä¸€ä¸ªjava.lang.Classå¯¹è±¡ï¼ˆæ™®é€šç±»çš„ç±»ï¼‰ ç±»ï¼šæ˜¯æŸä¸€ç±»å¯¹è±¡çš„æŠ½è±¡(æ¦‚å¿µ)ï¼Œå…¶å®žç±»ä¹Ÿæ˜¯ä¸€ç§å¯¹è±¡,å¦‚: 1Class.forName(driver); ç±»å…¶å®žéƒ½æ˜¯java.lang.Classçš„å®žä¾‹ï¼Œç±»çš„åŠ è½½ç”±JVMæä¾›çš„ç±»åŠ è½½å™¨å®Œæˆï¼Œè¯¥åŠ è½½å™¨é€šå¸¸ç§°ä¸ºç³»ç»Ÿç±»åŠ è½½å™¨ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç»§æ‰¿ClassLoaderåŸºç±»æ¥åˆ›å»ºè‡ªå·±çš„ç±»åŠ è½½å™¨ 123public class MyClassLoader extends ClassLoader&#123; â€¦â€¦.//è‡ªå®šä¹‰ç±»åŠ è½½é€»è¾‘ &#125; ç±»åŠ è½½å°±æ˜¯æŠŠ.classæ–‡ä»¶è¯»å…¥å†…å­˜ åŠ è½½ç±»çš„äºŒè¿›åˆ¶æ•°æ®çš„æ¥æº: æœ¬åœ°æ–‡ä»¶ç³»ç»ŸåŠ è½½classæ–‡ä»¶ ä»ŽJARåŒ…åŠ è½½classæ–‡ä»¶ï¼Œå¦‚JDBCä¸­çš„é©±åŠ¨å°±æ˜¯æ”¾åœ¨JARæ–‡ä»¶ä¸­çš„ é€šè¿‡ç½‘ç»œåŠ è½½classæ–‡ä»¶ æŠŠä¸€ä¸ªJavaæºæ–‡ä»¶åŠ¨æ€ç¼–è¯‘ï¼Œå¹¶åŠ è½½ ç±»åŠ è½½å™¨åŠ è½½å™¨è´Ÿè´£å°†.classæ–‡ä»¶åŠ è½½åˆ°å†…å­˜ï¼Œå¹¶ä¸ºä¹‹ç”Ÿæˆå¯¹åº”çš„java.lang.Classå¯¹è±¡ å¦‚æžœä¸€ä¸ªç±»è¢«è½½å…¥JVMä¸­ï¼ŒåŒä¸€ä¸ªç±»å°±ä¸ä¼šè¢«å†æ¬¡è½½å…¥äº†ã€‚ JVMå¯åŠ¨æ—¶ï¼Œä¼šå½¢æˆç”±3ä¸ªç±»åŠ è½½å™¨å½¢æˆçš„åˆå§‹ç±»åŠ è½½å™¨å±‚æ¬¡ç»“æž„: Bootstap ClassLoader:æ ¹ç±»åŠ è½½å™¨,è´Ÿè´£åŠ è½½Javaæ ¸å¿ƒç±»,å®ƒå¾ˆç‰¹æ®Šï¼Œå®ƒä¸æ˜¯java.lang.ClassLoaderçš„å­ç±»ï¼Œè€Œæ˜¯ç”±JVMè‡ªèº«å®žçŽ°çš„ã€‚ Extension ClassLoader:æ‰©å±•ç±»åŠ è½½å™¨,è´Ÿè´£åŠ è½½JREçš„æ‰©å±•ç›®å½•(%JAVA_HOME%/jre/lib/extæˆ–è€…ç”±java.ext.dirsç³»ç»Ÿå±žæ€§æŒ‡å®šçš„ç›®å½•)ä¸­JARåŒ…çš„ç±» System ClassLoader:ç³»ç»Ÿç±»åŠ è½½å™¨,è´Ÿè´£åœ¨JVMå¯åŠ¨æ—¶åŠ è½½æ¥è‡ªjavaå‘½ä»¤çš„-classpathé€‰é¡¹ ç±»çš„è¿žæŽ¥ç±»åŠ è½½â€“&gt;ç”Ÿæˆå¯¹åº”çš„Classå¯¹è±¡â€“&gt;è¿žæŽ¥(ä¸»è¦è´Ÿè´£æŠŠåŠ è½½è¿‡æ¥çš„äºŒè¿›åˆ¶æ–‡ä»¶åˆå¹¶åˆ°JRE) è¿žæŽ¥åˆåˆ†3é˜¶æ®µ: éªŒè¯:æ£€æŸ¥åŠ è½½è¿‡æ¥çš„ç±»æ˜¯å¦æœ‰æ­£ç¡®çš„ç»“æž„ å‡†å¤‡:ä¸ºç±»çš„é™æ€Fieldåˆ†é…å†…å­˜ï¼Œå¹¶è®¾ç½®é»˜è®¤åˆå§‹å€¼ è§£æž:æŠŠç±»çš„äºŒè¿›åˆ¶æ•°æ®ä¸­çš„ç¬¦å·å¼•ç”¨æ›¿æ¢æˆç›´æŽ¥å¼•ç”¨ ç¬¦å·å¼•ç”¨:ä»¥ä¸€ç»„ç¬¦å·æ¥æè¿°æ‰€å¼•ç”¨çš„ç›®æ ‡, ç¬¦å·å¯ä»¥æ˜¯ä»»ä½•å½¢å¼çš„å­—é¢é‡, åªè¦ä½¿ç”¨æ—¶èƒ½å¤Ÿæ— æ­§ä¹‰çš„å®šä½åˆ°ç›®æ ‡å³å¯. ä¾‹å¦‚, åœ¨Javaä¸­, ä¸€ä¸ªJavaç±»å°†ä¼šç¼–è¯‘æˆä¸€ä¸ªclassæ–‡ä»¶. åœ¨ç¼–è¯‘æ—¶, Javaç±»å¹¶ä¸çŸ¥é“æ‰€å¼•ç”¨çš„ç±»çš„å®žé™…åœ°å€, å› æ­¤åªèƒ½ä½¿ç”¨ç¬¦å·å¼•ç”¨æ¥ä»£æ›¿. æ¯”å¦‚org.simple.Peopleç±»å¼•ç”¨äº†org.simple.Languageç±», åœ¨ç¼–è¯‘æ—¶Peopleç±»å¹¶ä¸çŸ¥é“Languageç±»çš„å®žé™…å†…å­˜åœ°å€, å› æ­¤åªèƒ½ä½¿ç”¨ç¬¦å·org.simple.Languageæ¥è¡¨ç¤ºLanguageç±»çš„åœ°å€. ç›´æŽ¥å¼•ç”¨:ç›´æŽ¥æŒ‡å‘ç›®æ ‡çš„æŒ‡é’ˆ.(å¦‚æŒ‡å‘â€œç±»åž‹â€ã€Classå¯¹è±¡ã€‘ã€ç±»å˜é‡ã€ç±»æ–¹æ³•çš„ç›´æŽ¥å¼•ç”¨å¯èƒ½æ˜¯æŒ‡å‘æ–¹æ³•åŒºçš„æŒ‡é’ˆ)ï¼Œç›¸å¯¹åç§»é‡. (æŒ‡å‘å®žä¾‹çš„å˜é‡, æ–¹æ³•çš„æŒ‡é’ˆ)ï¼Œä¸€ä¸ªé—´æŽ¥å®šä½åˆ°å¯¹è±¡çš„å¥æŸ„. å¦‚æžœæœ‰äº†ç›´æŽ¥å¼•ç”¨ï¼Œé‚£å¼•ç”¨çš„ç›®æ ‡å¿…å®šå·²ç»è¢«åŠ è½½å…¥å†…å­˜ä¸­äº†ã€‚ ç±»çš„åˆå§‹åŒ–åˆå§‹åŒ–æ˜¯ç”±JVMè´Ÿè´£ï¼Œä¸»è¦å°±æ˜¯å¯¹é™æ€Fieldè¿›è¡Œåˆå§‹åŒ–ï¼Œé™æ€FieldæŒ‡å®šåˆå€¼ä¸¤ç§æ–¹å¼: å£°æ˜Žæ—¶æŒ‡å®š ä½¿ç”¨é™æ€åˆå§‹åŒ–å—ä¸ºå…¶èµ‹å€¼ 12345678public class Demo &#123; static int a = 10; static int b; static int c; static &#123; b = 20; &#125;&#125; 123456789101112public class Demo &#123; public static int a = 10; static int c; static &#123; b = 20; &#125; // å®šä¹‰bå¹¶ä¸ºå…¶èµ‹å€¼ static int b = 15; public static void main(String[] args) &#123; System.out.println(b); // è¾“å‡ºï¼Ÿ 15 &#125;&#125; JVMåˆå§‹åŒ–ç±»çš„æ­¥éª¤: å¦‚æžœè¿™ä¸ªç±»è¿˜æ²¡æœ‰è¢«åŠ è½½ï¼Œåˆ™å…ˆåŠ è½½å¹¶è¿žæŽ¥è¯¥ç±» å¦‚æžœè¯¥ç±»çš„ç›´æŽ¥çˆ¶ç±»è¿˜æ²¡æœ‰è¢«åˆå§‹åŒ–ï¼Œåˆ™å…ˆåˆå§‹åŒ–å…¶ç›´æŽ¥çˆ¶ç±» å¦‚æžœè¯¥ç±»ä¸­æœ‰åˆå§‹åŒ–è¯­å¥ï¼Œåˆ™ç³»ç»Ÿä¾æ¬¡æ‰§è¡Œè¿™äº›åˆå§‹åŒ–è¯­å¥ åˆå§‹åŒ–æ—¶æœº Javaç¨‹åºé¦–æ¬¡é€šè¿‡ä¸‹é¢6ç§æ–¹å¼æ¥ä½¿ç”¨æŸä¸ªç±»æˆ–æŽ¥å£æ—¶ï¼Œç³»ç»Ÿä¼šåˆå§‹åŒ–è¯¥ç±»æˆ–æŽ¥å£ åˆ›å»ºç±»å®žä¾‹:new ã€åå°„ã€ååºåˆ—åŒ– è°ƒç”¨ç±»çš„é™æ€æ–¹æ³• è®¿é—®æŸä¸ªç±»æˆ–æŽ¥å£çš„é™æ€Fieldæˆ–ä¸ºè¯¥é™æ€Fieldèµ‹å€¼ ä½¿ç”¨åå°„æ–¹å¼æ¥å¼ºåˆ¶åˆ›å»ºæŸä¸ªç±»æˆ–æŽ¥å£å¯¹åº”çš„java.lang.Classå¯¹è±¡å¦‚ Class.forName(â€œPersonâ€),å¦‚æžœPersonæ²¡æœ‰è¢«åˆå§‹åŒ–ï¼Œåˆ™æ­¤æ—¶ä¼šåˆå§‹åŒ– åˆå§‹åŒ–æŸä¸ªç±»çš„å­ç±» ç›´æŽ¥ä½¿ç”¨java.exeå‘½ä»¤æ¥è¿è¡ŒæŸä¸ªä¸»ç±» å¯¹äºŽfinalä¿®é¥°çš„é™æ€Fieldï¼Œå¦‚æžœè¯¥Fieldçš„å€¼åœ¨ç¼–è¯‘æ—¶å°±å¯ä»¥ç¡®å®šä¸‹æ¥ï¼Œé‚£ä¹ˆè¿™ä¸ªFieldç›¸å½“äºŽå®å˜é‡ã€‚è¿™ç§æƒ…å†µä¸‹æ˜¯ä¸ä¼šåˆå§‹åŒ–è¿™ä¸ªç±»çš„,åä¹‹å¦‚æžœç¼–è¯‘æ—¶ä¸èƒ½ç¡®å®šï¼Œé‚£ä¹ˆå°±è¦åˆå§‹åŒ–è¿™ä¸ªç±» ç±»çš„åŠ è½½ä¸Žç±»çš„åˆå§‹åŒ–æ˜¯ä¸åŒçš„ï¼Œç±»åŠ è½½ä¸ä¸€å®šåˆå§‹åŒ–ï¼Œä½†ç±»åˆå§‹åŒ–ä¹‹å‰è¿™ä¸ªç±»ä¸€å®šè¢«åŠ è½½]]></content>
      <categories>
        <category>JAVA</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Exception]]></title>
    <url>%2F2018%2F05%2F10%2FException%2F</url>
    <content type="text"><![CDATA[12345Exception in thread &quot;main&quot; java.lang.ArithmeticException: / by zero at com.train.day07.ExceptionDemo1.test3(ExceptionDemo1.java:25) at com.train.day07.ExceptionDemo1.test2(ExceptionDemo1.java:18) at com.train.day07.ExceptionDemo1.test1(ExceptionDemo1.java:12) at com.train.day07.ExceptionDemo1.main(ExceptionDemo1.java:6) é”™è¯¯ä¿¡æ¯ä¸ºæ–¹æ³•çš„è°ƒç”¨æ ˆä¿¡æ¯ main è°ƒç”¨ test1 -&gt;è°ƒç”¨test2-ã€‹è°ƒç”¨test3 åœ¨test3ä¸­å‘ç”Ÿå¼‚å¸¸ï¼Œå†å°†æ¥æ£€æŸ¥é”™è¯¯æ—¶ï¼Œä»Žä¸Šå‘ä¸‹æ‰¾åˆ°è‡ªå·±æ‰€å†™ä»£ç ç¬¬ä¸€æ¬¡å‡ºçŽ°çš„ä½ç½®ï¼Œç‚¹å‡»å¯¹åº”çš„ç±»ï¼ŒæŒ‡å‘çš„å“ªä¸€è¡Œå°±æ˜¯é”™è¯¯æŠ›å‡ºçš„ä½ç½®ï¼Œä¹‹åŽæ ¹æ®æ­¤è¡Œä»£ç ï¼ŒåŽ»åˆ†æžé”™è¯¯ã€‚ å¼‚å¸¸ï¼š è¿è¡Œæ—¶å¼‚å¸¸ RuntimeExceptionï¼Œæ˜¯å› ä¸ºç¨‹åºå‘˜çš„é—®é¢˜ï¼Œå†™ä»£ç ç¼ºå°‘å¿…è¦çš„åˆ¤æ–­ä¸Žé€»è¾‘ï¼Œé‡åˆ°è¿™æ ·çš„é—®é¢˜ï¼Œå¿…é¡»è¦è§£å†³ï¼Œè§£å†³çš„æ–¹å¼ï¼Œä¸æ˜¯try-catchï¼Œè€Œæ˜¯é€šè¿‡ä¿®æ”¹ä»£ç ï¼Œé¿å…è¿™æ ·çš„å¼‚å¸¸ ArithmeticException NullPointerException â€¦â€¦ æ£€æŸ¥åž‹å¼‚å¸¸ CheckedException ï¼Œå†™ä»£ç çš„è¿‡ç¨‹ï¼Œå¦‚æžœéœ€è¦æ•èŽ·ï¼Œç¨‹åºä¼šæç¤ºï¼Œå¦åˆ™ç¼–è¯‘ä¸é€šè¿‡ï¼Œæ— æ³•è¿è¡Œ File IO è¿è¡Œæ—¶å¼‚å¸¸ï¼Œå°±æ˜¯æˆ‘ä»¬æ‰€ä¿—ç§°çš„bugï¼Œç¨‹åºè¿è¡Œçš„æ—¶å€™æŠ›å‡ºçš„ ArithmeticException ç®—æœ¯å¼‚å¸¸ è¿è¡Œæ—¶å¼‚å¸¸ NullPointerException ç©ºæŒ‡é’ˆå¼‚å¸¸ ArraysOutOfBoundsException æ•°ç»„ä¸‹è¡¨è¶Šç•Œ]]></content>
      <categories>
        <category>JAVA</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[èŒƒå¼]]></title>
    <url>%2F2018%2F05%2F07%2F%E8%8C%83%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[é€»è¾‘æ•°æ®åº“è®¾è®¡â€”è§„èŒƒåŒ–é€»è¾‘æ¨¡åž‹èŒƒå¼ï¼ˆ Normal formï¼Œç®€ç§°NF ï¼‰è¡¨ç¤ºå…³ç³»æ¨¡å¼çš„çº§åˆ«ï¼Œæ˜¯è¡¡é‡å…³ç³»æ¨¡å¼è§„èŒƒåŒ–ç¨‹åº¦çš„æ ‡å‡†ï¼Œè¾¾åˆ°èŒƒå¼çš„å…³ç³»æ‰æ˜¯è§„èŒƒåŒ–çš„ã€‚ å„ç§èŒƒå¼ä¹‹é—´çš„è”ç³»æ˜¯ï¼š5NF âˆˆ 4NF âˆˆ 3NF âˆˆ 2NF âˆˆ 1NF è§„èŒƒåŒ–:ä¸€ä¸ªä½Žçº§èŒƒå¼çš„å…³ç³»æ¨¡å¼ï¼Œé€šè¿‡å…³ç³»æ¨¡å¼çš„æŠ•å½±åˆ†è§£ï¼Œå¯ä»¥è½¬æ¢ä¸ºè‹¥å¹²ä¸ªé«˜ä¸€çº§èŒƒå¼çš„å…³ç³»æ¨¡å¼çš„é›†åˆçš„è¿‡ç¨‹ã€‚å®žé™…çš„å…³ç³»æ•°æ®åº“ä¸€èˆ¬ä½¿ç”¨3NFä»¥ä¸Šçš„å…³ç³»ã€‚ è§„èŒƒåŒ–çš„æ­¥éª¤ å°†æ•°æ®åº“åˆ†ä¸ºä¸¤ä¸ªæˆ–æ›´å¤šä¸ªè¡¨ï¼› å®šä¹‰è¡¨ä¹‹é—´çš„å…³ç³»ã€‚ è§„èŒƒåŒ–æ•°æ®åº“çš„ä»»åŠ¡ å°½å¯èƒ½å‡å°‘å†—ä½™ å‡å°‘æ•°æ®çš„ä¸ä¸€è‡´æ€§ åŠ å¿«æ•°æ®ä¿®æ”¹ï¼ˆæ’å…¥ã€æ›´æ–°çš„åˆ é™¤ï¼‰ ç¬¬ä¸€èŒƒå¼ï¼ˆ Râˆˆ1NF ï¼‰å…³ç³»æ¨¡å¼Rä¸­çš„æ‰€æœ‰å±žæ€§éƒ½æ˜¯ä¸å¯å†åˆ†çš„æ•°æ®é¡¹ã€‚ è¡¨å¿…é¡»ç¬¦åˆçš„æ¡ä»¶ è¡¨å¿…é¡»æ˜¯äºŒç»´çš„ï¼ˆç”¨è¡Œå’Œåˆ—è¡¨ç¤ºï¼‰ æ¯ä¸ªæ•°æ®åº“å•å…ƒåªåŒ…å«ä¸€ä¸ªå€¼ æ¯åˆ—å¿…é¡»å…·æœ‰å•ç‹¬çš„å«ä¹‰ å­¦ç”Ÿè¡¨æ˜¯1NFï¼ŒèŒå·¥è¡¨ä¸æ˜¯ ç¬¬äºŒèŒƒå¼ï¼ˆRâˆˆ2NF ï¼‰è§„èŒƒåŒ–é€»è¾‘æ¨¡åž‹ â€”è½¬æ¢ä¸ºç¬¬äºŒèŒƒå¼æ•°æ®æ¨¡åž‹ å…³ç³»Râˆˆ1NFï¼Œä¸”å®ƒçš„æ¯ä¸€éžä¸»å±žæ€§éƒ½å®Œå…¨ä¾èµ–äºŽä¸»é”®ã€‚ 1å®ƒçš„è§„åˆ™æ˜¯è¦æ±‚æ•°æ®è¡¨é‡Œçš„æ‰€æœ‰éžä¸»å±žæ€§éƒ½è¦å’Œè¯¥æ•°æ®è¡¨çš„ä¸»é”®æœ‰å®Œå…¨ä¾èµ–å…³ç³»ï¼›å¦‚æžœæœ‰å“ªäº›éžä¸»å±žæ€§åªå’Œä¸»é”®çš„ä¸€éƒ¨ä»½æœ‰å…³çš„è¯ï¼Œå®ƒå°±ä¸ç¬¦åˆç¬¬äºŒèŒƒå¼ã€‚åŒæ—¶å¯ä»¥å¾—å‡ºï¼šå¦‚æžœä¸€ä¸ªæ•°æ®è¡¨çš„ä¸»é”®åªæœ‰å•ä¸€ä¸€ä¸ªå­—æ®µçš„è¯ï¼Œå®ƒå°±ä¸€å®šç¬¦åˆç¬¬äºŒèŒƒå¼(å‰ææ˜¯è¯¥æ•°æ®è¡¨ç¬¦åˆç¬¬ä¸€èŒƒå¼) åŽŸåˆ™ æ¶ˆé™¤å®žä½“ä¸­çš„å†—ä½™ä¿¡æ¯ å°†åªä¾èµ–äºŽä¸€éƒ¨åˆ†å¤šå€¼ä¸»é”®çš„å±žæ€§ç§»åˆ°å¦ä¸€ä¸ªè¡¨ä¸­ ä½¿å­˜å‚¨çš„ä¿¡æ¯æ›´ä¸€è‡´ è§£å†³æ–¹æ³• æ‹†åˆ†è¡¨ ç¤ºä¾‹ è€ƒè™‘ä¸€ä¸ªå°å­¦çš„æ•™åŠ¡ ç®¡ç†ç³»ç»Ÿï¼Œå­¦ç”Ÿä¸Šè¯¾æŒ‡å®šä¸€ä¸ªè€å¸ˆï¼Œä¸€æœ¬æ•™æï¼Œä¸€ä¸ªæ•™å®¤ï¼Œä¸€ä¸ªæ—¶é—´ï¼Œå¤§å®¶éƒ½ä¸Šè¯¾åŽ»å§ï¼Œæ²¡æœ‰é—®é¢˜ã€‚é‚£ä¹ˆæ•°æ®åº“æ€Žä¹ˆè®¾è®¡ï¼Ÿ å­¦ç”Ÿä¸Šè¯¾è¡¨ 12å­¦ç”Ÿ è¯¾ç¨‹ è€å¸ˆ è€å¸ˆèŒç§° æ•™æ æ•™å®¤ ä¸Šè¯¾æ—¶é—´ å°æ˜Ž ä¸€å¹´çº§è¯­æ–‡ï¼ˆä¸Šï¼‰ å¤§å® å‰¯æ•™æŽˆ ã€Šå°å­¦è¯­æ–‡1ã€‹ 101 14ï¼š30 12345678ä¸€ä¸ªå­¦ç”Ÿä¸Šä¸€é—¨è¯¾ï¼Œä¸€å®šåœ¨ç‰¹å®šæŸä¸ªæ•™å®¤ã€‚æ‰€ä»¥æœ‰ï¼ˆå­¦ç”Ÿï¼Œè¯¾ç¨‹ï¼‰ï¼&gt;æ•™å®¤ä¸€ä¸ªå­¦ç”Ÿä¸Šä¸€é—¨è¯¾ï¼Œä¸€å®šæ˜¯ç‰¹å®šæŸä¸ªè€å¸ˆæ•™ã€‚æ‰€ä»¥æœ‰ï¼ˆå­¦ç”Ÿï¼Œè¯¾ç¨‹ï¼‰ï¼&gt;è€å¸ˆä¸€ä¸ªå­¦ç”Ÿä¸Šä¸€é—¨è¯¾ï¼Œä»–è€å¸ˆçš„èŒç§°å¯ä»¥ç¡®å®šã€‚æ‰€ä»¥æœ‰ï¼ˆå­¦ç”Ÿï¼Œè¯¾ç¨‹ï¼‰ï¼&gt;è€å¸ˆèŒç§°ä¸€ä¸ªå­¦ç”Ÿä¸Šä¸€é—¨è¯¾ï¼Œä¸€å®šæ˜¯ç‰¹å®šæŸä¸ªæ•™æã€‚æ‰€ä»¥æœ‰ï¼ˆå­¦ç”Ÿï¼Œè¯¾ç¨‹ï¼‰ï¼&gt;æ•™æä¸€ä¸ªå­¦ç”Ÿä¸Šä¸€é—¨è¯¾ï¼Œä¸€å®šåœ¨ç‰¹å®šæ—¶é—´ã€‚æ‰€ä»¥æœ‰ï¼ˆå­¦ç”Ÿï¼Œè¯¾ç¨‹ï¼‰ï¼&gt;ä¸Šè¯¾æ—¶é—´å› æ­¤ï¼ˆå­¦ç”Ÿï¼Œè¯¾ç¨‹ï¼‰æ˜¯ä¸€ä¸ªç ç„¶è€Œï¼Œä¸€ä¸ªè¯¾ç¨‹ï¼Œä¸€å®šæŒ‡å®šäº†æŸä¸ªæ•™æï¼Œä¸€å¹´çº§è¯­æ–‡è‚¯å®šç”¨çš„æ˜¯ã€Šå°å­¦è¯­æ–‡1ã€‹ï¼Œé‚£ä¹ˆå°±æœ‰è¯¾ç¨‹ï¼&gt;æ•™æï¼ˆå­¦ç”Ÿï¼Œè¯¾ç¨‹ï¼‰æ˜¯ä¸ªç ï¼Œè¯¾ç¨‹å´å†³å®šäº†æ•™æï¼Œè¿™å°±å«åšä¸å®Œå…¨ä¾èµ–ï¼Œæˆ–è€…è¯´éƒ¨åˆ†ä¾èµ–ã€‚å‡ºçŽ°è¿™æ ·çš„æƒ…å†µï¼Œå°±ä¸æ»¡è¶³ç¬¬äºŒèŒƒå¼ï¼ å­¦ç”Ÿä¸Šè¯¾è¡¨æ–° 12è¯¾ç¨‹ æ•™æ å­¦ç”Ÿ è¯¾ç¨‹ è€å¸ˆ è€å¸ˆèŒç§° æ•™å®¤ ä¸Šè¯¾æ—¶é—´ ç¬¬ä¸‰èŒƒå¼ï¼ˆ Râˆˆ3NF ï¼‰è§„èŒƒåŒ–é€»è¾‘æ¨¡åž‹ â€”åˆ›å»ºç¬¬ä¸‰èŒƒå¼æ•°æ®æ¨¡åž‹ è‹¥Râˆˆ2NFï¼Œä¸”å®ƒçš„æ¯ä¸€éžä¸»å±žæ€§éƒ½ä¸ä¼ é€’ä¾èµ–äºŽå…³é”®å­—å³æ¶ˆé™¤ä¼ é€’ä¾èµ–ã€‚ 1è¡¨ä¸­æœ‰å¯èƒ½å­˜åœ¨æŸäº›æ•°æ®å…ƒç´ ä¾èµ–äºŽå…¶ä»–éžå…³é”®å­—æ•°æ®å…ƒç´ çš„çŽ°è±¡,å¿…é¡»æ¶ˆé™¤ åŽŸåˆ™ é™¤åŽ»æ‰€æœ‰ä¸ä¾èµ–æŸä¸ªé”®å€¼è€Œå­˜åœ¨çš„åˆ— å°†ä¸ç›´æŽ¥ä¸Žå®žä½“è”ç³»çš„ä»»ä½•æ•°æ®éƒ½ç§»åˆ°å¦ä¸€ä¸ªè¡¨ä¸­ é¿å…ä¿¡æ¯çš„æ›´æ–°å¼‚å¸¸å’Œåˆ é™¤å¼‚å¸¸ ç¡®ä¿ä¸å«å†—ä½™ä¿¡æ¯ æ“ä½œæ­¥éª¤ å°†æ•°æ®æ¨¡åž‹è§„èŒƒåŒ–ä¸ºç¬¬äºŒèŒƒå¼ï¼› ç¡®å®šä¸ä¾èµ–é”®å€¼è€Œå­˜åœ¨çš„æ‰€æœ‰å±žæ€§ï¼› å°†è¿™äº›ç‹¬ç«‹çš„å±žæ€§éƒ½ç§»åˆ°å„ä¸ªå•ç‹¬çš„è¡¨ä¸­ï¼Œå¹¶ä¸ºä¹‹ç¡®å®šä¸»é”®ã€‚ä¸”å°†è¿™äº›ä¸»é”®ä½œä¸ºå¤–é”®è¿žæŽ¥åˆ°çˆ¶å®žä½“ä¸­ã€‚ ç¤ºä¾‹ä¸Šé¢çš„â€œå­¦ç”Ÿä¸Šè¯¾è¡¨æ–°â€ç¬¦åˆ2NFï¼Œä½†æ˜¯å®ƒæœ‰ä¼ é€’ä¾èµ–ï¼ 1é—®é¢˜å°±å‡ºåœ¨â€œè€å¸ˆâ€å’Œâ€œè€å¸ˆèŒç§°â€è¿™é‡Œã€‚ä¸€ä¸ªè€å¸ˆä¸€å®šèƒ½ç¡®å®šä¸€ä¸ªè€å¸ˆèŒç§°ã€‚ è¿˜æœ‰ä»€ä¹ˆé—®é¢˜å—ï¼Ÿ è€å¸ˆå‡çº§äº†ï¼Œå˜æ•™æŽˆäº†ï¼Œè¦æ”¹æ•°æ®åº“ï¼Œè¡¨ä¸­æœ‰Næ¡ï¼Œæ”¹äº†Næ¬¡â€¦â€¦ï¼ˆä¿®æ”¹å¼‚å¸¸ï¼‰ æ²¡äººé€‰è¿™ä¸ªè€å¸ˆçš„è¯¾äº†ï¼Œè€å¸ˆçš„èŒç§°ä¹Ÿæ²¡äº†è®°å½•â€¦â€¦ï¼ˆåˆ é™¤å¼‚å¸¸ï¼‰ æ–°æ¥ä¸€ä¸ªè€å¸ˆï¼Œè¿˜æ²¡åˆ†é…æ•™ä»€ä¹ˆè¯¾ï¼Œä»–çš„èŒç§°è®°åˆ°å“ªï¼Ÿâ€¦â€¦ï¼ˆæ’å…¥å¼‚å¸¸ é‚£åº”è¯¥æ€Žä¹ˆè§£å†³å‘¢ï¼Ÿå’Œä¸Šé¢ä¸€æ ·ï¼ŒæŠ•å½±åˆ†è§£ï¼š è€å¸ˆ è€å¸ˆèŒç§° è¯¾ç¨‹ æ•™æ å­¦ç”Ÿ è¯¾ç¨‹ è€å¸ˆ æ•™å®¤ ä¸Šè¯¾æ—¶é—´ æ•°æ®åº“è®¾è®¡1.ä¸€å¯¹ä¸€ 2.ä¸€å¯¹å¤š 3.å¤šå¯¹å¤š]]></content>
      <categories>
        <category>JAVA</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Class]]></title>
    <url>%2F2018%2F05%2F01%2FClass%2F</url>
    <content type="text"><![CDATA[instanceofå®ƒçš„ä½œç”¨æ˜¯æµ‹è¯•å®ƒå·¦è¾¹çš„å¯¹è±¡æ˜¯å¦æ˜¯å®ƒå³è¾¹çš„ç±»çš„å®žä¾‹ï¼Œæˆ–è€…å³è¾¹çš„ç±»çš„å­ç±»å®žä¾‹ï¼Œè¿”å›ž boolean çš„æ•°æ®ç±»åž‹ã€‚ 1234567public static void test()&#123; String a = &quot;&quot;; Object obj = new Object(); System.out.println(a instanceof String);// true System.out.println(a instanceof Object);// true System.out.println(obj instanceof String);// false &#125; å†…éƒ¨ç±»æˆ‘ä»¬æŠŠä¸€ä¸ªç±»æ”¾åœ¨å¦ä¸€ä¸ªç±»çš„å†…éƒ¨å®šä¹‰ï¼Œè¿™ä¸ªå®šä¹‰åœ¨å…¶ä»–ç±»å†…éƒ¨çš„ç±»å°±è¢«ç§°ä¸ºå†…éƒ¨ç±»ï¼Œæœ‰çš„ä¹Ÿå«åµŒå¥—ç±»ï¼ŒåŒ…å«å†…éƒ¨ç±»çš„ç±»ä¹Ÿè¢«ç§°ä¸ºå¤–éƒ¨ç±»æœ‰çš„ä¹Ÿå«å®¿ä½ç±»ã€‚ å†…éƒ¨ç±»æä¾›äº†æ›´å¥½çš„å°è£…ï¼Œå†…éƒ¨ç±»æˆå‘˜å¯ä»¥ç›´æŽ¥è®¿é—®å¤–éƒ¨ç±»çš„ç§æœ‰æ•°æ®ï¼Œå› ä¸ºå†…éƒ¨ç±»è¢«å½“æˆå…¶ä»–å¤–éƒ¨ç±»æˆå‘˜ã€‚ 12345678910public class InnerClassDemo &#123; // å¤–éƒ¨ç±»ç§æœ‰æˆå‘˜ private int a = 10; class Inner&#123; void test()&#123; // å†…éƒ¨ç±»ä¸­å¯ç›´æŽ¥è®¿é—® System.out.println(a); &#125; &#125;&#125; éžé™æ€å†…éƒ¨ç±»å½“åœ¨éžé™æ€å†…éƒ¨ç±»çš„æ–¹æ³•å†…è®¿é—®æŸä¸ªå˜é‡æ—¶ï¼Œç³»ç»Ÿä¼˜å…ˆåœ¨è¯¥æ–¹æ³•å†…æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨è¯¥åå­—çš„å±€éƒ¨å˜é‡ï¼Œå¦‚æžœå­˜åœ¨è¯¥åå­—çš„å±€éƒ¨å˜é‡ï¼Œå°±ä½¿ç”¨è¯¥å˜é‡ï¼Œå¦‚æžœä¸å­˜åœ¨ï¼Œåˆ™åˆ°è¯¥æ–¹æ³•æ‰€åœ¨çš„å†…éƒ¨ç±»ä¸­æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨è¯¥åå­—çš„å±žæ€§ï¼Œå¦‚æžœå­˜åœ¨åˆ™ä½¿ç”¨è¯¥å±žæ€§ã€‚ æ€»ä¹‹ï¼Œç¬¬ä¸€æ­¥å…ˆæ‰¾å±€éƒ¨å˜é‡ï¼Œç¬¬äºŒæ­¥ï¼Œå†…éƒ¨ç±»çš„å±žæ€§ï¼Œç¬¬ä¸‰æ­¥ã€‚å¤–éƒ¨ç±»çš„å±žæ€§ã€‚ 1234567891011121314151617public class InnerClassDemo &#123; // å¤–éƒ¨ç±»ç§æœ‰æˆå‘˜ private int a = 10; public static void main(String[] args) &#123; new InnerClassDemo().new Inner().test(); &#125; class Inner&#123; int a = 20; void test()&#123; int a = 30; // å†…éƒ¨ç±»ä¸­å¯ç›´æŽ¥è®¿é—® System.out.println(a); &#125; &#125;&#125; é™æ€å†…éƒ¨ç±»å¦‚æžœç”¨staticä¿®é¥°ä¸€ä¸ªå†…éƒ¨ç±»ï¼Œç§°ä¸ºé™æ€å†…éƒ¨ç±»ã€‚ é™æ€å†…éƒ¨ç±»å¯ä»¥åŒ…å«é™æ€æˆå‘˜ï¼Œä¹Ÿå¯ä»¥åŒ…å«éžé™æ€æˆå‘˜ã€‚æ‰€ä»¥é™æ€å†…éƒ¨ç±»ä¸èƒ½è®¿é—®å¤–éƒ¨ç±»çš„å®žä¾‹æˆå‘˜ï¼Œåªèƒ½è®¿é—®å¤–éƒ¨ç±»çš„ç±»æˆå‘˜ã€‚ é™æ€å†…éƒ¨ç±»çš„å¯¹è±¡å¯„å­˜åœ¨å¤–éƒ¨ç±»é‡Œï¼Œéžé™æ€å†…éƒ¨ç±»çš„å¯¹è±¡å¯„å­˜åœ¨å¤–éƒ¨ç±»å®žä¾‹é‡Œ 12345678910111213141516171819202122232425262728public class InnerClassDemo &#123; // å¤–éƒ¨ç±»ç§æœ‰æˆå‘˜ private int a = 10; public static void main(String[] args) &#123; // éžé™æ€å†…éƒ¨ç±»çš„å¯¹è±¡å¯„å­˜åœ¨å¤–éƒ¨ç±»å®žä¾‹é‡Œ new InnerClassDemo().new Inner().test(); // é™æ€å†…éƒ¨ç±»çš„å¯¹è±¡å¯„å­˜åœ¨å¤–éƒ¨ç±»é‡Œ new InnerClassDemo.InnerStatic().test(); &#125; class Inner&#123; int a = 20; void test()&#123; int a = 30; // å†…éƒ¨ç±»ä¸­å¯ç›´æŽ¥è®¿é—® System.out.println(a); &#125; &#125; static class InnerStatic&#123; static int c = 15; int b = 16; void test()&#123; // aä¸ºå¤–éƒ¨ç±»å®žä¾‹æˆå‘˜ï¼Œè®¿é—®æŠ¥é”™// System.out.println(a); &#125; &#125;&#125; å±€éƒ¨å†…éƒ¨ç±»å¦‚æžœæŠŠä¸€ä¸ªå†…éƒ¨ç±»æ”¾åœ¨æ–¹æ³•é‡Œå®šä¹‰ï¼Œè¿™å°±æ˜¯å±€éƒ¨å†…éƒ¨ç±»ï¼Œä»…ä»…åœ¨è¿™ä¸ªæ–¹æ³•é‡Œæœ‰æ•ˆã€‚ å±€éƒ¨å†…éƒ¨ç±»ä¸èƒ½åœ¨å¤–éƒ¨ç±»ä»¥å¤–çš„åœ°æ–¹ä½¿ç”¨ï¼Œé‚£ä¹ˆå±€éƒ¨å†…éƒ¨ç±»ä¹Ÿä¸èƒ½ä½¿ç”¨è®¿éƒ¨æŽ§åˆ¶ç¬¦å’Œstaticä¿®é¥° 1234567void testInner()&#123; // å°†è®¿é—®ä¿®é¥°ç¬¦ä¼šæŠ¥é”™ï¼Œå¦‚private class Inner&#123; &#125; Inner inner = new Inner();&#125; åŒ¿åå†…éƒ¨ç±»åŒ¿åå†…éƒ¨ç±»é€‚åˆåˆ›å»ºé‚£ç§åªéœ€è¦ä¸€æ¬¡ä½¿ç”¨çš„ç±»ï¼Œå®šä¹‰åŒ¿åå†…éƒ¨ç±»çš„è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š new çˆ¶ç±»æž„é€ å™¨ï¼ˆæŠ½è±¡ç±»/æŽ¥å£ï¼‰ { â€‹ //åŒ¿åå†…éƒ¨ç±»çš„ ç±»ä½“éƒ¨åˆ† } åŒ¿åå†…éƒ¨ç±»ä¸èƒ½æ˜¯æŠ½è±¡ç±»ï¼ŒåŒ¿åå†…éƒ¨ç±»ä¸èƒ½å®šä¹‰æž„é€ å™¨ 123456IProduct product = new IProduct()&#123; @Override public String getProduct() &#123; return null; &#125; &#125;; æžšä¸¾ç±»J2SE1.5æ–°å¢žäº†ä¸€ä¸ªenumå…³é”®å­—ï¼Œç”¨ä»¥å®šä¹‰æžšä¸¾ç±»ã€‚æ­£å¦‚å‰é¢çœ‹åˆ°ï¼Œæžšä¸¾ç±»æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç±»ï¼Œå®ƒä¸€æ ·å¯ä»¥æœ‰è‡ªå·±çš„æ–¹æ³•å’Œå±žæ€§ï¼Œå¯ä»¥å®žçŽ°ä¸€ä¸ªæˆ–è€…å¤šä¸ªæŽ¥å£ï¼Œä¹Ÿå¯ä»¥å®šä¹‰è‡ªå·±çš„æž„é€ å™¨ã€‚ æžšä¸¾ç±»ä¹Ÿæ˜¯ä¸€ç§ç±»ï¼Œåªæ˜¯å®ƒæ˜¯ä¸€ç§æ¯”è¾ƒç‰¹æ®Šçš„ç±»ï¼Œå› æ­¤å®ƒä¸€æ ·å¯ä»¥ä½¿ç”¨å±žæ€§å’Œæ–¹æ³• æžšä¸¾ç±»å¯ä»¥å®žçŽ°ä¸€ä¸ªæˆ–å¤šä¸ªæŽ¥å£ï¼Œä½¿ç”¨enumå®šä¹‰çš„æžšä¸¾ç±»é»˜è®¤ç»§æ‰¿äº†java.lang.Enumç±»ï¼Œè€Œä¸æ˜¯ç»§æ‰¿Objectç±»(é—´æŽ¥ç»§æ‰¿)ã€‚å…¶ä¸­java.lang.Enumç±»å®žçŽ°äº†java.lang.Serializableå’Œjava.lang.Comparableä¸¤ä¸ªæŽ¥å£ã€‚ æžšä¸¾ç±»çš„æž„é€ å™¨åªèƒ½ä½¿ç”¨privateè®¿é—®æŽ§åˆ¶ç¬¦ï¼Œå¦‚æžœçœç•¥äº†å…¶æž„é€ å™¨çš„è®¿é—®æŽ§åˆ¶ç¬¦ï¼Œåˆ™é»˜è®¤ä½¿ç”¨privateä¿®é¥°ï¼›å¦‚æžœå¼ºåˆ¶æŒ‡å®šè®¿é—®æŽ§åˆ¶ç¬¦ï¼Œåˆ™åªèƒ½æŒ‡å®šprivateä¿®é¥°ç¬¦ã€‚ æžšä¸¾ç±»çš„æ‰€æœ‰å®žä¾‹å¿…é¡»åœ¨æžšä¸¾ç±»ä¸­æ˜¾å¼åˆ—å‡ºï¼Œå¦åˆ™è¿™ä¸ªæžšä¸¾ç±»å°†æ°¸è¿œéƒ½ä¸èƒ½äº§ç”Ÿå®žä¾‹ã€‚åˆ—å‡ºè¿™äº›å®žä¾‹æ—¶ç³»ç»Ÿä¼šè‡ªåŠ¨æ·»åŠ public static finalä¿®é¥°ï¼Œæ— éœ€ç¨‹åºå‘˜æ˜¾å¼æ·»åŠ ã€‚ 12345678public enum Animal &#123; PIG,DOG,MONKEY; public int age; private Animal()&#123; &#125;&#125; æ‰€æœ‰æžšä¸¾ç±»éƒ½æä¾›äº†ä¸€ä¸ªvaluesæ–¹æ³•ï¼Œè¯¥æ–¹æ³•å¯ä»¥å¾ˆæ–¹ä¾¿åœ°éåŽ†æ‰€æœ‰çš„æžšä¸¾å€¼ã€‚ 1234567public static void main(String[] args) &#123; Animal[] animals = Animal.values(); for (Animal anim:animals) &#123; System.out.println(anim); System.out.println(anim.age); &#125; &#125; æžšä¸¾ç±»é€šå¸¸åº”è¯¥è®¾è®¡æˆä¸å¯å˜ç±»ï¼Œä¹Ÿå°±è¯´å®ƒçš„å±žæ€§å€¼ä¸åº”è¯¥å…è®¸æ”¹å˜ï¼Œè¿™æ ·ä¼šæ›´å®‰å…¨ï¼Œè€Œä¸”ä»£ç æ›´åŠ ç®€æ´ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬åº”è¯¥å°†æžšä¸¾ç±»çš„å±žæ€§éƒ½ä½¿ç”¨private finalä¿®é¥°ã€‚ ä¸€æ—¦ä¸ºæžšä¸¾ç±»æ˜¾å¼å®šä¹‰äº†å¸¦å‚æ•°çš„æž„é€ å™¨ï¼Œåˆ™åˆ—å‡ºæžšä¸¾å€¼æ—¶ä¹Ÿå¿…é¡»å¯¹åº”åœ°ä¼ å…¥å‚æ•°ã€‚ 12345678public enum Animal &#123; PIG(10),DOG(20),MONKEY(30); private final int age; // æŽ¨è private Animal(int age)&#123; this.age = age; &#125;&#125; æžšä¸¾ç±»ä¹Ÿå¯ä»¥å®žçŽ°ä¸€ä¸ªæˆ–å¤šä¸ªæŽ¥å£ã€‚ä¸Žæ™®é€šç±»å®žçŽ°ä¸€ä¸ªæˆ–å¤šä¸ªæŽ¥å£å®Œå…¨ä¸€æ ·ï¼Œæžšä¸¾ç±»å®žçŽ°ä¸€ä¸ªæˆ–å¤šä¸ªæŽ¥å£æ—¶ï¼Œä¹Ÿéœ€è¦å®žçŽ°è¯¥æŽ¥å£æ‰€åŒ…å«çš„æ–¹æ³•ã€‚ å¦‚æžœéœ€è¦æ¯ä¸ªæžšä¸¾å€¼åœ¨è°ƒç”¨åŒä¸€ä¸ªæ–¹æ³•æ—¶å‘ˆçŽ°å‡ºä¸åŒçš„è¡Œä¸ºæ–¹å¼ï¼Œåˆ™å¯ä»¥è®©æ¯ä¸ªæžšä¸¾å€¼åˆ†åˆ«æ¥å®žçŽ°è¯¥æ–¹æ³•ï¼Œæ¯ä¸ªæžšä¸¾å€¼æä¾›ä¸åŒçš„å®žçŽ°æ–¹å¼ï¼Œä»Žè€Œè®©ä¸åŒæžšä¸¾å€¼è°ƒç”¨åŒä¸€ä¸ªæ–¹æ³•æ—¶å…·æœ‰ä¸åŒçš„è¡Œä¸ºæ–¹å¼ 123public interface EnumInterface &#123; void play();&#125; 1234567891011121314151617181920212223public enum Animal implements EnumInterface&#123; PIG(10)&#123; @Override public void play() &#123; System.out.println(&quot;æ‹±ç™½èœ&quot;); &#125; &#125;,DOG(20)&#123; @Override public void play() &#123; System.out.println(&quot;å•ƒéª¨å¤´&quot;); &#125; &#125;,MONKEY(30); private final int age; private Animal(int age)&#123; this.age = age; &#125; @Override public void play() &#123; System.out.println(&quot;è€&quot;); &#125;&#125; å¯ä»¥åœ¨æžšä¸¾ç±»é‡Œå®šä¹‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œç„¶åŽæŠŠè¿™ä¸ªæŠ½è±¡æ–¹æ³•äº¤ç»™å„æžšä¸¾å€¼åŽ»å®žçŽ°å³å¯ã€‚ 1234567891011PIG(10)&#123; @Override public void play() &#123; System.out.println(&quot;æ‹±ç™½èœ&quot;); &#125; // ç±»ä¸­åŒ…å«æŠ½è±¡æ–¹æ³•ï¼Œè¦ä¸ºæ¯ä¸ªå®žä¾‹æä¾›ç›¸åº”çš„å®žçŽ° @Override public void yelling() &#123; &#125; &#125; 12// æžšä¸¾ç±»å†…éƒ¨å®šä¹‰ public abstract void yelling(); Object Objectç±»æ˜¯æ‰€æœ‰ç±»ã€æ•°ç»„ã€æžšä¸¾ç±»çš„çˆ¶ç±»ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒJavaå…è®¸æŠŠæ‰€æœ‰ä»»ä½•ç±»åž‹çš„å¯¹è±¡èµ‹ç»™Objectç±»åž‹çš„å˜é‡ã€‚å½“å®šä¹‰ä¸€ä¸ªç±»æ—¶æ²¡æœ‰ä½¿ç”¨extendså…³é”®å­—ä¸ºå®ƒæ˜¾å¼æŒ‡å®šçˆ¶ç±»ï¼Œåˆ™è¯¥ç±»é»˜è®¤ç»§æ‰¿Objectçˆ¶ç±»ã€‚ æ‰“å°å¯¹è±¡å’ŒtoStringæ–¹æ³•ï¼štoStringæ–¹æ³•æ˜¯ç³»ç»Ÿå°†ä¼šè¾“å‡ºè¯¥å¯¹è±¡çš„â€œè‡ªæˆ‘æè¿°â€ä¿¡æ¯ï¼Œç”¨ä»¥å‘Šè¯‰å¤–ç•Œå¯¹è±¡å…·æœ‰çš„çŠ¶æ€ä¿¡æ¯ã€‚Object ç±»æä¾›çš„toStringæ–¹æ³•æ€»æ˜¯è¿”å›žè¯¥å¯¹è±¡å®žçŽ°ç±»çš„ç±»å + @ +hashCodeå€¼ã€‚ ==å’Œequalsæ¯”è¾ƒè¿ç®—ç¬¦ï¼š==è¦æ±‚ä¸¤ä¸ªå¼•ç”¨å˜é‡æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡æ‰ä¼šè¿”å›žtrueã€‚equalsæ–¹æ³•åˆ™å…è®¸ç”¨æˆ·æä¾›è‡ªå®šä¹‰çš„ç›¸ç­‰è§„åˆ™ã€‚ Objectç±»æä¾›çš„equalsæ–¹æ³•åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰çš„æ ‡å‡†ä¸Ž==å®Œå…¨ç›¸åŒã€‚å› æ­¤å¼€å‘è€…é€šå¸¸éœ€è¦é‡å†™equalsæ–¹æ³•ã€‚ JVM GC]]></content>
      <categories>
        <category>JAVA</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è§‚å¯Ÿè€…æ¨¡å¼]]></title>
    <url>%2F2018%2F04%2F30%2F%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[è§‚å¯Ÿè€…æ¨¡å¼è§‚å¯Ÿè€…åˆç§°ä¸ºå‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œæ˜¯å¯¹è±¡çš„è¡Œä¸ºæ¨¡å¼ã€‚è§‚å¯Ÿè€…æ¨¡å¼å®šä¹‰äº†ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œè®©å¤šä¸ªè§‚å¯Ÿè€…å¯¹è±¡åŒæ—¶ç›‘è§†è€…è¢«è§‚å¯Ÿè€…çš„çŠ¶æ€ï¼Œå½“è¢«è§‚å¯Ÿè€…çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼šé€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…ï¼Œå¹¶è®©å…¶è‡ªåŠ¨æ›´æ–°è‡ªå·±ã€‚ å¦‚ï¼šy = x2ï¼Œyéšxçš„å˜åŒ–è€Œå˜åŒ– å†å¦‚ï¼šä¸€ä¸ªå•†å®¶å’Œä¸€äº›ç”µå•†åˆä½œï¼Œæ¯å½“æœ‰æ–°äº§å“å‘å¸ƒæ—¶ï¼Œå°±ä¼šæŠŠè¿™äº›äº§å“æŽ¨é€åˆ°ç”µå•†å¹³å°ã€‚å¦‚çº¸ç›’æ·˜å®ï¼Œäº¬ä¸œåˆä½œï¼Œåˆ™æœ‰å¦‚ä¸‹ä¼ªä»£ç  1234if(äº§å“åº“ä¸­æœ‰æ–°äº§å“) &#123; æŽ¨é€äº§å“åˆ°æ·˜å®ï¼› æŽ¨é€äº§å“åˆ°äº¬ä¸œï¼›&#125; å¦‚æžœåˆå’Œå½“å½“ï¼Œè‹å®åˆä½œï¼Œåˆ™æ”¹å˜ä¼ªä»£ç  123456if(äº§å“åº“ä¸­æœ‰æ–°äº§å“) &#123; æŽ¨é€äº§å“åˆ°æ·˜å®ï¼› æŽ¨é€äº§å“åˆ°äº¬ä¸œï¼› æŽ¨é€äº§å“åˆ°å½“å½“; æŽ¨é€äº§å“åˆ°è‹å®ï¼›&#125; ä¸€æ¬¡ç±»æŽ¨ï¼Œè‹¥è¿˜æœ‰å•†å®¶åŠ å…¥ï¼Œåˆ™éœ€è¦å†æ¬¡æ”¹åŠ¨ä»£ç ï¼Œå½“å¤šè¾¾ç™¾å®¶æ—¶ï¼Œå°†éžå¸¸å¤æ‚ã€‚å¦å¤–è€ƒè™‘æŽ¨é€ä¸­å¼‚å¸¸çš„å‘ç”Ÿï¼Œä»£ç ä¼šå †ç Œè¿‡å¤šï¼Œç»´æŠ¤å›°éš¾ã€‚çŽ°å®žä¸­å¯¹å¼€å‘å›¢é˜Ÿè€Œè¨€ï¼Œå¯èƒ½äº§å“æ—¶äº§å“å›¢é˜Ÿç»´æŠ¤ï¼Œè€Œåˆä½œçš„ç”µè§†åˆæ˜¯ç”µå•†å›¢é˜Ÿåœ¨ç»´æŠ¤ï¼Œä¸¤ä¸ªå›¢é˜Ÿç»´æŠ¤åŒä¸€åŠŸèƒ½ä»£ç ï¼Œæ˜¾ç„¶ä¼šé€ æˆè´£ä»»ä¸æ¸…çš„é—®é¢˜ã€‚ è§‚å¯Ÿè€…æ¨¡å¼è´£ä»»æ¸…æ™°ï¼Œæ˜“äºŽæ‰©å±•ã€‚é¦–å…ˆï¼ŒæŠŠæ¯ä¸€ä¸ªç”µå•†æŽ¥å£çœ‹æˆä¸€ä¸ªè§‚å¯Ÿè€…ï¼Œæ¯ä¸€ä¸ªè§‚å¯Ÿè€…éƒ½èƒ½è§‚å¯Ÿåˆ°äº§å“åˆ—è¡¨ï¼ˆè¢«ç›‘å¬å¯¹è±¡ï¼‰ã€‚å½“å…¬å¸å‘å¸ƒæ–°äº§å“æ—¶ï¼Œå°±ä¼šå‘é€åˆ°è¿™ä¸ªäº§å“åˆ—è¡¨ä¸Šã€‚äºŽæ˜¯äº§å“åˆ—è¡¨å°±å‘ç”Ÿäº†å˜åŒ–ï¼Œè¿™æ˜¯å¯ä»¥è§¦å‘å„ä¸ªç”µå•†æŽ¥å£ï¼ˆè§‚å¯Ÿè€…ï¼‰å‘é€æ–°äº§å“åˆ°å¯¹åº”çš„åˆä½œç”µå•†é‚£é‡Œã€‚ ç±»ä¼¼è¿™æ ·ï¼Œä¸€ä¸ªå¯¹è±¡ï¼ˆç”µå•†æŽ¥å£ï¼‰åŽ»ç›‘å¬å¦ä¸€ä¸ªå¯¹è±¡ï¼ˆäº§å“åˆ—è¡¨ï¼‰ï¼Œå½“è¢«ç›‘å¬å¯¹è±¡å‘ç”Ÿå˜åŒ–æ—¶ï¼Œç”µå•†æŽ¥å£å°±ä¼šå‡ºå‘ä¸€å®šçš„è¡Œä¸ºï¼Œä»¥é€‚åº”å˜åŒ–çš„é€»è¾‘æ¨¡å¼ï¼Œæˆ‘ä»¬æˆä¸ºè§‚å¯Ÿè€…æ¨¡å¼ï¼Œç”µå•†æŽ¥å£è¢«ç§°ä¸ºè§‚å¯Ÿè€…æˆ–è€…ç›‘å¬è€…ï¼Œè€Œäº§å“åˆ—è¡¨è¢«ç§°ä¸ºè¢«è§‚å¯Ÿè€…æˆ–è€…è¢«ç›‘å¬å¯¹è±¡ã€‚ ã€‚ã€‚ã€‚ å¥½å¤„åœ¨äºŽï¼Œç¨‹åºä¸­ä¸å†å‡ºçŽ°ifè¯­å¥ï¼Œè§‚å¯Ÿè€…ä¼šæ ¹æ®è§‚å¯Ÿå¯¹è±¡çš„å˜åŒ–è€Œåšå‡ºå¯¹åº”çš„è¡Œä¸ºã€‚æ— è®ºæ—¶æ·˜å®ï¼Œäº¬ä¸œä»¥åŠå…¶ä»–ç”µå•†æŽ¥å£åªè¦ç»´æŠ¤è‡ªå·±çš„é€»è¾‘ï¼Œè€Œæ— éœ€è€¦åˆåœ¨ä¸€èµ·ã€‚åŒæ—¶è´£ä»»ä¹Ÿæ˜¯æ˜Žç¡®çš„ï¼Œäº§å“å›¢é˜Ÿåªè¦è´Ÿè´£äº§å“åˆ—è¡¨ï¼Œç”µå•†å›¢é˜Ÿå¯ä»¥é€šè¿‡å¢žåŠ è§‚å¯Ÿè€…åŽ»ç›‘å¬äº§å“çš„ç”µå•†æŽ¥å£ï¼Œä¸ä¼šå¸¦æ¥ifè¯­å¥å¯¼è‡´çš„è´£ä»»ä¸æ˜Žçš„æƒ…å†µã€‚]]></content>
      <categories>
        <category>JAVAæ¨¡å¼</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å·¥åŽ‚æ¨¡å¼]]></title>
    <url>%2F2018%2F04%2F30%2F%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[å·¥åŽ‚æ¨¡å¼å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬newå…³é”®å­—æ¥åˆ›å»ºå¯¹è±¡ã€‚ä¸¾ä¾‹æ¥è¯´ï¼ŒçŽ°å®žä¸­è½¦å­çš„ç§ç±»å¯èƒ½å¾ˆå¤šï¼Œæœ‰å¤§å·´è½¦ï¼Œè½¿è½¦ï¼Œæ•‘æŠ¤è½¦ï¼Œè¶Šé‡Žè½¦ï¼Œå¡è½¦ç­‰ï¼Œæ¯ä¸ªç§ç±»ä¸‹é¢è¿˜æœ‰å…·ä½“çš„åž‹å·ï¼Œä¸€ä¸ªå·¥åŽ‚ç”Ÿäº§å¦‚æ­¤å¤šçš„è½¦éš¾ä»¥ç®¡ç†ï¼Œæ‰€ä»¥è¿˜éœ€è¦è¿›ä¸€æ­¥æ‹†åˆ†ä¸ºå„ä¸ªåˆ†å·¥åŽ‚ï¼šå¤§å·´è½¦ï¼Œè½¿è½¦ç­‰åˆ†å·¥åŽ‚ã€‚ä½†æ˜¯å®¢æˆ·ä¸éœ€è¦çŸ¥é“å·¥åŽ‚æ˜¯å¦‚ä½•æ‹†åˆ†çš„ï¼Œåªä¼šå‘Šè¯‰å®¢æœéœ€è¦ä»€ä¹ˆè½¦ï¼Œå®¢æœä¼šæ ¹æ®å®¢æˆ·çš„éœ€è¦æ‰¾åˆ°å¯¹åº”çš„å·¥åŽ‚åŽ»ç”Ÿäº§è½¦ã€‚å¯¹å®¢æˆ·è€Œè¨€ï¼Œè½¦åŽ‚åªæ˜¯ä¸€ä¸ªæŠ½è±¡æ¦‚å¿µï¼Œåªæ˜¯çŸ¥é“æœ‰è¿™æ ·çš„ä¸€ä¸ªå·¥åŽ‚èƒ½æ»¡è¶³ä»–çš„éœ€è¦ã€‚ æ™®é€šå·¥åŽ‚æ¨¡å¼æœ‰ä¸ªIProductçš„äº§å“æŽ¥å£ï¼Œå…¶ä¸‹æœ‰5ä¸ªå®žçŽ°ç±»ï¼ŒProduct1ï¼ŒProduct2ï¼ŒProduct3ï¼ŒProduct4ï¼ŒProduct5ã€‚ä»–ä»¬å±žäºŽä¸€ä¸ªå¤§ç±»ï¼Œå¯ä»¥é€šè¿‡ä¸€ä¸ªå·¥åŽ‚åŽ»ç®¡ç†ä»–ä»¬çš„ç”Ÿæˆã€‚ä½†æ˜¯ç”±äºŽç±»åž‹ä¸åŒï¼Œæ‰€ä»¥åˆå§‹åŒ–æœ‰æ‰€ä¸åŒã€‚ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨äº§å“å·¥åŽ‚ï¼ˆProductFactoryï¼‰ç±»æ¥åˆ›å»ºè¿™äº›äº§å“çš„å¯¹è±¡ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡äº§å“å·æ¥ç¡®å®šéœ€è¦å“ªç§äº§å“ã€‚ 123public interface IProduct &#123; String getProduct();&#125; 123456public class Product1 implements IProduct&#123; @Override public String getProduct() &#123; return &quot;äº§å“1&quot;; &#125;&#125; 1234567public class Product2 implements IProduct&#123; @Override public String getProduct() &#123; return &quot;äº§å“2&quot;; &#125;&#125; 123456public class Product3 implements IProduct&#123; @Override public String getProduct() &#123; return &quot;äº§å“3&quot;; &#125;&#125; 1234567891011121314public class ProductFactory &#123; public static IProduct createProduct(String productNum)&#123; switch(productNum)&#123; case &quot;1&quot;: return new Product1(); case &quot;2&quot;: return new Product2(); case &quot;3&quot;: return new Product3(); default: throw new RuntimeException(&quot;æœªçŸ¥äº§å“&quot;); &#125; &#125;&#125; 12345678public class Main &#123; public static void main(String[] args) &#123; // éœ€è¦å“ªç§äº§å“ï¼Œç›´æŽ¥ä¼ å…¥å¯¹åº”çš„äº§å“å·å³å¯ IProduct product = ProductFactory.createProduct(&quot;2&quot;); String info = product.getProduct(); System.out.println(info); &#125;&#125; æŠ½è±¡å·¥åŽ‚æ¨¡å¼æŠ½è±¡å·¥åŽ‚æ¨¡å¼å¯ä»¥å‘å®¢æˆ·ç«¯æä¾›ä¸€ä¸ªæŽ¥å£ï¼Œå®¢æˆ·åœ¨ä¸å¿…æŒ‡å®šäº§å“çš„å…·ä½“æƒ…å†µä¸‹åˆ›å»ºå¤šä¸ªäº§å“æ—ä¸­çš„äº§å“å¯¹è±¡ã€‚ å¯¹äºŽæ™®é€šå·¥åŽ‚è€Œè¨€ï¼Œä»–è§£å†³äº†ä¸€ç±»å¯¹è±¡åˆ›å»ºé—®é¢˜ï¼Œä½†æ˜¯æœ‰æ—¶å€™å¯¹è±¡å¾ˆå¤æ‚ï¼Œæœ‰å‡ åä¸ªæœ‰åˆ†ä¸ºå‡ ä¸ªç±»åˆ«ã€‚å¦‚æžœåªæœ‰ä¸€ä¸ªå·¥åŽ‚ï¼Œé¢å¯¹å¦‚æ­¤å¤šçš„äº§å“ï¼Œè¿™ä¸ªå·¥åŽ‚éœ€è¦å®žçŽ°çš„é€»è¾‘å°±å¤æ‚äº†ï¼Œæ‰€ä»¥å¸Œæœ›æŠŠå·¥åŽ‚åˆ†æˆå¥½å‡ ä¸ªã€‚è¿™æ ·ä¾¿äºŽå·¥åŽ‚äº§å“è§„åˆ™çš„ç»´æŠ¤ï¼Œä½†æ˜¯è®¾è®¡è€…ä¸æƒ³è®©è°ƒç”¨è€…çŸ¥é“å…·ä½“çš„å·¥åŽ‚è§„åˆ™ï¼Œè€Œåªæ˜¯å¸Œæœ›ä»–ä»¬çŸ¥é“ä¸€ä¸ªç»Ÿä¸€çš„å·¥åŽ‚å³å¯ã€‚è¿™æ ·è®¾è®¡æœ‰åŠ©äºŽå¯¹å¤–å°è£…å’Œç®€åŒ–è°ƒç”¨è€…çš„ä½¿ç”¨ï¼Œæ¯•ç«Ÿè°ƒç”¨è€…ä¹Ÿä¸æƒ³çŸ¥é“é€‰æ‹©å…·ä½“å·¥åŽ‚çš„è§„åˆ™ã€‚ ä»¥è½¦åŽ‚ä¸ºä¾‹ï¼Œç”Ÿäº§å•†ä¸ä¼šæŠŠè½¿è½¦ï¼Œå¤§å·´è½¦ï¼Œå‰æ™®è½¦ç­‰è½¦åž‹éƒ½æ”¾åœ¨ä¸€ä¸ªè½¦åŽ‚ç”Ÿäº§ï¼Œé‚£æ ·ä¼šå¯¼è‡´è½¦åŽ‚å¼‚å¸¸å¤æ‚ï¼Œå¯¼è‡´ç®¡ç†å’Œç»´æŠ¤ã€‚æ‰€ä»¥ç”Ÿäº§å•†é€šå¸¸ä¼šæŠŠè¿™äº›åˆ†ä¸ºè½¿è½¦åŽ‚ï¼Œå¤§å·´è½¦åŽ‚ï¼Œè­¦è½¦åŽ‚ç­‰åˆ†åŽ‚ã€‚ä¹ˆä¸ªç§ç±»ä¸‹é¢æœ‰ä¸€äº›åž‹å·çš„äº§å“ã€‚ä½†å¯¹äºŽå®¢æˆ·è€Œè¨€ï¼Œåªè¦å‘Šè¯‰å®¢æœéœ€è¦ä»€ä¹ˆè½¦å³å¯ã€‚åŽç»­äº¤ç»™å®¢æœåˆ†é…å³å¯ã€‚ å®¢æˆ·åªæ˜¯è®¤ä¸ºæœ‰ä¸€ä¸ªèƒ½å¤Ÿç”Ÿäº§å„ç±»è½¦çš„å·¥åŽ‚ï¼Œä»–èƒ½ç”Ÿæˆæ‰€éœ€è¦çš„äº§å“ï¼Œè¿™é‡Œå·¥åŽ‚åªæ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„æ¦‚å¿µï¼Œå¹¶ä¸çœŸå®žå­˜åœ¨ï¼Œä»–æ˜¯é€šè¿‡è½¦åŽ‚å†…éƒ¨å„ä¸ªåˆ†åŽ‚å®žçŽ°çš„ï¼Œè¿™ä¸ªè™šæ‹Ÿå·¥åŽ‚ç§°ä¸ºæŠ½è±¡å·¥åŽ‚ã€‚å„ä¸ªåˆ†åŽ‚ç§°ä¸ºå…·ä½“å·¥åŽ‚ã€‚ä¸ºäº†ç»Ÿä¸€ï¼Œéœ€è¦åˆ¶å®šä¸€ä¸ªæŽ¥å£è§„èŒƒï¼ˆIProductFactoryï¼‰ï¼Œæ‰€æœ‰çš„å…·ä½“å·¥åŽ‚å’ŒæŠ½è±¡å·¥åŽ‚éƒ½è¦å®žçŽ°è¿™ä¸ªæŽ¥å£ï¼ŒIProductFactoryæŽ¥å£è®¾è®¡æˆã€‚ 123public interface IProductFactory &#123; IProduct createProduct(String proNo);&#125; è°ƒç”¨è€…ä¸ç”¨ç†ä¼šProductFactoryä¸éœ€è¦åŽ»ç†ä¼šProductFactoryé€‰æ‹©ä½¿ç”¨å“ªä¸ªå…·ä½“å·¥åŽ‚çš„è§„åˆ™ã€‚å¯¹äºŽè®¾è®¡è€…è€Œè¨€ProductFactoryå°±æ˜¯ä¸€ä¸ªæŠ½è±¡å·¥åŽ‚ï¼Œæ¯ä¸€ä¸ªå·¥åŽ‚åªéœ€è¦ç»´æŠ¤å…¶ç±»åž‹äº§å“å¯¹è±¡çš„ç”Ÿæˆï¼Œå…·ä½“çš„å·¥åŽ‚è§„åˆ™ä¹Ÿä¸ä¼šç‰¹åˆ«å¤æ‚ï¼Œéš¾ä»¥ç»´æŠ¤ã€‚]]></content>
      <categories>
        <category>JAVAæ¨¡å¼</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ³›åž‹]]></title>
    <url>%2F2018%2F04%2F26%2F%E6%B3%9B%E5%9E%8B%2F</url>
    <content type="text"><![CDATA[æ–¹æ³•å‚æ•°ï¼šå®šä¹‰æ–¹æ³•æ—¶æœ‰å½¢å‚ï¼Œè°ƒç”¨æ–¹æ³•æ—¶ä¼ é€’å®žå‚ã€‚ æ³›åž‹ï¼Œå³â€œå‚æ•°åŒ–ç±»åž‹â€ï¼Œå³å°†ç±»åž‹ç”±åŽŸæ¥å…·ä½“çš„ç±»åž‹å‚æ•°åŒ–ï¼Œç±»ä¼¼äºŽæ–¹æ³•ä¸­çš„å˜é‡å‚æ•°ï¼Œæ­¤æ—¶ç±»åž‹ä¹Ÿå®šä¹‰æˆå‚æ•°å½¢å¼ï¼ˆå¯ä»¥ç§°ä¹‹ä¸ºç±»åž‹å½¢å‚ï¼‰ï¼Œç„¶åŽåœ¨ä½¿ç”¨/è°ƒç”¨æ—¶ä¼ å…¥å…·ä½“çš„ç±»åž‹ï¼ˆç±»åž‹å®žå‚ï¼‰ã€‚ æ³›åž‹çš„æœ¬è´¨æ˜¯ä¸ºäº†å‚æ•°åŒ–ç±»åž‹ï¼ˆåœ¨ä¸åˆ›å»ºæ–°çš„ç±»åž‹çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡æ³›åž‹æŒ‡å®šçš„ä¸åŒç±»åž‹æ¥æŽ§åˆ¶å½¢å‚å…·ä½“é™åˆ¶çš„ç±»åž‹ï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨æ³›åž‹ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œæ“ä½œçš„æ•°æ®ç±»åž‹è¢«æŒ‡å®šä¸ºä¸€ä¸ªå‚æ•°ï¼Œè¿™ç§å‚æ•°ç±»åž‹å¯ä»¥ç”¨åœ¨ç±»ã€æŽ¥å£å’Œæ–¹æ³•ä¸­ï¼Œåˆ†åˆ«è¢«ç§°ä¸ºæ³›åž‹ç±»ã€æ³›åž‹æŽ¥å£ã€æ³›åž‹æ–¹æ³•ã€‚]]></content>
      <categories>
        <category>JAVA</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ArrayæŽ’åº]]></title>
    <url>%2F2018%2F04%2F26%2FArray%E6%8E%92%E5%BA%8F%2F</url>
    <content type="text"><![CDATA[Arrayå¼‚å¸¸123456789101112131415161718static String[] sArr; public static void main(String[] args) &#123; int[] iArr = new int[4]; // æ•°ç»„ä¸‹æ ‡ä»Ž0å¼€å§‹ï¼Œæœ€å¤§å€¼ é•¿åº¦-1 3 System.out.println(iArr.length); System.out.println(iArr.length-1); // æ•°ç»„é€šè¿‡ä¸‹æ ‡è®¿é—® System.out.println(iArr[1]); // ArrayIndexOutOfBoundsException (å¼‚å¸¸): 4ï¼ˆè¶Šç•Œçš„ä½ç½®ï¼‰ // at ......ArrException.main(ArrException.java:12) åœ¨å“ªä¸ªç±».å“ªä¸ªæ–¹æ³• å“ªä¸€è¡Œä»£ç  // æ²¡è®²å¼‚å¸¸æ€Žä¹ˆå¤„ç†ä¹‹å‰ï¼Œä¸€æ—¦å‘ç”Ÿå¼‚å¸¸ï¼Œç¨‹åºå°±ä¼šç»ˆæ­¢ // System.out.println(iArr[4]); // lang.NullPointerException è¿è¡Œæ—¶å¼‚å¸¸ï¼Œä¿—ç§°çš„BUG System.out.println(sArr.length); &#125; å¸¦æœ‰éšæœºæ•°1234567891011121314151617public static void main(String[] args) &#123; // æ•´åž‹æ•°ç»„ï¼Œé•¿åº¦ä¸º5ï¼Œä¸ºç»™ä»–ä»¬ä¾æ¬¡èµ‹å€¼[0,100],ä¹‹é—´çš„éšæœºæ•° int[] iArr = new int[5]; for (int i = 0; i &lt; iArr.length; i++) &#123; // [0.0,1.0)-&gt;[0.0,101) double int score = (int)(Math.random() * 101); iArr[i] = score; &#125; // [0.0,1.0)-&gt; [0.0,80] + 20 -&gt;[20.0,100] // Math.random() * 81 + 20 System.out.println(&quot;===========&quot;); // æ•°ç»„ä¸­å…ƒç´ çš„ç±»åž‹ å˜é‡æŽ¥æ”¶éåŽ†å¾—åˆ°çš„å…ƒç´ :æ•°ç»„ for (int x:iArr) &#123; System.out.println(x); &#125; &#125; ç»ƒä¹ 1234567891011121314151617public static void main(String[] args) &#123; String[] sArr = &#123;&quot;å…¬å­™ç¦»&quot;,&quot;å­™æ‚Ÿç©º&quot;,&quot;è¾¾æ‘©&quot;,&quot;é»„å¿ &quot;,&quot;å¦²å·±&quot;&#125;; String[] sArr1 = new String[3]; // éšæœºäº§ç”ŸsArrçš„ä¸‹æ ‡ï¼Œå°†å¯¹åº”ä¸‹æ ‡çš„å€¼èµ‹å€¼ç»™sArr1(äº§ç”Ÿ3æ¬¡èµ‹å€¼3æ¬¡) // ï¼Œè¾“å‡ºsArr1 for (int i = 0; i &lt;sArr1.length; i++) &#123; int index = (int)(Math.random() * sArr.length); sArr1[i] = sArr[index]; &#125; for (int i = 0; i &lt; sArr1.length; i++) &#123; System.out.println(sArr1[i]); &#125; for (String hero:sArr1 ) &#123; System.out.println(hero); &#125; &#125; æ±‚æœ€å¤§å€¼1234567891011121314151617181920212223public static void main(String[] args) &#123; // éšæœºäº§ç”Ÿä¸€ä¸ª5ä¸ªå…ƒç´ çš„æ•´åž‹æ•°ç»„ï¼Œæ±‚è¯¥æ•°ç»„ä¸­çš„æœ€å¤§å€¼ [30-120] int[] iArr = new int[5]; for (int i = 0; i &lt; iArr.length; i++) &#123; int data =(int) (Math.random() * 91) + 30; iArr[i] = data; &#125; for (int x:iArr) &#123; System.out.print(x + &quot; &quot;); &#125; System.out.println(); // å‡è®¾ç¬¬ä¸€ä¸ªæ˜¯æœ€å¤§å€¼ï¼Œé‚£è¿™ä¸ªå€¼è·Ÿæ•°ç»„ä¸­å…¶ä»–çš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒ // å¦‚æžœå¤§äºŽä»–ï¼Œå°†è¿™ä¸ªå¤§çš„å€¼è¦†ç›–åŽŸæœ€å¤§å€¼ int maxValue = iArr[0]; for (int i = 1; i &lt; iArr.length; i++) &#123; if (maxValue &lt; iArr[i])&#123; maxValue = iArr[i]; &#125; &#125; System.out.println(maxValue); &#125; äºŒåˆ†æŸ¥æ‰¾åœ¨ä¸€ä¸ªæœ‰åºæ•°ç»„ä¸­æŸ¥æ‰¾æŸä¸ªå…ƒç´ æ˜¯å¦å­˜åœ¨ æ•°ç»„ arrï¼šæœ€å¤§å°æ ‡ æœ€å°ä¸‹æ ‡ ï¼ˆlowIndex + uperIndexï¼‰/ 2 -&gt; middleIndex arr[middleIndex] ä¸Žå¾…æŸ¥æ‰¾å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æžœå¤§äºŽï¼Œè¯´æ˜Žåœ¨middleIndexçš„å·¦è¾¹ â€‹ å¦‚æžœå°äºŽï¼Œè¯´æ˜Žåœ¨middleIndexçš„å³è¾¹ é‡æ–°è°ƒæ•´lowIndex æˆ– uperIndex -ã€‹middleIndex åœ¨è¿›è¡Œæ¯”è¾ƒ å¦‚æžœæ‰¾åˆ°äº†ï¼Œæ¡ä»¶æ˜¯ä»€ä¹ˆ å¦‚æžœæ²¡æ‰¾åˆ°ï¼Œæ¡ä»¶åˆæ˜¯ä»€ä¹ˆ 135 40 48 86 95 123456789101112131415161718192021222324252627282930static int[] iArr = &#123;12,33,38,49,50,66&#125;; public static void main(String[] args) &#123; binarySearch(); &#125; public static void binarySearch()&#123; Scanner scanner = new Scanner(System.in); int value = scanner.nextInt(); int lowIndex = 0; int upperIndex = iArr.length - 1; int middleIndex = 0; while(lowIndex &lt;= upperIndex)&#123; // å‡ºå£æ¡ä»¶æŽ§åˆ¶ middleIndex = (lowIndex + upperIndex) / 2; if(iArr[middleIndex] == value)&#123; System.out.println(middleIndex); break; &#125; else if(iArr[middleIndex] &gt; value)&#123; upperIndex = middleIndex-1; &#125; else &#123; lowIndex = middleIndex + 1; &#125; &#125; if(lowIndex &gt; upperIndex) &#123; // æ€Žæ ·åˆ¤æ–­æ²¡æœ‰æ‰¾åˆ° System.out.println(&quot;æ²¡æœ‰æ‰¾åˆ°&quot;); &#125; &#125; å†’æ³¡æŽ’åºä»Žå°åˆ°å¤§æŽ’åºï¼Œä¸¤ä¸¤æ¯”è¾ƒï¼Œå¦‚æžœå‰é¢çš„å¤§äºŽåŽé¢ï¼Œå°±äº¤æ¢ä»–ä»¬çš„ä½ç½®ï¼Œç»è¿‡å¤šè½®æ¯”è¾ƒä¹‹é—´ï¼Œå®žçŽ°ä»Žå°åˆ°å¤§ 1234548 95 35 86 40 48 35 86 40 9535 48 40 86 9535 40 48 86 9535 40 48 86 95 123456789101112131415161718static int[] iArr = &#123;48,95,35,86,40&#125;; public static void main(String[] args) &#123; for (int i = 0 ; i &lt; iArr.length-1; i ++) &#123; for (int j = 0; j &lt; iArr.length - i - 1; j++) &#123; if(iArr[j] &gt; iArr[j+1])&#123; // äº¤æ¢ä¸¤ä¸ªå…ƒç´ çš„ä½ç½®ï¼Œéœ€è¦å¼•å…¥ç¬¬ä¸‰ä¸ªå˜é‡ int temp = iArr[j]; iArr[j] = iArr[j+1]; iArr[j+1] = temp; &#125; &#125; &#125; for (int x:iArr) &#123; System.out.println(x); &#125; &#125; æ”¹è‰¯çš„å†’æ³¡æŽ’åº-ã€‹å¿«é€ŸæŽ’åº é€‰æ‹©æŽ’åº123448,95,35,86,40-&gt;35,95,48,86,4035,95,48,86,40-&gt;35,48,95,86,40-&gt;35 40 95 86 4835 40 95 86 48-&gt;35 40 86 95 48 -&gt;35 40 48 86 95 35 40 48 86 95 -&gt; 12345678910111213141516static int[] iArr = &#123;48,95,35,86,40&#125;; public static void main(String[] args) &#123; for (int i = 0; i &lt; iArr.length-1; i++) &#123; for (int j = i; j &lt; iArr.length; j++) &#123; if(iArr[i] &gt; iArr[j])&#123; int temp = iArr[i]; iArr[i] = iArr[j]; iArr[j] = temp; &#125; &#125; &#125; for (int x:iArr) &#123; System.out.println(x); &#125; &#125; Arrays12345678910111213static int[] iArr = &#123;32,34,12,2,11,22,45&#125;; public static void main(String[] args) &#123; // ascendingå‡åº descé™åº Arrays.sort(iArr); for (int x:iArr) &#123; System.out.println(x); &#125; // è¿”å›žå¤§äºŽç­‰äºŽ0,è¡¨ç¤ºæŸ¥æ‰¾åˆ°äº†æ•°æ®ï¼Œå¦åˆ™æ²¡æœ‰æ‰¾åˆ° int index = Arrays.binarySearch(iArr, 32); System.out.println(index); &#125;]]></content>
      <categories>
        <category>JAVA</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¾ªçŽ¯ç»“æž„&&æ¡ä»¶è¯­å¥]]></title>
    <url>%2F2018%2F04%2F21%2F%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84-%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5%2F</url>
    <content type="text"><![CDATA[switch-case-breakSwitch-case-break 1ã€ä½¿ç”¨breakè¯­å¥ï¼Œé˜²æ­¢caseç©¿é€ 2ã€ defaultå¯ä»¥çœç•¥ï¼Œä½†ä¸æŽ¨èçœç•¥ 3ã€ switchè¯­å¥ä¸­æŽ§åˆ¶è¡¨è¾¾å¼çš„ç±»åž‹åªèƒ½æ˜¯byteã€shortã€charã€intã€Stringï¼ˆJDK7æ–°å¢žï¼‰å’Œæžšä¸¾ 123456789101112131415161718192021222324252627282930313233public static void main(String[] args) &#123; // ä»Žé”®ç›˜æŽ¥æ”¶è¾“å…¥ï¼Œä¸€ä¸²å­—ç¬¦ä¸² // å¦‚æžœè¾“å…¥çš„æ˜¯ç¯®çƒï¼Œè¾“å‡ºï¼Œçˆ±å¥½æ˜¯ç¯®çƒ // å¦‚æžœè¾“å…¥çš„æ˜¯è¶³çƒï¼Œè¾“å‡ºï¼Œçˆ±å¥½æ˜¯è¶³çƒ // å¦‚æžœè¾“å…¥çš„æ˜¯ç½‘çƒï¼Œè¾“å‡ºï¼Œçˆ±å¥½æ˜¯ç½‘çƒ // å¦‚æžœè¾“å…¥çš„ä¸æ˜¯ä¸Šè¿°ä¿¡æ¯ï¼Œè¾“å‡ºè¾“å…¥ä¸åˆæ³• // default:å¦‚æžœè¾“å…¥çš„ä¿¡æ¯éƒ½æ²¡æœ‰å‡ºçŽ°åœ¨caseä¸­ï¼Œåˆ™ä¸ºdefault // break:è·³å‡ºswitchè¯­å¥ Scanner scanner = new Scanner(System.in); // æŽ¥æ”¶é”®ç›˜è¾“å…¥çš„å­—ç¬¦ä¸² ctrl + q String hobby = scanner.nextLine(); // å¼€å…³ é€‰æ‹© byteã€shortã€charã€intã€Stringï¼ˆJDK7æ–°å¢žï¼‰å’Œæžšä¸¾ switch (hobby)&#123; case &quot;ç¯®çƒ&quot;: case &quot;ä¹’ä¹“çƒ&quot;: System.out.println(&quot;çˆ±å¥½æ˜¯ç¯®çƒæˆ–ä¹’ä¹“çƒ&quot;); break; // å¦‚æžœæ²¡æœ‰break,caseè¯­å¥ç©¿é€ // å¯ä»¥å‡ºçŽ°åœ¨switchçš„ä»»ä½•ä½ç½®ï¼Œæ‰§è¡Œä¸ä¼šå—åˆ°å½±å“ default: System.out.println(&quot;è¾“å…¥ä¸åˆæ³•&quot;); break; case &quot;è¶³çƒ&quot;: System.out.println(&quot;çˆ±å¥½æ˜¯è¶³çƒ&quot;); break; case &quot;ç½‘çƒ&quot;: System.out.println(&quot;çˆ±å¥½æ˜¯ç½‘çƒ&quot;); break; &#125; &#125; å¼•ç”¨ç±»åž‹å¤„ç†åŸºæœ¬æ•°æ®ç±»åž‹ï¼Œéƒ½æ˜¯å¼•ç”¨ç±»åž‹ å¼•ç”¨ç±»åž‹ï¼Œä½¿ç”¨==æ¯”è¾ƒä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼Œæ¯”è¾ƒçš„æ˜¯å­˜å‚¨åœ°å€æ˜¯å¦ç›¸ç­‰ åªè¦æ˜¯newï¼ˆæ–°å»ºï¼‰å‡ºæ¥çš„ä¸œè¥¿ï¼Œä¸€å®šä¼šåœ¨å †ä¸­ï¼ˆheapï¼‰é‡æ–°å¼€è¾Ÿç©ºé—´æ¥å­˜å‚¨å…¶æ•°æ® 1String word2 = new String(&quot;Everyone,there is a world, quiet and lonely there live something!&quot;); 123// åŽé¢çš„å­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªå¸¸é‡ï¼ŒStringæ˜¯ä¸å¯å˜çš„ï¼Œå¸¸é‡å­˜å‚¨åœ¨å¸¸é‡åŽ»ï¼Œå¯ä»¥å…±ç”¨String word = &quot;Everyone,there is a world, quiet and lonely there live something!&quot;;String word1 = &quot;Everyone,there is a world, quiet and lonely there live something!&quot;; å®žä¾‹ä»£ç  1234567891011121314151617181920public static void main(String[] args) &#123; String word = &quot;Everyone,there is a world, quiet and lonely there live something!&quot;; String word1 = &quot;Everyone,there is a world, quiet and lonely there live something!&quot;; String word2 = new String(&quot;Everyone,there is a world, quiet and lonely there live something!&quot;); System.out.println(word); System.out.println(word2); System.out.println(word == word1); System.out.println(word == word2); // ä¸ç®¡å­˜å‚¨åœ¨ä»€ä¹ˆæ–¹æ³•ï¼Œéƒ½å¯ä»¥è½»æ¾åˆ¤æ–­å€¼æ˜¯å¦ç›¸åŒï¼Œè¿™ä¸ªæ–¹æ³•å°±æ˜¯equalsæ–¹æ³• // æ¯”è¾ƒä¸¤ä¸ªå¼•ç”¨ç±»åž‹çš„å˜é‡å€¼æ˜¯å¦ç›¸åŒï¼Œä½¿ç”¨equalsæ–¹æ³•ï¼ŒåŽé¢æ¶‰åŠåˆ°å¯¹è±¡æ—¶ï¼Œ // ä¼šæ¶‰åŠåˆ°é‡å†™equalsæ–¹æ³• System.out.println(word.equals(word2));// int a = 10;// int b = 20;// System.out.println(a == b); // å­—ç¬¦ä¸²åˆ†å‰² // å­—ç¬¦ä¸²æˆªå– // æŸ¥æ‰¾ &#125; Stringçš„equalsæ–¹æ³•å®žçŽ° 12345678910111213141516171819202122232425262728293031word.equals(word2)word2 - ä¼ é€’ç»™ ã€‹ anObjectpublic boolean equals(Object anObject) &#123; // == æ¯”è¾ƒçš„æ˜¯åœ°å€ï¼Œå¦‚æžœåœ°å€ç›¸åŒï¼Œé‚£ä¹ˆå€¼ä¸€å®šç›¸åŒ if (this == anObject) &#123; return true; &#125; // instanceofåˆ¤æ–­anObjectæ˜¯å¦æ˜¯Stringç±»åž‹çš„ if (anObject instanceof String) &#123; // å°†anObjectä»ŽObjectç±»åž‹è½¬æ¢åˆ°Stringç±»åž‹ // èµ‹å€¼ç»™anotherString String anotherString = (String)anObject; // word =è½¬æ¢æˆå­—ç¬¦æ•°ç»„=&gt; value,å¾—åˆ°wordçš„é•¿åº¦ int n = value.length; // åˆ¤æ–­ä¸¤ä¸ªæ¯”è¾ƒçš„å­—ç¬¦ä¸²é•¿åº¦æ˜¯å¦ç›¸ç­‰ if (n == anotherString.value.length) &#123; char v1[] = value;// &#123;&apos;E&apos;,&apos;v&apos;,&apos;e&apos;,&apos;r&apos;,&apos;y&apos;&#125; // &#123;&apos;E&apos;,&apos;v&apos;,&apos;e&apos;,&apos;r&apos;,&apos;y&apos;&#125; char v2[] = anotherString.value; int i = 0; while (n-- != 0) &#123; if (v1[i] != v2[i]) return false; i++; &#125; return true; &#125; &#125; return false; &#125; String å­—ç¬¦ä¸² ç±» / å¯¹è±¡/å®žä¾‹ do-whileä¸Žwhileçš„åŒºåˆ« do-whileè‡³å°‘ä¼šæ‰§è¡Œå¾ªçŽ¯ä¸€æ¬¡ï¼Œå…ˆå¾ªçŽ¯ï¼Œå†åˆ¤æ–­ while å…ˆåˆ¤æ–­ å†å¾ªçŽ¯ 123456789101112public static void main(String[] args) &#123; int i = 10; // å…ˆåˆ¤æ–­åŽæ‰§è¡Œ while(i &lt; 10)&#123; System.out.println(&quot;while&quot; + i); &#125; // å…ˆæ‰§è¡Œ åŽåˆ¤æ–­ do&#123; System.out.println(&quot;do-while &quot; + i); &#125; while (i &lt; 10); &#125; æ³¨æ„ï¼šä¸ç®¡æ˜¯ä»€ä¹ˆå¾ªçŽ¯ï¼Œä¸€å®šè¦ç»™ä¸€ä¸ªå‡ºå£æ¡ä»¶ï¼Œå¦åˆ™äº§ç”Ÿæ­»å¾ªçŽ¯ï¼Œå¯¹ç¨‹åºé€ æˆæ˜¯æ¯ç­æ€§çš„æ‰“å‡»ã€‚ åµŒå¥—forå¾ªçŽ¯12345678910111213141516public static void main(String[] args) &#123; /*int i = 0; for( ; i &lt; 10; i ++) &#123; &#125; System.out.println(i);*/ ///for(;;)&#123;&#125; // æ­»å¾ªçŽ¯ // 99ä¹˜æ³•è¡¨ for(int j = 1; j &lt;= 9; j++) &#123; for(int i = 1; i &lt;= j; i++)&#123; System.out.print(i + &quot; * &quot; + j + &quot; = &quot; + (i * j) + &quot;\t&quot;); &#125; System.out.println(); &#125; &#125; return-break-continuereturnè¿”å›ž - ç»“æŸæ–¹æ³• 12345678910111213141516171819202122232425262728293031323334353637public static void main(String[] args) &#123; test(); test1(); String content = test2(); System.out.println(content); &#125; public static void test()&#123; String word = &quot;å¤©ä¸‹é£Žäº‘å‡ºæˆ‘è¾ˆï¼Œä¸€å…¥æ±Ÿæ¹–å²æœˆå‚¬ã€‚çš‡å›¾éœ¸ä¸šè°ˆç¬‘ä¸­ï¼Œä¸èƒœäººç”Ÿä¸€åœºé†‰ã€‚&quot;; System.out.println(word); // ç»“æŸæ–¹æ³•ï¼Œå…¶åŽä¸èƒ½å†å†™ä»£ç  return; &#125; // void æ— è¿”å›žå€¼ public static void test1()&#123; String word = &quot;å¤©ä¸‹é£Žäº‘å‡ºæˆ‘è¾ˆï¼Œä¸€å…¥æ±Ÿæ¹–å²æœˆå‚¬ã€‚çš‡å›¾éœ¸ä¸šè°ˆç¬‘ä¸­ï¼Œä¸èƒœäººç”Ÿä¸€åœºé†‰ã€‚&quot;; System.out.println(word); // ç»“æŸæ–¹æ³•ï¼Œå…¶åŽä¸èƒ½å†å†™ä»£ç  if(word.equals(&quot;å¤©ä¸‹é£Žäº‘å‡ºæˆ‘è¾ˆï¼Œä¸€å…¥æ±Ÿæ¹–å²æœˆå‚¬ã€‚çš‡å›¾éœ¸ä¸šè°ˆç¬‘ä¸­ï¼Œä¸èƒœäººç”Ÿä¸€åœºé†‰ã€‚&quot;)) &#123; // ç»“æŸæ–¹æ³• return; &#125; System.out.println(&quot;returnä¹‹åŽä»£ç &quot;); &#125; // String æ–¹æ³•çš„è¿”å›žå€¼å¿…é¡»æ˜¯ä¸€ä¸ªStringç±»åž‹çš„å†…å®¹ // å¿…é¡»è¦æœ‰returnè¿”å›ž public static String test2()&#123; String word = &quot;å¤©ä¸‹é£Žäº‘å‡ºæˆ‘è¾ˆï¼Œä¸€å…¥æ±Ÿæ¹–å²æœˆå‚¬ã€‚çš‡å›¾éœ¸ä¸šè°ˆç¬‘ä¸­ï¼Œä¸èƒœäººç”Ÿä¸€åœºé†‰ã€‚&quot;; System.out.println(word); // ç»“æŸæ–¹æ³•ï¼Œå…¶åŽä¸èƒ½å†å†™ä»£ç  if(word.equals(&quot;å¤©ä¸‹é£Žäº‘å‡ºæˆ‘è¾ˆï¼Œä¸€å…¥æ±Ÿæ¹–å²æœˆå‚¬ã€‚çš‡å›¾éœ¸ä¸šè°ˆç¬‘ä¸­ï¼Œä¸èƒœäººç”Ÿä¸€åœºé†‰ã€‚&quot;)) &#123; // ç»“æŸæ–¹æ³• return &quot;abc&quot;; // è¿”å›žåˆ°æ–¹æ³•è°ƒç”¨çš„åœ°æ–¹ &#125; System.out.println(&quot;returnä¹‹åŽä»£ç &quot;); return &quot;aaa&quot;;// è¿”å›žåˆ°æ–¹æ³•è°ƒç”¨çš„åœ°æ–¹ &#125; break123456789101112131415161718192021222324252627282930313233// break public static void main(String[] args) &#123; int x = 10; switch (x)&#123; case 1: break; // è·³å‡ºswitchè¯­å¥ï¼Œé˜²æ­¢caseè¯­å¥ç©¿é€ default: break; &#125; //å¾ªçŽ¯é‡Œé¢çš„break for (int i = 0; i &lt; 10; i ++) &#123; if (i == 5)&#123; break;// è·³å‡ºæ‰€åœ¨çš„å¾ªçŽ¯ &#125; System.out.println(i); &#125; System.out.println(&quot;break è·³å‡ºæ¥æ‰§è¡Œæ­¤å¤„&quot;); for(int i = 0; i &lt; 3; i ++)&#123; for(int j = 0; j &lt; 4; j ++)&#123; if(j == 2)&#123; break; &#125; System.out.println(j); &#125; &#125; boolean isRunning = true; while(isRunning) &#123;// break; isRunning = false; &#125; &#125; continue1234567for (int i = 0; i &lt; 10; i++) &#123; if(i == 5) &#123; continue; // è·³è¿‡æœ¬æ¬¡å¾ªçŽ¯ï¼Œå…¶åŽçš„å¾ªçŽ¯ä»£ç ä¸åœ¨æ‰§è¡Œ &#125; System.out.println(i); &#125;]]></content>
      <categories>
        <category>JAVA</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java]]></title>
    <url>%2F2018%2F04%2F19%2FJava%2F</url>
    <content type="text"><![CDATA[[TOC] çŽ¯å¢ƒé…ç½®Javaâ€‹ ä¸¤ä¸ªè·¯å¾„ JDK D:/Java/Jdk1.8.112 Java Development Kit javaå¼€å‘å·¥å…·åŒ… JRE D:/Java/Jre Java Runtime Enviroment Javaè¿è¡ŒçŽ¯å¢ƒ â€‹ åŽç»­webä¸­å¯èƒ½ä¼šé‡åˆ°é—®é¢˜ï¼Œå¦‚æžœå°†jreè£…åˆ°jdkä¸­ WIN + d å›žåˆ°æ¡Œé¢ WIN + e æ‰“å¼€æ–‡ä»¶èµ„æºç®¡ç†å™¨ WIN + R æ‰“å¼€è¿è¡Œçª—å£ win+e-ã€‹è¿™å°ç”µè„‘/æ¡Œé¢ä¸Šæˆ‘çš„ç”µè„‘ -ã€‹ å³å‡» -ã€‹ å·¦è¾¹æœ‰ä¸ªé«˜çº§ç³»ç»Ÿè®¾ç½®-ã€‹çŽ¯å¢ƒå˜é‡ -ã€‹ ç³»ç»Ÿå˜é‡-ã€‹æ–°å»º-ã€‹å˜é‡å: -ã€‹ç¡®å®š 123456**æµ‹è¯•**win + r -&gt;è¾“å…¥cmd-ã€‹å‡ºæ¥çª—å£ä¸­è¾“å…¥ **java** C:\Users\86137&gt;javaç”¨æ³•: java [-options] class [argsâ€¦] (æ‰§è¡Œç±») æˆ– java [-options] -jar jarfile [argsâ€¦] (æ‰§è¡Œ jar æ–‡ä»¶)å…¶ä¸­é€‰é¡¹åŒ…æ‹¬: -d32 ä½¿ç”¨ 32 ä½æ•°æ®æ¨¡åž‹ (å¦‚æžœå¯ç”¨) -d64 ä½¿ç”¨ 64 ä½æ•°æ®æ¨¡åž‹ (å¦‚æžœå¯ç”¨) -server é€‰æ‹© â€œserverâ€ VM é»˜è®¤ VM æ˜¯ server. -cp &lt;ç›®å½•å’Œ zip/jar æ–‡ä»¶çš„ç±»æœç´¢è·¯å¾„&gt; -classpath &lt;ç›®å½•å’Œ zip/jar æ–‡ä»¶çš„ç±»æœç´¢è·¯å¾„&gt; ç”¨ ; åˆ†éš”çš„ç›®å½•, JAR æ¡£æ¡ˆ å’Œ ZIP æ¡£æ¡ˆåˆ—è¡¨, ç”¨äºŽæœç´¢ç±»æ–‡ä»¶ã€‚ -D&lt;åç§°&gt;=&lt;å€¼&gt; è®¾ç½®ç³»ç»Ÿå±žæ€§ -verbose:[class|gc|jni] å¯ç”¨è¯¦ç»†è¾“å‡º -version è¾“å‡ºäº§å“ç‰ˆæœ¬å¹¶é€€å‡º12**javac** C:\Users\86137&gt;javacç”¨æ³•: javac å…¶ä¸­, å¯èƒ½çš„é€‰é¡¹åŒ…æ‹¬: -g ç”Ÿæˆæ‰€æœ‰è°ƒè¯•ä¿¡æ¯ -g:none ä¸ç”Ÿæˆä»»ä½•è°ƒè¯•ä¿¡æ¯ -g:{lines,vars,source} åªç”ŸæˆæŸäº›è°ƒè¯•ä¿¡æ¯ -nowarn ä¸ç”Ÿæˆä»»ä½•è­¦å‘Š -verbose è¾“å‡ºæœ‰å…³ç¼–è¯‘å™¨æ­£åœ¨æ‰§è¡Œçš„æ“ä½œçš„æ¶ˆæ¯ -deprecation è¾“å‡ºä½¿ç”¨å·²è¿‡æ—¶çš„ API çš„æºä½ç½® -classpath &lt;è·¯å¾„&gt; æŒ‡å®šæŸ¥æ‰¾ç”¨æˆ·ç±»æ–‡ä»¶å’Œæ³¨é‡Šå¤„ç†ç¨‹åºçš„ä½ç½® -cp &lt;è·¯å¾„&gt; æŒ‡å®šæŸ¥æ‰¾ç”¨æˆ·ç±»æ–‡ä»¶å’Œæ³¨é‡Šå¤„ç†ç¨‹åºçš„ä½ç½® -sourcepath &lt;è·¯å¾„&gt; æŒ‡å®šæŸ¥æ‰¾è¾“å…¥æºæ–‡ä»¶çš„ä½ç½® -bootclasspath &lt;è·¯å¾„&gt; è¦†ç›–å¼•å¯¼ç±»æ–‡ä»¶çš„ä½ç½® -extdirs &lt;ç›®å½•&gt; è¦†ç›–æ‰€å®‰è£…æ‰©å±•çš„ä½ç½® -endorseddirs &lt;ç›®å½•&gt; è¦†ç›–ç­¾åçš„æ ‡å‡†è·¯å¾„çš„ä½ç½® -proc:{none,only} æŽ§åˆ¶æ˜¯å¦æ‰§è¡Œæ³¨é‡Šå¤„ç†å’Œ/æˆ–ç¼–è¯‘ã€‚ -processor [,,â€¦] è¦è¿è¡Œçš„æ³¨é‡Šå¤„ç†ç¨‹åºçš„åç§°; ç»•è¿‡é»˜è®¤çš„æœç´¢è¿›ç¨‹ -processorpath &lt;è·¯å¾„&gt; æŒ‡å®šæŸ¥æ‰¾æ³¨é‡Šå¤„ç†ç¨‹åºçš„ä½ç½® 12**java -version** C:\Users\86137&gt;java -versionjava version â€œ1.8.0_202â€Java(TM) SE Runtime Environment (build 1.8.0_202-b08)Java HotSpot(TM) 64-Bit Server VM (build 25.202-b08, mixed mode) 1234567891011121314151617181920212223242526272829303132333435363738æ³¨æ„ï¼š**æ¯ä¿®æ”¹ä¸€æ¬¡çŽ¯å¢ƒå˜é‡ï¼Œéœ€è¦æ‰“å¼€ä¸€ä¸ªæ–°çš„å‘½ä»¤è¡Œçª—å£æµ‹è¯•**## Idea Eclipseé›†æˆå¼€å‘çŽ¯å¢ƒIDEA 32ä½ 64ä½éƒ½å¯ä»¥å®‰è£…ï¼Œ 64ä½é€‰æ‹©64ä½å¯åŠ¨çš„å¿«æ·æ–¹å¼ï¼ˆLauncherï¼‰## JVM Java virtual machine javaè™šæ‹Ÿæœºï¼Œä¿è¯è·¨å¹³å°,å¹³å°æ— å…³æ€§,ä¸€æ¬¡ç¼–è¯‘ï¼Œå¤šä¸ªå¹³å°éƒ½å¯ä»¥è¿è¡Œã€‚![](C:/Users/NiGulas/Desktop/essay/img/day01-01.png)Javaæ–‡ä»¶ -&gt; ç¼–è¯‘ç”Ÿæˆclassæ–‡ä»¶ï¼ˆå­—èŠ‚ç æ–‡ä»¶ï¼ŒäºŒè¿›åˆ¶æ–‡ä»¶ï¼‰-ã€‹åŠ è½½åˆ°JVMä¸­è¿è¡ŒJVM - Windows - Mac- Linuxæ¯ä¸ªæ“ä½œç³»ç»Ÿä¸­å®‰è£…JVMåŽï¼Œéƒ½å¯ä»¥åŠ è½½classæ–‡ä»¶æ‰§è¡Œï¼ŒJavaå…·æœ‰è·¨å¹³å°ç‰¹æ€§ï¼Œä¸€æ¬¡ç¼–è¯‘ï¼Œå¤šå¤„è¿è¡Œ## GCGarbage collectionåžƒåœ¾å›žæ”¶æœºåˆ¶, C,C++,free deleteéœ€è¦æ‰‹åŠ¨è°ƒç”¨ï¼Œé‡Šæ”¾å­˜å‚¨ç©ºé—´/å¯¹è±¡/è¿žæŽ¥æ± ---å†…å­˜èµ„æºJavaé‡Œé¢åžƒåœ¾ï¼ˆèµ„æºï¼‰è‡ªåŠ¨å›žæ”¶ï¼Œåžƒåœ¾èµ„æºå³æ—¶ç½®ç©º=null Student stu = new Student(); åˆ›å»ºäº†ä¸€ä¸ªå¯¹è±¡ï¼Œéœ€è¦åˆ†é…ç©ºé—´stu = null; å›žæ”¶çš„å‰æï¼Œè¿™æ ·ä¹‹åŽä¼šæ ¹æ®JVMå†…éƒ¨çš„åžƒåœ¾å›žæ”¶ç®—æ³•ï¼Œå½“è¾¾åˆ°ä¸€å®šæ¡ä»¶å¼€å§‹å›žæ”¶è¿™äº›èµ„æº 12345678910## IDEA å¼€å‘src ï¼šæºä»£ç ç›®å½•ï¼Œä»ŠåŽå†™ä»£ç éƒ½åœ¨srcä¸­å†™src-ã€‹å³å‡»-ã€‹new-ã€‹Java class**psvm** -&gt; ç”Ÿæˆmainæ–¹æ³•javaåº”ç”¨ç¨‹åºçš„å…¥å£ï¼Œå¦‚æžœè¦æ‰§è¡Œè¿™ä¸ªjavaæ–‡ä»¶ï¼Œä¸€å®šæ˜¯ä»Žè¿™ä¸ªmainæ–¹æ³•å¼€å§‹æ‰§è¡Œ public static void main(String[] args) { } 12**sout** System.out.println(); 12 System.out.println(â€œHello Worldâ€); 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586## æ”¹ç¼–ç GBK å›½æ ‡ç UTF-8 ä¸‡å›½ç  å›½é™…é€šç”¨ç¼–ç ç¼–ç ä¸ä¸€è‡´ä¼šå¯¼è‡´ä¹±ç File -&gt; Settings -&gt; Project Encoding / Default Encoding for .....## åŒ…packageå¤§å­¦é™¢ - ç³» - ç­Javaé¡¹ç›® -ã€‹ Javaæ–‡ä»¶æˆåƒä¸Šä¸‡ä¸ª-ã€‹æƒ³æ‰¾æŸä¸€ä¸ªæ–‡ä»¶å°±æœ‰å›°éš¾-ã€‹åˆ†åŒ…ç®¡ç†åŽæœŸï¼šservice dao pojo/bean contrller ........æ¯ä¸ªåŒ…ä¸­æ”¾è·Ÿè¿™ä¸ªåŒ…åå…³ç³»å¯†åˆ‡çš„ç›¸å…³æ–‡ä»¶æŒ‰å¤©åˆ†åŒ… -ã€‹ åŒ…æ€Žä¹ˆå‘½å-ã€‹ åŸŸåå€’ç½®åŸŸåï¼Ÿ baidu.com sina.com -&gt; com.baiduå®žé™…å·¥ä½œä¸­ï¼Œé¡¹ç›®çš„å‘½å com.baidu.ai.car.é¡¹ç›®æ¨¡å—src-&gt;å³å‡»-ã€‹new-ã€‹package-ã€‹com.train.day01## æ ‡è¯†ç¬¦ä½œç”¨ï¼šç”¨æ¥èµ·åå­—-ã€‹å˜é‡ æ–¹æ³•å ç±»å ......è§„åˆ™ï¼šç”±å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ï¼Œç¾Žå…ƒç¬¦$ç»„æˆï¼Œä¸”æ•°å­—ä¸èƒ½ä½œä¸ºå¼€å¤´abc -ã€‹ æ˜¯ 1abc-ã€‹ä¸æ˜¯ javaä¸­å‘½åè§„åˆ™ï¼š- ç±»åï¼šç”±æœ‰æ„ä¹‰çš„å•è¯ç»„æˆï¼Œå¹¶ä¸”æ¯ä¸ªå•è¯çš„é¦–å­—æ¯éƒ½è¦å¤§å†™ï¼Œå¦‚ï¼šHelloWorld OrderInfoï¼ˆå¤§é©¼å³°ï¼‰- å˜é‡åï¼šç”±æœ‰æ„ä¹‰çš„å•è¯ç»„æˆï¼Œç¬¬ä¸€ä¸ªå•è¯çš„é¦–å­—æ¯å°å†™ï¼Œå…¶åŽé‡åˆ°çš„æ¯ä¸ªå•è¯çš„é¦–å­—æ¯å¤§å†™ï¼Œå¦‚orderListï¼ŒuserOrderInfo- æ–¹æ³•åï¼šåŒå˜é‡å**æ³¨æ„** ä¼˜é›…çš„ä»£ç  UGLYçš„ä»£ç  ï¼Œè¿ç®—ç¬¦å·ï¼Œå¦‚æžœ + - =ï¼Œä¸¤è¾¹åŠ ä¸Šç©ºæ ¼## å˜é‡å†™ä»£ç ï¼Œä¸€å®šä¼šæ¶‰åŠåˆ°æ•°æ®çš„è®¡ç®—ï¼Œå­˜å‚¨ï¼Œä¿å­˜åœ¨å˜é‡é‡Œã€‚javaæ˜¯ä¸€ç§å¼ºç±»åž‹çš„è¯­è¨€ï¼šä»€ä¹ˆç±»åž‹çš„å˜é‡ï¼Œè£…è½½ä»€ä¹ˆç±»åž‹çš„æ•°æ®è¯­å¥çš„ç»“æŸï¼Œä½¿ç”¨åˆ†å· ;### å±€éƒ¨å˜é‡å®šä¹‰æ–¹æ³•å†…çš„å˜é‡ï¼Œæ–¹æ³•åŽçš„```&#123;```å¼€å§‹ï¼Œåˆ°```&#125;```ç»“æŸï¼Œéƒ½æ˜¯å±žäºŽè¿™ä¸ªæ–¹æ³•çš„èŒƒå›´ä½œç”¨åŸŸï¼šä»–æ‰€å¤„çš„æ–¹æ³•å†…ï¼Œä¹Ÿå°±æ˜¯æœ€è¿‘çš„```&#123; ```åˆ°``&#125; ``ç»“æŸæ³¨æ„ï¼š**å±€éƒ¨å˜é‡åœ¨ä½¿ç”¨å‰å¿…é¡»å…ˆåˆå§‹åŒ–ï¼Œåˆå§‹åŒ–å°±æ˜¯ç»™å®ƒèµ‹å€¼**### å…¨å±€å˜é‡/æˆå‘˜å˜é‡å®šä¹‰åœ¨ç±»çš„```&#123; &#125;```ä¹‹é—´çš„ä½œç”¨åŸŸï¼šæ•´ä¸ªç±»ä¸­éƒ½å¯ä»¥è®¿é—®æ³¨æ„ï¼š**åœ¨åŒ…å«static çš„æ–¹æ³•ä¸­ï¼Œç±»çš„åŠ è½½ï¼Œå…ˆåŠ è½½ é™æ€æˆå‘˜ åœ¨åŠ è½½éžé™æ€æˆå‘˜ï¼Œå¸¦æœ‰staticä¿®é¥°çš„å°±æ˜¯é™æ€æˆå‘˜**å…¨å±€å˜é‡ä¸Žå±€éƒ¨å˜é‡é‡åçš„æƒ…å†µä¸‹ï¼Œä¼˜å…ˆä½¿ç”¨å±€éƒ¨å˜é‡ï¼Œ**å°±è¿‘åŽŸåˆ™**## åŸºæœ¬æ•°æ®ç±»åž‹8ç§ï¼Œå­—æ¯å…¨éƒ¨å°å†™ byte short int long float double boolean char 1 2 4 8 4 8 1 2 byte short int long æ•´æ•° float double æµ®ç‚¹æ•°/å°æ•° boolean true / flase char å­—ç¬¦ è¡¨æ•°èŒƒå›´ æµ®ç‚¹æ•°å¸¦æœ‰å¹‚æ¬¡æ–¹ä½ 12### é»˜è®¤å€¼ public class BasicDataType { static int iVal; // 0 æ•´æ•°éƒ½æ˜¯0 static double dVal; // 0.0 æµ®ç‚¹æ•°éƒ½æ˜¯0.0 static boolean bVal; // false static char cVal; // ç©ºç™½ï¼ˆå•¥ä¹Ÿæ²¡æœ‰ï¼‰ public static void main(String[] args) { // å±€éƒ¨å˜é‡åœ¨ä½¿ç”¨å‰å¿…é¡»å…ˆåˆå§‹åŒ–ï¼Œåˆå§‹åŒ–å°±æ˜¯ç»™å®ƒèµ‹å€¼ // ä¼˜é›…çš„ä»£ç  UGLYçš„ä»£ç  // ctrl + d å¤åˆ¶ä¸Šé¢ä¸€è¡Œä»£ç åˆ°ä¸‹é¢ä¸€è¡Œ // ctrl + y åˆ é™¤ä¸€è¡Œ System.out.println(iVal); System.out.println(dVal); System.out.println(bVal); System.out.println(cVal); }} 12## floatä¸Žlong float f = 14.5f;// ä¸åŠ Lçš„æƒ…å†µä¸‹ï¼Œé»˜è®¤æ˜¯intç±»åž‹çš„ï¼Œå½“è¶…å‡ºintç±»åž‹çš„è¡¨æ•°èŒƒå›´æ—¶å°±ä¼šæŠ¥é”™// æ•…æˆ‘ä»¬åœ¨å£°æ˜Žlongç±»åž‹çš„æ•°æ®æ—¶ï¼Œéƒ½è¦ç»™ä»–åŠ ä¸ŠLï¼ŒæŽ¨èä½¿ç”¨å¤§å†™çš„Lï¼Œå°å†™çš„å®¹æ˜“æ··æ·†long l = 100000000000L; 1234### ç±»åž‹è½¬æ¢**è‡ªåŠ¨è½¬æ¢** // 100 é»˜è®¤æ˜¯intç±»åž‹ï¼Œjavaæ˜¯ä¸€ç§å¼ºç±»åž‹çš„è¯­è¨€ï¼Œç±»åž‹ä¸Žå˜é‡è¦ä¸€è‡´// å°†100è‡ªåŠ¨è½¬æ¢ä¸ºlongç±»åž‹ï¼Œå†èµ‹å€¼ç»™x// ä¸ºä»€ä¹ˆèƒ½å¤Ÿè‡ªåŠ¨è½¬æ¢ï¼Ÿlongç±»åž‹çš„è¡¨æ•°èŒƒå›´å¤§äºŽintç±»åž‹long x = 100; 12**å¼ºåˆ¶è½¬æ¢** double money = 12000.99;// 12000.99-&gt;12000 ç²¾åº¦ä¸¢å¤±// alt + enter è¡¨æ•°èŒƒå›´å¤§çš„èµ‹å€¼ç»™è¡¨æ•°èŒƒå›´å°çš„int money1 = (int) money; 12345678910111213141516171819202122## å¼•ç”¨ç±»åž‹## è¿ç®—ç¬¦ç®—æœ¯è¿ç®—ç¬¦ï¼š+ , -, * / ,% ,++ ,-- // è‡ªå®šä¹‰æ–¹æ³•ï¼Œæ–¹æ³•åop1 // æ–¹æ³•åªæœ‰è¢«è°ƒç”¨ï¼Œæ‰ä¼šæ‰§è¡Œ public static void op1(){ int a = 100; int b = 3; double c = 3.0; // æ•´æ•° é™¤ æ•´æ•° è¿˜æ˜¯æ•´æ•° System.out.println(a/b); // é™¤æ•° ä¸Ž è¢«é™¤æ•°ï¼Œåªè¦æœ‰ä¸€ä¸ªæ˜¯å°æ•°ï¼Œç»“æžœå°±æ˜¯å°æ•° System.out.println(a/c); // % å–ä½™ 100%3=1 System.out.println(a % b); } 12 public static void op2(){ int a = 10; int b = 10; // ++ åœ¨åŽ 10 å…ˆæ‰§è¡Œï¼ŒåŽè¿ç®—ï¼ˆa = a + 1ï¼‰ // a++ =&gt; a = a + 1 System.out.println(a++); // ++ åœ¨å‰ 11 å…ˆè¿ç®—ï¼ŒåŽæ‰§è¡Œ System.out.println(++b); } 1234èµ‹å€¼è¿ç®—ç¬¦=ã€+=ã€*=ã€/=ã€%=; a += 5 =&gt; a = a + 5 1234567891011121314ä½è¿ç®—ç¬¦ï¼š&amp;ã€ |ã€ ~ ã€^ã€ &lt;&lt; ã€&gt;&gt;ã€ &gt;&gt;&gt; äºŒè¿›åˆ¶ä½è¿ç®—æ¯”è¾ƒè¿ç®—ç¬¦&lt;ã€&gt;ã€&gt;=ã€&lt;=ã€!=ï¼ˆä¸ç­‰äºŽï¼‰ã€==ï¼ˆåˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼‰é€»è¾‘è¿ç®—ç¬¦&amp;&amp;ã€ || ã€!ã€ ^ï¼ˆå¼‚æˆ–ï¼‰çŸ­è·¯åŽŸåˆ™ï¼šé€šè¿‡ç¬¬ä¸€ä¸ªå·²ç»å¯ä»¥ç¡®å®šç»“æžœï¼Œå°±ä¸ç”¨å†åˆ¤æ–­ç¬¬äºŒä¸ªäº†ï¼ˆ&amp;&amp; ||ï¼‰ public static void op3(){ // (5&gt;3) true (6&lt;4) false // true &amp;&amp; false =&gt; false // &amp;&amp; å‰åŽä¸¤è¾¹éƒ½ä¸ºtrueæ—¶ï¼Œæ‰ä¸ºtrueï¼Œå…¶ä»–å…¨ä¸ºfalse System.out.println( (5&gt;3) &amp;&amp; (6&lt;4)); // true || false =&gt; true // || å‰åŽä¸¤è¾¹åªè¦æœ‰ä¸€ä¸ªä¸ºtrueæ—¶ï¼Œå°±ä¸ºtrue System.out.println( (5&gt;3) || (6&lt;4)); // ! éžtrueå³false éžfalseå³true System.out.println( !(5&gt;3) ); // ^ // ä¸¤è¾¹ä¸åŒæ—¶ä¸ºtrue System.out.println( (5&gt;3) ^ (6&gt;8)); } 1234ä¸‰ç›®è¿ç®—ç¬¦ æ¡ä»¶? trueçš„å–å€¼ : false çš„å–å€¼ public static void op4(){ int score = 90; // æ¡ä»¶ ï¼Ÿç»“æžœ1 : ç»“æžœ2 // æ¡ä»¶-ã€‹true =ã€‹ç»“æžœ1 // æ¡ä»¶-ã€‹false =ã€‹ç»“æžœ2 System.out.println((score &gt;95) ? â€œä¼˜ç§€â€ :â€ä¸€èˆ¬â€); } 1234ä¼˜å…ˆçº§,,,å°½é‡ç”¨å°æ‹¬å·,,å¼•èµ·,è¿™æ ·**å¯è¯»æ€§æ›´å¥½**## IFè¯­å¥ if æ¡ä»¶{ ifè¯­å¥å—} 12 if æ¡ä»¶{ //true} else { // false} 12 if æ¡ä»¶1{ } else if æ¡ä»¶2{ // æ¡ä»¶2 ä¸ºçœŸï¼ŒåŽç»­æ¡ä»¶3ä¸Želseä¸ä¼šåœ¨æ‰§è¡Œ} else if æ¡ä»¶3{ } else { }â€¦.. 1234## Whileä¸ç¡®å®šå¾ªçŽ¯æ¬¡æ•°çš„ï¼Œé€‚ç”¨äºŽwhileå¾ªçŽ¯ public static void whileDemo(){ boolean isRunning = true; // åˆ›å»ºScannerå¯¹è±¡ï¼Œç”¨äºŽæŽ¥æ”¶é”®ç›˜è¾“å…¥ // å¼€å§‹æŽ¥æ”¶é”®ç›˜è¾“å…¥ï¼Œå¿…é¡»è¾“å…¥å†…å®¹åŽï¼Œä»£ç æ‰èƒ½å‘åŽæ‰§è¡Œ // nextInt è¡¨ç¤ºè¾“å…¥çš„æ˜¯ä¸€ä¸ªæ•´æ•° // å°†è¾“å…¥çš„ä¸€ä¸ªæ•´æ•°èµ‹å€¼ç»™score Scanner scanner = new Scanner(System.in); while(isRunning) { System.out.println(&quot;è¯·è¾“å…¥0-100ä¹‹é—´çš„æ•´æ•°ï¼Œè¾“å…¥-1é€€å‡º&quot;); int score = scanner.nextInt(); if(score == -1) { isRunning = false; } else if(score &lt; 60) { System.out.println(&quot;ä¸åŠæ ¼&quot;); } else if(score &gt;= 60 &amp;&amp; score &lt;75) { System.out.println(&quot;åŠæ ¼&quot;); } else if(score &gt;= 75 &amp;&amp; score &lt; 90) { System.out.println(&quot;è‰¯å¥½&quot;); } else if(score &gt;= 90 &amp;&amp; score &lt;= 100){ System.out.println(&quot;ä¼˜ç§€&quot;); } else { System.out.println(&quot;è¾“å…¥æ•°æ®ä¸åœ¨åŒºé—´å†…&quot;); } } }1234## forç¡®å®šå¾ªçŽ¯æ¬¡æ•°çš„ï¼Œé€‚ç”¨äºŽforå¾ªçŽ¯ // 0 - 100çš„å’Œ public static void main(String[] args) { int sum = 0; // å’Œçš„åˆå§‹å€¼ // fori // i = 0=&gt;0&lt;100 =&gt; æ‰§è¡Œå¾ªçŽ¯sum = 0 + 0 = 0 // i++ =&gt; i=1 =&gt; 1 &lt; 100 =&gt; æ‰§è¡Œå¾ªçŽ¯sum = 0 + 1 = 1 // i++ =&gt; i=2 =&gt; 2&lt; 100 =&gt; æ‰§è¡Œå¾ªçŽ¯sum = 1 + 2 = 3 // for (int i = 0; i &lt;= 100; i++) { sum = sum + i; } System.out.println(sum); } ``` ä½œä¸š1ã€æ±‚1-100æ‰€æœ‰æ•´æ•°çš„çš„å’Œï¼ˆå¤šæ€è€ƒï¼‰ 2ã€è¾“å‡º100ä»¥å†…çš„ç´ æ•° 3ã€è¾“å‡º9x9çš„ä¹˜æ³•è¡¨ 4ã€çŒœæ•°æ¸¸æˆï¼šéšæœºç”Ÿæˆä¸€ä¸ªæ•°ï¼Œç„¶åŽè®©ç”¨æˆ·ä»Žé”®ç›˜è¯»å…¥è¿™ä¸ªæ•°ï¼Œæç¤ºç”¨æˆ·çŒœå¤§äº†è¿˜æ˜¯çŒœå°äº†ï¼Œç›´åˆ°çŒœä¸­ 5ã€ç¼–å†™ä¸€ä¸ªJavaåº”ç”¨ç¨‹åºã€‚ç”¨æˆ·ä»Žé”®ç›˜è¾“å…¥ä¸€ä¸ª1â€”9999ä¹‹é—´çš„æ•°ï¼Œç¨‹åºå°†åˆ¤æ–­è¿™ä¸ªæ•°æ˜¯å‡ ä½æ•°ï¼Œå¹¶åˆ¤æ–­è¿™ä¸ªæ•°æ˜¯å¦æ˜¯å›žæ–‡æ•°ã€‚å›žæ–‡æ•°æ˜¯æŒ‡å°†è¯¥æ•°å«æœ‰çš„æ•°å­—é€†åºæŽ’åˆ—åŽå¾—åˆ°çš„æ•°å’ŒåŽŸæ•°ç›¸åŒï¼Œä¾‹å¦‚12121ã€3223éƒ½æ˜¯å›žæ–‡æ•°]]></content>
      <categories>
        <category>JAVA</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MarkDownåŸºæœ¬è¯­æ³•]]></title>
    <url>%2F2018%2F03%2F12%2FMarkDown%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95%2F</url>
    <content type="text"><![CDATA[Markdown æ˜¯ä»€ä¹ˆï¼Ÿ Markdown æ˜¯ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€ï¼Œåˆ›å§‹äººä¸ºçº¦ç¿°Â·æ ¼é²ä¼¯ï¼ˆJohn Gruberï¼‰ã€‚å®ƒå…è®¸äººä»¬ä½¿ç”¨æ˜“è¯»æ˜“å†™çš„çº¯æ–‡æœ¬æ ¼å¼ç¼–å†™æ–‡æ¡£ï¼Œç„¶åŽè½¬æ¢æˆæœ‰æ•ˆçš„ XHTMLï¼ˆæˆ–è€… HTMLï¼‰æ–‡æ¡£ã€‚è¿™ç§è¯­è¨€å¸æ”¶äº†å¾ˆå¤šåœ¨ç”µå­é‚®ä»¶ä¸­å·²æœ‰çš„çº¯æ–‡æœ¬æ ‡è®°çš„ç‰¹æ€§ã€‚ Markdownçš„åŸºæœ¬è¯­æ³•æ ‡é¢˜å‘½ä»¤ : #+ç©ºæ ¼+æ ‡é¢˜å†…å®¹ ä¾‹å­: 1# æ ‡é¢˜H1## æ ‡é¢˜H2### æ ‡é¢˜H3#### æ ‡é¢˜H4##### æ ‡é¢˜H5###### æ ‡é¢˜H6 æ•ˆæžœï¼š å‘½ä»¤ï¼š æ–œä½“ï¼š+å†…å®¹+ ç²—ä½“ï¼š** + å†…å®¹ +** å³ç²—ä½“åˆæ–œä½“ï¼š** + å†…å®¹ +** åˆ é™¤çº¿ï¼š+å†…å®¹+ ä¾‹å­ï¼š 1*æˆ‘æ˜¯æ–œä½“***æˆ‘æ˜¯ç²—ä½“** ***æˆ‘æ˜¯ç²—æ–œä½“***~~æˆ‘æ˜¯è¢«åˆ é™¤çš„~~ æ•ˆæžœï¼š æˆ‘æ˜¯æ–œä½“æˆ‘æ˜¯ç²—ä½“æˆ‘æ˜¯ç²—æ–œä½“æˆ‘æ˜¯è¢«åˆ é™¤çš„ å¼•ç”¨å‘½ä»¤ï¼š å•è¡Œå¼•ç”¨ï¼š&gt; + ç©ºæ ¼ + å†…å®¹ å¤šè¡Œå¼•ç”¨ï¼š&gt; + ç©ºæ ¼ + å†…å®¹ åµŒå¥—å¼•ç”¨ï¼š&gt;+ ç©ºæ ¼ +ç¬¬ä¸€å±‚å†…å®¹ | &gt;&gt;+ ç©ºæ ¼ +ç¬¬äºŒå±‚å†…å®¹ ï¼Œï¼Œï¼Œ ä¾‹å­ï¼š 1å•è¡Œï¼š&gt; æ˜¥é£Žå¾—æ„é©¬è¹„ç–¾ï¼Œä¸€æ—¥çœ‹å°½é•¿å®‰èŠ±å¤šè¡Œï¼š&gt; åœ¨å¤©æ„¿ä½œæ¯”ç¿¼é¸Ÿï¼Œåœ¨åœ°æ„¿ä¸ºè¿žç†æžã€‚ å¤©é•¿åœ°ä¹…æœ‰æ—¶å°½ï¼Œæ­¤æ¨ç»µç»µæ— ç»æœŸã€‚åµŒå¥—ï¼š&gt; å­æ›° &gt;&gt; å­¦è€Œæ—¶ä¹ ä¹‹ï¼Œä¸äº¦è¯´ä¹Žï¼Ÿæœ‰æœ‹è‡ªè¿œæ–¹æ¥ï¼Œä¸äº¦ä¹ä¹Žï¼Ÿ æ•ˆæžœï¼š å•è¡Œï¼š æ˜¥é£Žå¾—æ„é©¬è¹„ç–¾ï¼Œä¸€æ—¥çœ‹å°½é•¿å®‰èŠ± å¤šè¡Œï¼š åœ¨å¤©æ„¿ä½œæ¯”ç¿¼é¸Ÿï¼Œåœ¨åœ°æ„¿ä¸ºè¿žç†æžã€‚å¤©é•¿åœ°ä¹…æœ‰æ—¶å°½ï¼Œæ­¤æ¨ç»µç»µæ— ç»æœŸã€‚ åµŒå¥—ï¼š å­æ›° å­¦è€Œæ—¶ä¹ ä¹‹ï¼Œä¸äº¦è¯´ä¹Žï¼Ÿæœ‰æœ‹è‡ªè¿œæ–¹æ¥ï¼Œä¸äº¦ä¹ä¹Žï¼Ÿ åˆ—è¡¨å‘½ä»¤ï¼š æ— åºåˆ—è¡¨ï¼š*æˆ–è€…+æˆ–è€…- + ç©ºæ ¼ + å†…å®¹ æœ‰åºåˆ—è¡¨ï¼šæ•°å­— + . +å†…å®¹ åµŒå¥—åˆ—è¡¨ï¼š*æˆ–è€…+æˆ–è€…- æ•°ç›®å¢žåŠ  ä¾‹å­ï¼š 1æ— åºåˆ—è¡¨ï¼š ç¬¬ä¸€ç§ï¼š+ + A + B + C ç¬¬äºŒç§ï¼š* * A * B * C ç¬¬ä¸‰ç§ï¼š- - A - B - C æœ‰åºåˆ—è¡¨ï¼š 1. ç¬¬ä¸€ä¸ª 2. ç¬¬äºŒä¸ª 3. ç¬¬ä¸‰ä¸ªåµŒå¥—åˆ—è¡¨ï¼š - æ°´æžœ -- é¦™è•‰ -- è‹¹æžœ - è”¬èœ -- èåœ -- ç™½èœ - é¢é£Ÿ -- é¦’å¤´ -- é¢æ¡ -- å¤§ç±³ æ•ˆæžœï¼š æ— åºåˆ—è¡¨ï¼š A B C æœ‰åºåˆ—è¡¨ï¼š ç¬¬ä¸€ä¸ª ç¬¬äºŒä¸ª ç¬¬ä¸‰ä¸ª åµŒå¥—åˆ—è¡¨ï¼š æ°´æžœã€‚é¦™è•‰ ã€‚è‹¹æžœ è”¬èœã€‚èåœã€‚ç™½èœ é¢é£Ÿ ã€‚é¦’å¤´ã€‚é¢æ¡ã€‚å¤§ç±³ è¶…é“¾æŽ¥å‘½ä»¤ï¼š è¡Œå†…å¼ï¼š[é“¾æŽ¥æ–‡å­—](åœ°å€+ ç©ºæ ¼ + æ ‡é¢˜) å‚è€ƒå¼ï¼šä¸¤éƒ¨åˆ†ç»„æˆï¼š 1ï¼Œé“¾æŽ¥éƒ¨åˆ†ï¼š[é“¾æŽ¥æ–‡å­—][é“¾æŽ¥åœ°å€] 2ï¼Œé“¾æŽ¥åœ°å€ï¼š[é“¾æŽ¥æ ‡è®°]:+é“¾æŽ¥åœ°å€+ç©ºæ ¼+é¼ æ ‡ç§»åŠ¨ä¸ŠåŽ»çš„æç¤ºæ–‡å­— å›¾ç‰‡é“¾æŽ¥ï¼š![é“¾æŽ¥æ–‡å­—](å›¾ç‰‡åœ°å€+ ç©ºæ ¼ + é¼ æ ‡ç§»åŠ¨ä¸ŠåŽ»çš„æç¤ºæ–‡å­—) ä¾‹å­ï¼š 1è¡Œå†…å¼ï¼š[ç™¾åº¦é¦–é¡µ](https://www.baidu.com/ &quot;è·³è½¬åˆ°ç™¾åº¦é¦–é¡µ&quot;)å‚è€ƒå¼ï¼šæŽ¨èå‡ ä¸ªç½‘ç«™åˆ†åˆ«æ˜¯[GitHub][1]ï¼Œ[ç™¾åº¦][2]ï¼Œ[å“”å“©å“”å“©][3]ã€‚[1]:https://github.com &quot;github.com&quot; &quot;github&quot;[2]:https://www.baidu.com/ &quot;ç™¾åº¦ä¸€ä¸‹&quot;[3]:https://www.bilibili.com/ &quot;å“”å“©å“”å“©&quot;å›¾ç‰‡é“¾æŽ¥ï¼š![åŠ¨æ¼«å›¾ç‰‡ä¸€å¼ ](http://qiniuyun.zouyuhang.club/1.jpg) æ•ˆæžœï¼š è¡Œå†…å¼ï¼šç™¾åº¦é¦–é¡µ å‚è€ƒå¼ï¼šæŽ¨èå‡ ä¸ªç½‘ç«™åˆ†åˆ«æ˜¯GitHubï¼Œç™¾åº¦ï¼Œå“”å“©å“”å“©ã€‚ ä»£ç å‘½ä»¤ï¼š å•è¡Œä»£ç  ï¼š+ å•è¡Œä»£ç å†…å®¹ + å¤šè¡Œä»£ç ï¼š \ 1å¤šè¡Œä»£ç å†…å®¹ + ```**ä¾‹å­ï¼š**~~~c//å•è¡Œä»£ç ``int x = 0;``//å¤šè¡Œä»£ç  int a = 0; a++; 1~~~**æ•ˆæžœï¼š**å•è¡Œä»£ç :``int x = 0;``å¤šè¡Œä»£ç ï¼š```c int a = 0; a++; è¡¨æ ¼å‘½ä»¤ï¼š ä½¿ç”¨| æ¥åˆ†éš”ä¸åŒçš„å•å…ƒæ ¼ï¼Œä½¿ç”¨-æ¥åˆ†éš”è¡¨å¤´å’Œå…¶ä»–è¡Œã€‚ åœ¨è¡¨å¤´ä¸‹æ–¹çš„åˆ†éš”çº¿---æ ‡è®°ä¸­åŠ å…¥:ï¼Œå³å¯æŒ‡å®šå¯¹é½æ–¹å¼ã€‚ :---ä»£è¡¨å·¦å¯¹é½ã€‚ :---: ä»£è¡¨å±…ä¸­å¯¹é½ã€‚ ---:ä»£è¡¨å³å¯¹é½ã€‚ ä¾‹å­ï¼š 1å§“å | å¹´é¾„--- | ---æ•°å­¦ | 18åŽ†å² | 19è¯­æ–‡ | 20ç‰©ç† | 21 æ•ˆæžœï¼š å§“å å¹´é¾„ æ•°å­¦ 18 åŽ†å² 19 è¯­æ–‡ 20 ç‰©ç† 21]]></content>
      <categories>
        <category>MarkDown</category>
      </categories>
      <tags>
        <tag>MarkDown</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2F2018%2F02%2F19%2Fhello-world%2F</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new "My New Post" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment]]></content>
  </entry>
</search>
